(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var gm={exports:{}},Ml={};var L_;function uw(){if(L_)return Ml;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var P_;function cw(){return P_||(P_=1,gm.exports=uw()),gm.exports}var v=cw(),pm={exports:{}},be={};var U_;function hw(){if(U_)return be;U_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function D(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,K={};function ie(M,Z,oe){this.props=M,this.context=Z,this.refs=K,this.updater=oe||F}ie.prototype.isReactComponent={},ie.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ie.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function te(){}te.prototype=ie.prototype;function ne(M,Z,oe){this.props=M,this.context=Z,this.refs=K,this.updater=oe||F}var re=ne.prototype=new te;re.constructor=ne,Y(re,ie.prototype),re.isPureReactComponent=!0;var Ee=Array.isArray;function Ce(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(M,Z,oe){var ce=oe.ref;return{$$typeof:r,type:M,key:Z,ref:ce!==void 0?ce:null,props:oe}}function V(M,Z){return R(M.type,Z,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function P(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return Z[oe]})}var C=/\/+/g;function st(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Z.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ce,Ce):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function W(M,Z,oe,ce,_e){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case T:return Le=M._init,W(Le(M._payload),Z,oe,ce,_e)}}if(Le)return _e=_e(M),Le=ce===""?"."+st(M,0):ce,Ee(_e)?(oe="",Le!=null&&(oe=Le.replace(C,"$&/")+"/"),W(_e,Z,oe,"",function(_s){return _s})):_e!=null&&(k(_e)&&(_e=V(_e,oe+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+Le)),Z.push(_e)),1;Le=0;var kt=ce===""?".":ce+":";if(Ee(M))for(var at=0;at<M.length;at++)ce=M[at],xe=kt+st(ce,at),Le+=W(ce,Z,oe,xe,_e);else if(at=D(M),typeof at=="function")for(M=at.call(M),at=0;!(ce=M.next()).done;)ce=ce.value,xe=kt+st(ce,at++),Le+=W(ce,Z,oe,xe,_e);else if(xe==="object"){if(typeof M.then=="function")return W(Ot(M),Z,oe,ce,_e);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(M,Z,oe){if(M==null)return M;var ce=[],_e=0;return W(M,ce,"","",function(xe){return Z.call(oe,xe,_e++)}),ce}function ge(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ae,forEach:function(M,Z,oe){ae(M,function(){Z.apply(this,arguments)},oe)},count:function(M){var Z=0;return ae(M,function(){Z++}),Z},toArray:function(M){return ae(M,function(Z){return Z})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=b,be.Children=Ge,be.Component=ie,be.Fragment=n,be.Profiler=o,be.PureComponent=ne,be.StrictMode=s,be.Suspense=g,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,Z,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=Y({},M.props),_e=M.key;if(Z!=null)for(xe in Z.key!==void 0&&(_e=""+Z.key),Z)!x.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(ce[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)ce.children=oe;else if(1<xe){for(var Le=Array(xe),kt=0;kt<xe;kt++)Le[kt]=arguments[kt+2];ce.children=Le}return R(M.type,_e,ce)},be.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,Z,oe){var ce,_e={},xe=null;if(Z!=null)for(ce in Z.key!==void 0&&(xe=""+Z.key),Z)x.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=Z[ce]);var Le=arguments.length-2;if(Le===1)_e.children=oe;else if(1<Le){for(var kt=Array(Le),at=0;at<Le;at++)kt[at]=arguments[at+2];_e.children=kt}if(M&&M.defaultProps)for(ce in Le=M.defaultProps,Le)_e[ce]===void 0&&(_e[ce]=Le[ce]);return R(M,xe,_e)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:m,render:M}},be.isValidElement=k,be.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ge}},be.memo=function(M,Z){return{$$typeof:p,type:M,compare:Z===void 0?null:Z}},be.startTransition=function(M){var Z=N.T,oe={};N.T=oe;try{var ce=M(),_e=N.S;_e!==null&&_e(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ce,Ue)}catch(xe){Ue(xe)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),N.T=Z}},be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},be.use=function(M){return N.H.use(M)},be.useActionState=function(M,Z,oe){return N.H.useActionState(M,Z,oe)},be.useCallback=function(M,Z){return N.H.useCallback(M,Z)},be.useContext=function(M){return N.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,Z){return N.H.useDeferredValue(M,Z)},be.useEffect=function(M,Z){return N.H.useEffect(M,Z)},be.useEffectEvent=function(M){return N.H.useEffectEvent(M)},be.useId=function(){return N.H.useId()},be.useImperativeHandle=function(M,Z,oe){return N.H.useImperativeHandle(M,Z,oe)},be.useInsertionEffect=function(M,Z){return N.H.useInsertionEffect(M,Z)},be.useLayoutEffect=function(M,Z){return N.H.useLayoutEffect(M,Z)},be.useMemo=function(M,Z){return N.H.useMemo(M,Z)},be.useOptimistic=function(M,Z){return N.H.useOptimistic(M,Z)},be.useReducer=function(M,Z,oe){return N.H.useReducer(M,Z,oe)},be.useRef=function(M){return N.H.useRef(M)},be.useState=function(M){return N.H.useState(M)},be.useSyncExternalStore=function(M,Z,oe){return N.H.useSyncExternalStore(M,Z,oe)},be.useTransition=function(){return N.H.useTransition()},be.version="19.2.4",be}var z_;function hg(){return z_||(z_=1,pm.exports=hw()),pm.exports}var L=hg(),ym={exports:{}},Vl={},vm={exports:{}},_m={};var B_;function fw(){return B_||(B_=1,(function(r){function e(W,ae){var ge=W.length;W.push(ae);e:for(;0<ge;){var Ue=ge-1>>>1,Ge=W[Ue];if(0<o(Ge,ae))W[Ue]=ae,W[ge]=Ge,ge=Ue;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],ge=W.pop();if(ge!==ae){W[0]=ge;e:for(var Ue=0,Ge=W.length,M=Ge>>>1;Ue<M;){var Z=2*(Ue+1)-1,oe=W[Z],ce=Z+1,_e=W[ce];if(0>o(oe,ge))ce<Ge&&0>o(_e,oe)?(W[Ue]=_e,W[ce]=ge,Ue=ce):(W[Ue]=oe,W[Z]=ge,Ue=Z);else if(ce<Ge&&0>o(_e,ge))W[Ue]=_e,W[ce]=ge,Ue=ce;else break e}}return ae}function o(W,ae){var ge=W.sortIndex-ae.sortIndex;return ge!==0?ge:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,b=null,A=3,D=!1,F=!1,Y=!1,K=!1,ie=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=W)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function Ee(W){if(Y=!1,re(W),!F)if(n(g)!==null)F=!0,Ce||(Ce=!0,P());else{var ae=n(p);ae!==null&&Ot(Ee,ae.startTime-W)}}var Ce=!1,N=-1,x=5,R=-1;function V(){return K?!0:!(r.unstable_now()-R<x)}function k(){if(K=!1,Ce){var W=r.unstable_now();R=W;var ae=!0;try{e:{F=!1,Y&&(Y=!1,te(N),N=-1),D=!0;var ge=A;try{t:{for(re(W),b=n(g);b!==null&&!(b.expirationTime>W&&V());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,A=b.priorityLevel;var Ge=Ue(b.expirationTime<=W);if(W=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,re(W),ae=!0;break t}b===n(g)&&s(g),re(W)}else s(g);b=n(g)}if(b!==null)ae=!0;else{var M=n(p);M!==null&&Ot(Ee,M.startTime-W),ae=!1}}break e}finally{b=null,A=ge,D=!1}ae=void 0}}finally{ae?P():Ce=!1}}}var P;if(typeof ne=="function")P=function(){ne(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,st=C.port2;C.port1.onmessage=k,P=function(){st.postMessage(null)}}else P=function(){ie(k,0)};function Ot(W,ae){N=ie(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var ge=A;A=ae;try{return W()}finally{A=ge}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=A;A=W;try{return ae()}finally{A=ge}},r.unstable_scheduleCallback=function(W,ae,ge){var Ue=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ue+ge:Ue):ge=Ue,W){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,W={id:T++,callback:ae,priorityLevel:W,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>Ue?(W.sortIndex=ge,e(p,W),n(g)===null&&W===n(p)&&(Y?(te(N),N=-1):Y=!0,Ot(Ee,ge-Ue))):(W.sortIndex=Ge,e(g,W),F||D||(F=!0,Ce||(Ce=!0,P()))),W},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(W){var ae=A;return function(){var ge=A;A=ae;try{return W.apply(this,arguments)}finally{A=ge}}}})(_m)),_m}var H_;function dw(){return H_||(H_=1,vm.exports=fw()),vm.exports}var Em={exports:{}},Xt={};var q_;function mw(){if(q_)return Xt;q_=1;var r=hg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},Xt.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:D}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.4",Xt}var F_;function gw(){if(F_)return Em.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=mw(),Em.exports}var G_;function pw(){if(G_)return Vl;G_=1;var r=dw(),e=hg(),n=gw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case K:return"StrictMode";case Ee:return"Suspense";case Ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ne:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Ot=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function Z(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function oe(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ce=M(null),_e=M(null),xe=M(null),Le=M(null);function kt(t,i){switch(oe(xe,i),oe(_e,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=a_(i),t=o_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function at(){Z(ce),Z(_e),Z(xe)}function _s(t){t.memoizedState!==null&&oe(Le,t);var i=ce.current,a=o_(i,t.type);i!==a&&(oe(_e,t),oe(ce,a))}function fa(t){_e.current===t&&(Z(ce),Z(_e)),Le.current===t&&(Z(Le),Nl._currentValue=ge)}var da,ma;function ui(t){if(da===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);da=i&&i[1]||"",ma=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+ma}var No=!1;function Es(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){H=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var I=_.split(`
`),B=S.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===B.length)for(l=I.length-1,f=B.length-1;1<=l&&0<=f&&I[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==B[f]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Do(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return ui("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=Do(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Iu=r.unstable_requestPaint,nn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,vf=r.unstable_LowPriority,Nu=r.unstable_IdlePriority,Du=r.log,Ou=r.unstable_setDisableYieldValue,Gn=null,Bt=null;function In(t){if(typeof Du=="function"&&Ou(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch{}}var gt=Math.clz32?Math.clz32:Mu,ku=Math.log,ga=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(ku(t)/ga|0)|0}var ci=256,bs=262144,Tt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=hi(l):(_&=S,_!==0?f=hi(_):a||(a=S&~t,a!==0&&(f=hi(a))))):(S=l&~d,S!==0?f=hi(S):_!==0?f=hi(_):a||(a=l&~t,a!==0&&(f=hi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _f(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-gt(a),J=1<<Q;S[Q]=0,I[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&ws(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function jo(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function Yn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,mi="__reactContainer$"+Qn,pa="__reactEvents$"+Qn,Tf="__reactListeners$"+Qn,Lu="__reactHandles$"+Qn,Pu="__reactResources$"+Qn,gi="__reactMarker$"+Qn;function ya(t){delete t[bt],delete t[Lt],delete t[pa],delete t[Tf],delete t[Lu]}function pi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[bt])return a;t=m_(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[gi]=!0}var Lo=new Set,Po={};function vi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Po[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Uu(t){return Et.call(Bo,t)?!0:Et.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function va(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function xs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Er(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function an(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Pt(i)):a!=null?qo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function zu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function qo(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Bu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Fo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var Ko=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,Ti=null;function Cs(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xs(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var ba=!1;function Ar(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(wr!==null||Ti!==null)&&(jc(),wr&&(i=wr,t=Ti,Ti=wr=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(On)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Is=!1}var bi=null,Yo=null,Ns=null;function Qo(){if(Ns)return Ns;var t,i=Yo,a=i.length,l,f="value"in bi?bi.value:bi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ns=f.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function $n(){return!1}function Ht(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:$n,this.isPropagationStopped=$n,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(zi),xr=b({},zi,{view:0,detail:0}),Wo=Ht(xr),Rr,Sa,wi,wa=b({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rr=t.screenX-wi.screenX,Sa=t.screenY-wi.screenY):Sa=Rr=0,wi=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),Xo=Ht(wa),Os=b({},wa,{dataTransfer:0}),Fu=Ht(Os),Gu=b({},xr,{relatedTarget:0}),ks=Ht(Gu),$o=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ku=Ht($o),Aa=b({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ht(Aa),Qu=b({},zi,{data:0}),Ai=Ht(Qu),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Cr(){return Ju}var rn=b({},xr,{key:function(t){if(t.key){var i=Wu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Ht(rn),ec=b({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ht(ec),c=b({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Ht(c),E=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(E),U=b({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(U),se=b({},zi,{newState:0,oldState:0}),we=Ht(se),pt=[9,13,27,32],He=On&&"CompositionEvent"in window,ot=null;On&&"documentMode"in document&&(ot=document.documentMode);var kn=On&&"TextEvent"in window&&!ot,xi=On&&(!He||ot&&8<ot&&11>=ot),Jn=" ",Zn=!1;function Ms(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function kb(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function Mb(t,i){if(Ra)return t==="compositionend"||!He&&Ms(t,i)?(t=Qo(),Ns=Yo=bi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vb[t.type]:i==="textarea"}function vp(t,i,a,l){wr?Ti?Ti.push(l):Ti=[l]:wr=l,i=qc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Zo=null;function jb(t){e_(t,0)}function tc(t){var i=pn(t);if(xs(i))return t}function _p(t,i){if(t==="change")return i}var Ep=!1;if(On){var bf;if(On){var Sf="oninput"in document;if(!Sf){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Sf=typeof Tp.oninput=="function"}bf=Sf}else bf=!1;Ep=bf&&(!document.documentMode||9<document.documentMode)}function bp(){Jo&&(Jo.detachEvent("onpropertychange",Sp),Zo=Jo=null)}function Sp(t){if(t.propertyName==="value"&&tc(Zo)){var i=[];vp(i,Zo,t,Dn(t)),Ar(jb,i)}}function Lb(t,i,a){t==="focusin"?(bp(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",Sp)):t==="focusout"&&bp()}function Pb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(Zo)}function Ub(t,i){if(t==="click")return tc(i)}function zb(t,i){if(t==="input"||t==="change")return tc(i)}function Bb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:Bb;function el(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(i,f)||!vn(t[f],i[f]))return!1}return!0}function wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ap(t,i){var a=wp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wp(a)}}function xp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Hb=On&&"documentMode"in document&&11>=document.documentMode,Ca=null,Af=null,tl=null,xf=!1;function Cp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Ca==null||Ca!==Ei(l)||(l=Ca,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=qc(Af,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Rf={},Ip={};On&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function js(t){if(Rf[t])return Rf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ip)return Rf[t]=i[a];return t}var Np=js("animationend"),Dp=js("animationiteration"),Op=js("animationstart"),qb=js("transitionrun"),Fb=js("transitionstart"),Gb=js("transitioncancel"),kp=js("transitionend"),Mp=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function ei(t,i){Mp.set(t,i),vi(i,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Na=0,If=0;function ic(){for(var t=Na,i=If=Na=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var f=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Vp(a,f,d)}}function rc(t,i,a,l){Mn[Na++]=t,Mn[Na++]=i,Mn[Na++]=a,Mn[Na++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,a,l){return rc(t,i,a,l),sc(t)}function Ls(t,i){return rc(t,null,null,i),sc(t)}function Vp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(t){if(50<Sl)throw Sl=0,Ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function Kb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new Kb(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ac(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Df(t)&&(_=1);else if(typeof t=="string")_=$S(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,f),t.elementType=R,t.lanes=d,t;case Y:return Ps(a.children,f,d,i);case K:_=8,f|=24;break;case ie:return t=_n(12,a,i,f|2),t.elementType=ie,t.lanes=d,t;case Ee:return t=_n(13,a,i,f),t.elementType=Ee,t.lanes=d,t;case Ce:return t=_n(19,a,i,f),t.elementType=Ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case te:_=9;break e;case re:_=11;break e;case N:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ps(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Lp(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function kf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Pp=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Pp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Pp.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Oa=[],ka=0,oc=null,nl=0,jn=[],Ln=0,Ir=null,Ri=1,Ci="";function qi(t,i){Oa[ka++]=nl,Oa[ka++]=oc,oc=t,nl=i}function Up(t,i,a){jn[Ln++]=Ri,jn[Ln++]=Ci,jn[Ln++]=Ir,Ir=t;var l=Ri;t=Ci;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-gt(i)+f|a<<f|l,Ci=d+t}else Ri=1<<d|a<<f|l,Ci=t}function Mf(t){t.return!==null&&(qi(t,1),Up(t,1,0))}function Vf(t){for(;t===oc;)oc=Oa[--ka],Oa[ka]=null,nl=Oa[--ka],Oa[ka]=null;for(;t===Ir;)Ir=jn[--Ln],jn[Ln]=null,Ci=jn[--Ln],jn[Ln]=null,Ri=jn[--Ln],jn[Ln]=null}function zp(t,i){jn[Ln++]=Ri,jn[Ln++]=Ci,jn[Ln++]=Ir,Ri=i.id,Ci=i.overflow,Ir=t}var qt=null,nt=null,je=!1,Nr=null,Pn=!1,jf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Vn(i,t)),jf}function Bp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ne(Al[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),zu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||r_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||Dr(t,!0)}function Hp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qt=qt.return}}function Ma(t){if(t!==qt)return!1;if(!je)return Hp(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&nt&&Dr(t),Hp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=d_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=d_(t)}else i===27?(i=nt,Gr(t.type)?(t=sm,sm=null,nt=t):nt=i):nt=qt?zn(t.stateNode.nextSibling):null;return!0}function Us(){nt=qt=null,je=!1}function Lf(){var t=Nr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Nr=null),t}function il(t){Nr===null?Nr=[t]:Nr.push(t)}var Pf=M(null),zs=null,Fi=null;function Or(t,i,a){oe(Pf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Pf.current,Z(Pf)}function Uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Uf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Uf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Va(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;vn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}f=f.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return qp(zs,t)}function uc(t,i){return zs===null&&Bs(t),qp(t,i)}function qp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var Yb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Qb=r.unstable_scheduleCallback,Wb=r.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new Yb,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Qb(Wb,function(){t.controller.abort()})}var sl=null,Hf=0,ja=0,La=null;function Xb(t,i){if(sl===null){var a=sl=[];Hf=0,ja=Gd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Fp,Fp),i}function Fp(){if(--Hf===0&&sl!==null){La!==null&&(La.status="fulfilled");var t=sl;sl=null,ja=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $b(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Gp=W.S;W.S=function(t,i){Cv=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Xb(t,i),Gp!==null&&Gp(t,i)};var Hs=M(null);function qf(){var t=Hs.current;return t!==null?t:et.pooledCache}function cc(t,i){i===null?oe(Hs,Hs.current):oe(Hs,i.pool)}function Kp(){var t=qf();return t===null?null:{parent:At._currentValue,pool:t}}var Pa=Error(s(460)),Ff=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function Yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wn,Wn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xp(t),t;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Xp(t),t}throw Fs=i,Pa}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Pa):a}}var Fs=null;function Wp(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function Xp(t){if(t===Pa||t===hc)throw Error(s(483))}var Ua=null,al=0;function dc(t){var i=al;return al+=1,Ua===null&&(Ua=[]),Qp(Ua,t,i)}function ol(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function $p(t){function i(j,O){if(t){var z=j.deletions;z===null?(j.deletions=[O],j.flags|=16):z.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function f(j,O){return j=Hi(j,O),j.index=0,j.sibling=null,j}function d(j,O,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<O?(j.flags|=67108866,O):z):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,O,z,X){return O===null||O.tag!==6?(O=Of(z,j.mode,X),O.return=j,O):(O=f(O,z),O.return=j,O)}function I(j,O,z,X){var de=z.type;return de===Y?Q(j,O,z.props.children,X,z.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&qs(de)===O.type)?(O=f(O,z.props),ol(O,z),O.return=j,O):(O=ac(z.type,z.key,z.props,null,j.mode,X),ol(O,z),O.return=j,O)}function B(j,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=kf(z,j.mode,X),O.return=j,O):(O=f(O,z.children||[]),O.return=j,O)}function Q(j,O,z,X,de){return O===null||O.tag!==7?(O=Ps(z,j.mode,X,de),O.return=j,O):(O=f(O,z),O.return=j,O)}function J(j,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Of(""+O,j.mode,z),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return z=ac(O.type,O.key,O.props,null,j.mode,z),ol(z,O),z.return=j,z;case F:return O=kf(O,j.mode,z),O.return=j,O;case x:return O=qs(O),J(j,O,z)}if(Ot(O)||P(O))return O=Ps(O,j.mode,z,null),O.return=j,O;if(typeof O.then=="function")return J(j,dc(O),z);if(O.$$typeof===ne)return J(j,uc(j,O),z);mc(j,O)}return null}function H(j,O,z,X){var de=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:S(j,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===de?I(j,O,z,X):null;case F:return z.key===de?B(j,O,z,X):null;case x:return z=qs(z),H(j,O,z,X)}if(Ot(z)||P(z))return de!==null?null:Q(j,O,z,X,null);if(typeof z.then=="function")return H(j,O,dc(z),X);if(z.$$typeof===ne)return H(j,O,uc(j,z),X);mc(j,z)}return null}function G(j,O,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(z)||null,S(O,j,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case D:return j=j.get(X.key===null?z:X.key)||null,I(O,j,X,de);case F:return j=j.get(X.key===null?z:X.key)||null,B(O,j,X,de);case x:return X=qs(X),G(j,O,z,X,de)}if(Ot(X)||P(X))return j=j.get(z)||null,Q(O,j,X,de,null);if(typeof X.then=="function")return G(j,O,z,dc(X),de);if(X.$$typeof===ne)return G(j,O,z,uc(O,X),de);mc(O,X)}return null}function he(j,O,z,X){for(var de=null,ze=null,fe=O,Re=O=0,Oe=null;fe!==null&&Re<z.length;Re++){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var Be=H(j,fe,z[Re],X);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&i(j,fe),O=d(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Re===z.length)return a(j,fe),je&&qi(j,Re),de;if(fe===null){for(;Re<z.length;Re++)fe=J(j,z[Re],X),fe!==null&&(O=d(fe,O,Re),ze===null?de=fe:ze.sibling=fe,ze=fe);return je&&qi(j,Re),de}for(fe=l(fe);Re<z.length;Re++)Oe=G(fe,j,Re,z[Re],X),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Re:Oe.key),O=d(Oe,O,Re),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function(Xr){return i(j,Xr)}),je&&qi(j,Re),de}function pe(j,O,z,X){if(z==null)throw Error(s(151));for(var de=null,ze=null,fe=O,Re=O=0,Oe=null,Be=z.next();fe!==null&&!Be.done;Re++,Be=z.next()){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var Xr=H(j,fe,Be.value,X);if(Xr===null){fe===null&&(fe=Oe);break}t&&fe&&Xr.alternate===null&&i(j,fe),O=d(Xr,O,Re),ze===null?de=Xr:ze.sibling=Xr,ze=Xr,fe=Oe}if(Be.done)return a(j,fe),je&&qi(j,Re),de;if(fe===null){for(;!Be.done;Re++,Be=z.next())Be=J(j,Be.value,X),Be!==null&&(O=d(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be);return je&&qi(j,Re),de}for(fe=l(fe);!Be.done;Re++,Be=z.next())Be=G(fe,j,Re,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Re:Be.key),O=d(Be,O,Re),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(lw){return i(j,lw)}),je&&qi(j,Re),de}function Ze(j,O,z,X){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:e:{for(var de=z.key;O!==null;){if(O.key===de){if(de=z.type,de===Y){if(O.tag===7){a(j,O.sibling),X=f(O,z.props.children),X.return=j,j=X;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&qs(de)===O.type){a(j,O.sibling),X=f(O,z.props),ol(X,z),X.return=j,j=X;break e}a(j,O);break}else i(j,O);O=O.sibling}z.type===Y?(X=Ps(z.props.children,j.mode,X,z.key),X.return=j,j=X):(X=ac(z.type,z.key,z.props,null,j.mode,X),ol(X,z),X.return=j,j=X)}return _(j);case F:e:{for(de=z.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(j,O.sibling),X=f(O,z.children||[]),X.return=j,j=X;break e}else{a(j,O);break}else i(j,O);O=O.sibling}X=kf(z,j.mode,X),X.return=j,j=X}return _(j);case x:return z=qs(z),Ze(j,O,z,X)}if(Ot(z))return he(j,O,z,X);if(P(z)){if(de=P(z),typeof de!="function")throw Error(s(150));return z=de.call(z),pe(j,O,z,X)}if(typeof z.then=="function")return Ze(j,O,dc(z),X);if(z.$$typeof===ne)return Ze(j,O,uc(j,z),X);mc(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(j,O.sibling),X=f(O,z),X.return=j,j=X):(a(j,O),X=Of(z,j.mode,X),X.return=j,j=X),_(j)):a(j,O)}return function(j,O,z,X){try{al=0;var de=Ze(j,O,z,X);return Ua=null,de}catch(fe){if(fe===Pa||fe===hc)throw fe;var ze=_n(29,fe,null,j.mode);return ze.lanes=X,ze.return=j,ze}}}var Gs=$p(!0),Jp=$p(!1),kr=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=sc(t),Vp(t,null,a),i}return rc(t,l,i,a),sc(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qf=!1;function ul(){if(Qf){var t=La;if(t!==null)throw t}}function cl(t,i,a,l){Qf=!1;var f=t.updateQueue;kr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,B=I.next;I.next=null,_===null?d=B:_.next=B,_=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=I))}if(d!==null){var J=f.baseState;_=0,Q=B=I=null,S=d;do{var H=S.lane&-536870913,G=H!==S.lane;if(G?(De&H)===H:(l&H)===H){H!==0&&H===ja&&(Qf=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,pe=S;H=i;var Ze=a;switch(pe.tag){case 1:if(he=pe.payload,typeof he=="function"){J=he.call(Ze,J,H);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,H=typeof he=="function"?he.call(Ze,J,H):he,H==null)break e;J=b({},J,H);break e;case 2:kr=!0}}H=S.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=G,I=J):Q=Q.next=G,_|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(I=J),f.baseState=I,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=J}}function Zp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ey(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zp(a[t],i)}var za=M(null),gc=M(0);function ty(t,i){t=er,oe(gc,t),oe(za,i),er=t|i.baseLanes}function Wf(){oe(gc,er),oe(za,za.current)}function Xf(){er=gc.current,Z(za),Z(gc)}var En=M(null),Un=null;function jr(t){var i=t.alternate;oe(yt,yt.current&1),oe(En,t),Un===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Un=t)}function $f(t){oe(yt,yt.current),oe(En,t),Un===null&&(Un=t)}function ny(t){t.tag===22?(oe(yt,yt.current),oe(En,t),Un===null&&(Un=t)):Lr()}function Lr(){oe(yt,yt.current),oe(En,En.current)}function Tn(t){Z(En),Un===t&&(Un=null),Z(yt)}var yt=M(0);function pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Ae=null,$e=null,xt=null,yc=!1,Ba=!1,Ks=!1,vc=0,hl=0,Ha=null,Jb=0;function ft(){throw Error(s(321))}function Jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,f,d){return Ki=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Uy:md,Ks=!1,d=a(l,f),Ks=!1,Ba&&(d=ry(i,a,l,f)),iy(t),d}function iy(t){W.H=ml;var i=$e!==null&&$e.next!==null;if(Ki=0,xt=$e=Ae=null,yc=!1,hl=0,Ha=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&lc(t)&&(Rt=!0))}function ry(t,i,a,l){Ae=t;var f=0;do{if(Ba&&(Ha=null),hl=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,xt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=zy,d=i(a,l)}while(Ba);return d}function Zb(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ae.flags|=1024),i}function ed(){var t=vc!==0;return vc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Ki=0,xt=$e=Ae=null,Ba=!1,hl=vc=0,Ha=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ae.memoizedState=xt=t:xt=xt.next=t,xt}function vt(){if($e===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=xt===null?Ae.memoizedState:xt.next;if(i!==null)xt=i,$e=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},xt===null?Ae.memoizedState=xt=t:xt=xt.next=t}return xt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Ha===null&&(Ha=[]),t=Qp(Ha,t,i),i=Ae,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Uy:md),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ne)return Ft(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=vt();return rd(i,$e,t)}function rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,I=null,B=i,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(De&J)===J:(Ki&J)===J){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===ja&&(Q=!0);else if((Ki&H)===H){B=B.next,H===ja&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=J,_=d):I=I.next=J,Ae.lanes|=H,zr|=H;J=B.action,Ks&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=H,_=d):I=I.next=H,Ae.lanes|=J,zr|=J;B=B.next}while(B!==null&&B!==i);if(I===null?_=d:I.next=S,!vn(d,t.memoizedState)&&(Rt=!0,Q&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);vn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(t,i,a){var l=Ae,f=vt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn(($e||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,ld(ly.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},oy.bind(null,l,f,a,i),null),et===null)throw Error(s(349));d||(Ki&127)!==0||ay(l,i,a)}return a}function ay(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=_c(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function oy(t,i,a,l){i.value=a,i.getSnapshot=l,uy(i)&&cy(t)}function ly(t,i,a){return a(function(){uy(i)&&cy(t)})}function uy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function cy(t){var i=Ls(t,2);i!==null&&fn(i,t,2)}function ad(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ks){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function hy(t,i,a,l){return t.baseState=a,rd(t,$e,typeof l=="function"?l:Yi)}function eS(t,i,a,l,f){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,fy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function fy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),I=W.S;I!==null&&I(_,S),dy(t,i,S)}catch(B){od(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),W.T=d}}else try{d=a(f,l),dy(t,i,d)}catch(B){od(t,i,B)}}function dy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,i,l)},function(l){return od(t,i,l)}):my(t,i,a)}function my(t,i,a){i.status="fulfilled",i.value=a,gy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,fy(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gy(i),i=i.next;while(i!==l)}t.action=null}function gy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function py(t,i){return i}function yy(t,i){if(je){var a=et.formState;if(a!==null){e:{var l=Ae;if(je){if(nt){t:{for(var f=nt,d=Pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=zn(f.nextSibling),l=f.data==="F!";break e}}Dr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:i},a.queue=l,a=jy.bind(null,Ae,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Ae,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=eS.bind(null,Ae,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function vy(t){var i=vt();return _y(i,$e,t)}function _y(t,i,a){if(i=rd(t,i,py)[0],t=Tc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(_){throw _===Pa?hc:_}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,qa(9,{destroy:void 0},tS.bind(null,f,a),null)),[l,d,t]}function tS(t,i){t.action=i}function Ey(t){var i=vt(),a=$e;if(a!==null)return _y(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=_c(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ty(){return vt().memoizedState}function bc(t,i,a,l){var f=sn();Ae.flags|=t,f.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;$e!==null&&l!==null&&Jf(l,$e.memoizedState.deps)?f.memoizedState=qa(i,d,a,l):(Ae.flags|=t,f.memoizedState=qa(1|i,d,a,l))}function by(t,i){bc(8390656,8,t,i)}function ld(t,i){Sc(2048,8,t,i)}function nS(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=_c(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Sy(t){var i=vt().memoizedState;return nS({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function wy(t,i){return Sc(4,2,t,i)}function Ay(t,i){return Sc(4,4,t,i)}function xy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ry(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,xy.bind(null,i,t),a)}function ud(){}function Cy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Iy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=t(),Ks){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Nv(),Ae.lanes|=t,zr|=t,a)}function Ny(t,i,a,l){return vn(a,i)?a:za.current!==null?(t=cd(t,a,l),vn(t,i)||(Rt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=Nv(),Ae.lanes|=t,zr|=t,i)}function Dy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,dd(t,!1,i,a);try{var I=f(),B=W.S;if(B!==null&&B(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=$b(I,l);dl(t,i,Q,wn(t))}else dl(t,i,l,wn(t))}catch(J){dl(t,i,{then:function(){},status:"rejected",reason:J},wn())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),W.T=_}}function iS(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Oy(t).queue;Dy(t,f,i,ge,a===null?iS:function(){return ky(t),a(l)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ky(t){var i=Oy(t);i.next===null&&(i=t.alternate.memoizedState),dl(t,i.next.queue,{},wn())}function fd(){return Ft(Nl)}function My(){return vt().memoizedState}function Vy(){return vt().memoizedState}function rS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(fn(l,i,a),ll(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function sS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?Ly(i,a):(a=Nf(t,i,a,l),a!==null&&(fn(a,t,l),Py(a,i,l)))}function jy(t,i,a){var l=wn();dl(t,i,a,l)}function dl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))Ly(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,_))return rc(t,i,f,0),et===null&&ic(),!1}catch{}if(a=Nf(t,i,f,l),a!==null)return fn(a,t,l),Py(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=Nf(t,a,l,2),i!==null&&fn(i,t,2)}function wc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Ly(t,i){Ba=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var ml={readContext:Ft,use:Ec,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};ml.useEffectEvent=ft;var Uy={readContext:Ft,use:Ec,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:by,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,xy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ks){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Ks){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=sS.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=jy.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=sn();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=Dy.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ae,f=sn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||ay(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,by(ly.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},oy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(je){var a=Ci,l=Ri;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Jb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:yy,useActionState:yy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return sn().memoizedState=rS.bind(null,Ae)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Ft,use:Ec,useCallback:Cy,useContext:Ft,useEffect:ld,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:Iy,useReducer:Tc,useRef:Ty,useState:function(){return Tc(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=vt();return Ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=Tc(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:fd,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=vt();return hy(a,$e,t,i)},useMemoCache:id,useCacheRefresh:Vy};md.useEffectEvent=Sy;var zy={readContext:Ft,use:Ec,useCallback:Cy,useContext:Ft,useEffect:ld,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Ay,useMemo:Iy,useReducer:sd,useRef:Ty,useState:function(){return sd(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=vt();return $e===null?cd(a,t,i):Ny(a,$e.memoizedState,t,i)},useTransition:function(){var t=sd(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:sy,useId:My,useHostTransitionStatus:fd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var a=vt();return $e!==null?hy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Vy};zy.useEffectEvent=Sy;function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Mr(l);f.payload=i,a!=null&&(f.callback=a),i=Vr(t,f,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Mr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Vr(t,f,l),i!==null&&(fn(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(fn(i,t,a),ll(i,t,a))}};function By(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(f,d):!0}function Hy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function qy(t){nc(t)}function Fy(t){console.error(t)}function Gy(t){nc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function Yy(t){return t=Mr(t),t.tag=3,t}function Qy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ky(i,a,l),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function aS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Lc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,f)),!1}throw Error(s(435,a.tag))}return Hd(t,l,f),Lc(),!1}if(je)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==jf&&(t=Error(s(422),{cause:l}),il(Vn(t,a)))):(l!==jf&&(i=Error(s(423),{cause:l}),il(Vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Vn(l,a),f=yd(t.stateNode,l,f),Yf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),bl===null?bl=[d]:bl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Yy(f),Qy(f,t,a,l),Yf(a,f),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Rt=!1;function Gt(t,i,a,l){i.child=t===null?Jp(i,null,a,l):Gs(i,t.child,a,l)}function Wy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Bs(i),l=Zf(t,i,a,_,d,f),S=ed(),t!==null&&!Rt?(td(t,i,f),Qi(t,i,f)):(je&&S&&Mf(i),i.flags|=1,Gt(t,i,l,f),i.child)}function Xy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$y(t,i,d,l,f)):(t=ac(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,l)&&t.ref===i.ref)return Qi(t,i,f)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function $y(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,xd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Qi(t,i,f)}return _d(t,i,a,l,f)}function Jy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Zy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(i,d!==null?d.cachePool:null),d!==null?ty(i,d):Wf(),ny(i);else return l=i.lanes=536870912,Zy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),ty(i,d),Lr(),i.memoizedState=null):(t!==null&&cc(i,null),Wf(),Lr());return Gt(t,i,f,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zy(t,i,a,l,f){var d=qf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cc(i,null),Wf(),ny(i),t!==null&&Va(t,i,l,!0),i.childLanes=f,null}function xc(t,i){return i=Cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function ev(t,i,a){return Gs(i,t.child,null,a),t=xc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function oS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=xc(i,l),i.lanes=536870912,gl(null,t);if($f(i),(t=nt)?(t=f_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return xc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),f)if(i.flags&256)i.flags&=-257,i=ev(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||Va(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=et,l!==null&&(_=jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(t,_),fn(l,t,_),vd;Lc(),i=ev(t,i,a)}else t=d.treeContext,nt=zn(_.nextSibling),qt=i,je=!0,Nr=null,Pn=!1,t!==null&&zp(i,t),i=xc(i,l),i.flags|=4096;return i}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function _d(t,i,a,l,f){return Bs(i),a=Zf(t,i,a,l,void 0,f),l=ed(),t!==null&&!Rt?(td(t,i,f),Qi(t,i,f)):(je&&l&&Mf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function tv(t,i,a,l,f,d){return Bs(i),i.updateQueue=null,a=ry(i,l,a,f),iy(t),l=ed(),t!==null&&!Rt?(td(t,i,d),Qi(t,i,d)):(je&&l&&Mf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function nv(t,i,a,l,f){if(Bs(i),i.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Da,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),cl(i,l,d,f),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,I=Ys(a,S);d.props=I;var B=d.context,Q=a.contextType;_=Da,typeof Q=="object"&&Q!==null&&(_=Ft(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Hy(i,d,l,_),kr=!1;var H=i.memoizedState;d.state=H,cl(i,l,d,f),ul(),B=i.memoizedState,S||H!==B||kr?(typeof J=="function"&&(gd(i,a,J,l),B=i.memoizedState),(I=kr||By(i,a,I,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),_=i.memoizedProps,Q=Ys(a,_),d.props=Q,J=i.pendingProps,H=d.context,B=a.contextType,I=Da,typeof B=="object"&&B!==null&&(I=Ft(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==I)&&Hy(i,d,l,I),kr=!1,H=i.memoizedState,d.state=H,cl(i,l,d,f),ul();var G=i.memoizedState;_!==J||H!==G||kr||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),G=i.memoizedState),(Q=kr||By(i,a,Q,l,H,G,I)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,f),i.child=Gs(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Qi(t,i,f),t}function iv(t,i,a,l){return Us(),i.flags|=256,Gt(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Kp()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function rv(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(f?jr(i):Lr(),(t=nt)?(t=f_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Lp(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Dr(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Lr(),f=i.mode,S=Cc({mode:"hidden",children:S},f),l=Ps(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,gl(null,l)):(jr(i),Sd(i,S))}var I=t.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=wd(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),S=l.fallback,f=i.mode,l=Cc({mode:"visible",children:l.children},f),S=Ps(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,i=gl(null,l));else if(jr(i),rm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),i=wd(t,i,a)}else if(Rt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=jo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ls(t,l),fn(_,t,l),vd;im(S)||Lc(),i=wd(t,i,a)}else im(S)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=zn(S.nextSibling),qt=i,je=!0,Nr=null,Pn=!1,t!==null&&zp(i,t),i=Sd(i,l.children),i.flags|=4096);return i}return f?(Lr(),S=l.fallback,f=i.mode,I=t.child,B=I.sibling,l=Hi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?S=Hi(B,S):(S=Ps(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,gl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Td(a):(f=S.cachePool,f!==null?(I=At._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=Kp(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=bd(t,_,a),i.memoizedState=Ed,gl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=Cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Cc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function wd(t,i,a){return Gs(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Uf(t.return,i,a)}function Ad(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function av(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(yt,_),Gt(t,i,l,a),l=je?nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sv(t,a,i);else if(t.tag===19)sv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ad(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&pc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ad(i,!0,a,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function lS(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Or(i,At,t.memoizedState.cache),Us();break;case 27:case 5:_s(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?rv(t,i,a):(jr(i),t=Qi(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return av(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Jy(t,i,a,i.pendingProps);case 24:Or(i,At,t.memoizedState.cache)}return Qi(t,i,a)}function ov(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return Rt=!1,lS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,je&&(i.flags&1048576)!==0&&Up(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=Ys(t,l),i.tag=1,i=nv(null,i,t,l,a)):(i.tag=0,i=_d(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){i.tag=11,i=Wy(null,i,t,l,a);break e}else if(f===N){i.tag=14,i=Xy(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ys(l,i.pendingProps),nv(t,i,l,f,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Kf(t,i),cl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,At,l),l!==d.cache&&zf(i,[At],a,!0),ul(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=iv(t,i,l,a);break e}else if(l!==f){f=Vn(Error(s(424)),i),il(f),i=iv(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=zn(t.firstChild),qt=i,je=!0,Nr=null,Pn=!0,a=Jp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===f){i=Qi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Rc(t,i),t===null?(a=v_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Fc(xe.current).createElement(a),l[bt]=i,l[Lt]=t,Kt(l,a,t),St(l),i.stateNode=l):i.memoizedState=v_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&je&&(l=i.stateNode=g_(i.type,i.pendingProps,xe.current),qt=i,Pn=!0,f=nt,Gr(i.type)?(sm=f,nt=zn(l.firstChild)):nt=f),Gt(t,i,i.pendingProps.children,a),Rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((f=l=nt)&&(l=PS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qt=i,nt=zn(l.firstChild),Pn=!1,f=!0):f=!1),f||Dr(i)),_s(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(f,d)?l=null:_!==null&&em(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,Zb,null,null,a),Nl._currentValue=f),Rc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=nt)&&(a=US(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return rv(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Wy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Bs(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Xy(t,i,i.type,i.pendingProps,a);case 15:return $y(t,i,i.type,i.pendingProps,a);case 19:return av(t,i,a);case 31:return oS(t,i,a);case 22:return Jy(t,i,a,i.pendingProps);case 24:return Bs(i),l=Ft(At),t===null?(f=qf(),f===null&&(f=et,d=Bf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Or(i,At,f)):((t.lanes&a)!==0&&(Kf(t,i),cl(i,null,null,a),ul()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Or(i,At,l)):(l=d.cache,Or(i,At,l),l!==f.cache&&zf(i,[At],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Rd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Mv())t.flags|=8192;else throw Fs=fc,Ff}else t.flags&=-16777217}function lv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(i))if(Mv())t.flags|=8192;else throw Fs=fc,Ff}function Ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,Ya|=i)}function pl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function uS(t,i,a){var l=i.pendingProps;switch(Vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),it(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(it(i),lv(i,d)):(it(i),Rd(i,f,null,l,a))):d?d!==t.memoizedState?(Wi(i),it(i),lv(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),it(i),Rd(i,f,t,l,a)),null;case 27:if(fa(i),a=xe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ce.current,Ma(i)?Bp(i):(t=g_(f,l,a),i.stateNode=t,Wi(i))}return it(i),null;case 5:if(fa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ce.current,Ma(i))Bp(i);else{var _=Fc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return it(i),Rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||r_(t.nodeValue,a)),t||Dr(i,!0)}else t=Fc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&Wd(i.stateNode.containerInfo),it(i),null;case 10:return Gi(i.type),it(i),null;case 19:if(Z(yt),l=i.memoizedState,l===null)return it(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)pl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,Ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jp(a,t),a=a.sibling;return oe(yt,yt.current&1|2),je&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Mc&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304)}else{if(!f)if(t=pc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ic(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return it(i),null}else 2*nn()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=yt.current,oe(yt,f?a&1|2:a&1),je&&qi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Tn(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cS(t,i){switch(Vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(yt),null;case 4:return at(),null;case 10:return Gi(i.type),null;case 22:case 23:return Tn(i),Xf(),t!==null&&Z(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(At),null;case 25:return null;default:return null}}function uv(t,i){switch(Vf(i),i.tag){case 3:Gi(At),at();break;case 26:case 27:case 5:fa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(yt);break;case 10:Gi(i.type);break;case 22:case 23:Tn(i),Xf(),t!==null&&Z(Hs);break;case 24:Gi(At)}}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Qe(i,i.return,S)}}function Pr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var I=a,B=S;try{B()}catch(Q){Qe(f,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){Qe(i,i.return,Q)}}function cv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ey(i,a)}catch(l){Qe(t,t.return,l)}}}function hv(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,i,f)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,i,f)}else a.current=null}function fv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function Cd(t,i,a){try{var l=t.stateNode;OS(l,t.type,a,i),l[Lt]=i}catch(f){Qe(t,t.return,f)}}function dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wn));else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function mv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Qe(t,t.return,d)}}var Xi=!1,Ct=!1,Dd=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function hS(t,i){if(t=t.containerInfo,Jd=$c,t=Rp(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,I=-1,B=0,Q=0,J=t,H=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(S=_+f),J!==d||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===t)break t;if(H===a&&++B===f&&(S=_),H===d&&++Q===l&&(I=_),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},$c=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ys(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function pv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),l&4&&yl(5,a);break;case 1:if(Ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&cv(a),l&512&&vl(a,a.return);break;case 3:if(Ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ey(t,i)}catch(_){Qe(a,a.return,_)}}break;case 27:i===null&&l&4&&mv(a);case 26:case 5:Ji(t,a),i===null&&l&4&&fv(a),l&512&&vl(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),l&4&&_v(t,a);break;case 13:Ji(t,a),l&4&&Ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ES.bind(null,a),zS(t,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ct,f=Xi;var d=Ct;Xi=l,(Ct=i)&&!d?Zi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),Xi=f,Ct=d}break;case 30:break;default:Ji(t,a)}}function yv(t){var i=t.alternate;i!==null&&(t.alternate=null,yv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function $i(t,i,a){for(a=a.child;a!==null;)vv(t,i,a),a=a.sibling}function vv(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ct||Ii(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ii(a,i);var l=lt,f=ln;Gr(a.type)&&(lt=a.stateNode,ln=!1),$i(t,i,a),Rl(a.stateNode),lt=l,ln=f;break;case 5:Ct||Ii(a,i);case 6:if(l=lt,f=ln,lt=null,$i(t,i,a),lt=l,ln=f,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Qe(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Qe(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):c_(lt,a.stateNode));break;case 4:l=lt,f=ln,lt=a.stateNode.containerInfo,ln=!0,$i(t,i,a),lt=l,ln=f;break;case 0:case 11:case 14:case 15:Pr(2,a,i),Ct||Pr(4,a,i),$i(t,i,a);break;case 1:Ct||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hv(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,$i(t,i,a),Ct=l;break;default:$i(t,i,a)}}function _v(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){Qe(i,i.return,a)}}}function Ev(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){Qe(i,i.return,a)}}function fS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gv),i;default:throw Error(s(435,t.tag))}}function Dc(t,i){var a=fS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=TS.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Gr(S.type)){lt=S.stateNode,ln=!1;break e}break;case 5:lt=S.stateNode,ln=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(lt===null)throw Error(s(160));vv(d,_,f),lt=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Tv(i,t),i=i.sibling}var ti=null;function Tv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Pr(3,t,t.return),yl(3,t),Pr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=T_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=T_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else b_(f,t.type,t.stateNode);else t.stateNode=E_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?b_(f,t.type,t.stateNode):E_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Cd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(Yc=null,f=ti,ti=Gc(i.containerInfo),un(i,t),ti=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(he){Qe(t,t.return,he)}Dd&&(Dd=!1,bv(t));break;case 4:l=ti,ti=Gc(t.stateNode.containerInfo),un(i,t),cn(t),ti=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Xi,Q=Ct;if(Xi=B||f,Ct=Q||I,un(i,t),Ct=Q,Xi=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||Xi||Ct||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Qe(I,I.return,he)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(he){Qe(I,I.return,he)}}}else if(i.tag===18){if(a===null){I=i;try{var G=I.stateNode;f?h_(G,!0):h_(I.stateNode,!1)}catch(he){Qe(I,I.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(dv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Id(t);Nc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=Id(t);Nc(t,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Id(t);Nd(t,B,I);break;default:throw Error(s(161))}}catch(Q){Qe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function bv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;bv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pv(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Qs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hv(i,i.return,a),Qs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ii(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function Zi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(f,d,a),yl(4,d);break;case 1:if(Zi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Qe(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Zp(I[f],S)}catch(B){Qe(l,l.return,B)}}a&&_&64&&cv(d),vl(d,d.return);break;case 27:mv(d);case 26:case 5:Zi(f,d,a),a&&l===null&&_&4&&fv(d),vl(d,d.return);break;case 12:Zi(f,d,a);break;case 31:Zi(f,d,a),a&&_&4&&_v(f,d);break;case 13:Zi(f,d,a),a&&_&4&&Ev(f,d);break;case 22:d.memoizedState===null&&Zi(f,d,a),vl(d,d.return);break;case 30:break;default:Zi(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sv(t,i,a,l),i=i.sibling}function Sv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),f&2048&&yl(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(i,i.return,I)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):_l(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(_,i);break;case 24:ni(t,i,a,l),f&2048&&kd(i.alternate,i);break;default:ni(t,i,a,l)}}function Fa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,I=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Fa(d,_,S,I,f),yl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Fa(d,_,S,I,f):_l(d,_):(Q._visibility|=2,Fa(d,_,S,I,f)),f&&B&2048&&Od(_.alternate,_);break;case 24:Fa(d,_,S,I,f),f&&B&2048&&kd(_.alternate,_);break;default:Fa(d,_,S,I,f)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Od(l.alternate,l);break;case 24:_l(a,l),f&2048&&kd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var El=8192;function Ga(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)wv(t,i,a),t=t.sibling}function wv(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&El&&t.memoizedState!==null&&JS(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=ti;ti=Gc(t.stateNode.containerInfo),Ga(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,Ga(t,i,a),El=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function Av(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Rv(l,t)}Av(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xv(t),t=t.sibling}function xv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Tl(t);break;default:Tl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,Rv(l,t)}Av(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function Rv(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(yv(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var dS={getCacheForType:function(t){var i=Ft(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(At).controller.signal}},mS=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ie=null,De=0,Ye=0,bn=null,Ur=!1,Ka=!1,Md=!1,er=0,dt=0,zr=0,Ws=0,Vd=0,Sn=0,Ya=0,bl=null,hn=null,jd=!1,kc=0,Cv=0,Mc=1/0,Vc=null,Br=null,Vt=0,Hr=null,Qa=null,tr=0,Ld=0,Pd=null,Iv=null,Sl=0,Ud=null;function wn(){return(qe&2)!==0&&De!==0?De&-De:W.T!==null?Gd():ju()}function Nv(){if(Sn===0)if((De&536870912)===0||je){var t=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),qr(t,De,Sn,!1)),Ss(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(Ws|=a),dt===4&&qr(t,De,Sn,!1)),Ni(t))}function Dv(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?yS(t,i):Bd(t,i,!0),d=l;do{if(f===0){Ka&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){f=Bd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=bl;var I=S.current.memoizedState.isDehydrated;if(I&&(Wa(S,_).flags|=256),_=Bd(S,_,!1),_!==2){if(Md&&!I){S.errorRecoveryDisabledLanes|=d,Ws|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Wa(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Sn,!Ur);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=kc+300-nn(),10<f)){if(qr(l,i,Sn,!Ur),fi(l,0,!0)!==0)break e;tr=i,l.timeoutHandle=l_(Ov.bind(null,l,a,hn,Vc,jd,i,Sn,Ws,Ya,Ur,d,"Throttled",-0,0),f);break e}Ov(l,a,hn,Vc,jd,i,Sn,Ws,Ya,Ur,d,null,-0,0)}}break}while(!0);Ni(t)}function Ov(t,i,a,l,f,d,_,S,I,B,Q,J,H,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},wv(i,d,J);var he=(d&62914560)===d?kc-nn():(d&4194048)===d?Cv-nn():0;if(he=ZS(J,he),he!==null){tr=d,t.cancelPendingCommit=he(zv.bind(null,t,i,d,a,l,f,_,S,I,Q,J,null,H,G)),qr(t,d,_,!B);return}}zv(t,i,d,a,l,f,_,S,I)}function gS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~Vd,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ws(t,a,i)}function jc(){return(qe&6)===0?(wl(0),!1):!0}function zd(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Fi=zs=null,nd(t),Ua=null,al=0,t=Ie;for(;t!==null;)uv(t.alternate,t),t=t.return;Ie=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,zd(),et=t,Ie=a=Hi(t.current,null),De=i,Ye=0,bn=null,Ur=!1,Ka=Kn(t,i),Md=!1,Ya=Sn=Vd=Ws=zr=dt=0,hn=bl=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),d=1<<f;i|=t[f],l&=~d}return er=i,ic(),a}function kv(t,i){Ae=null,W.H=ml,i===Pa||i===hc?(i=Wp(),Ye=3):i===Ff?(i=Wp(),Ye=4):Ye=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ie===null&&(dt=1,Ac(t,Vn(i,t.current)))}function Mv(){var t=En.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function Vv(){var t=W.H;return W.H=ml,t===null?ml:t}function jv(){var t=W.A;return W.A=dS,t}function Lc(){dt=4,Ur||(De&4194048)!==De&&En.current!==null||(Ka=!0),(zr&134217727)===0&&(Ws&134217727)===0||et===null||qr(et,De,Sn,!1)}function Bd(t,i,a){var l=qe;qe|=2;var f=Vv(),d=jv();(et!==t||De!==i)&&(Vc=null,Wa(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&Ie!==null){var S=Ie,I=bn;switch(Ye){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Ye;if(Ye=0,bn=null,Xa(t,S,I,B),a&&Ka){_=0;break e}break;default:B=Ye,Ye=0,bn=null,Xa(t,S,I,B)}}pS(),_=dt;break}catch(Q){kv(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Fi=zs=null,qe=l,W.H=f,W.A=d,Ie===null&&(et=null,De=0,ic()),_}function pS(){for(;Ie!==null;)Lv(Ie)}function yS(t,i){var a=qe;qe|=2;var l=Vv(),f=jv();et!==t||De!==i?(Vc=null,Mc=nn()+500,Wa(t,i)):Ka=Kn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,Xa(t,i,d,1);break;case 2:case 9:if(Yp(d)){Ye=0,bn=null,Pv(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ni(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Yp(d)?(Ye=0,bn=null,Pv(i)):(Ye=0,bn=null,Xa(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var S=Ie;if(_?S_(_):S.stateNode.complete){Ye=0,bn=null;var I=S.sibling;if(I!==null)Ie=I;else{var B=S.return;B!==null?(Ie=B,Pc(B)):Ie=null}break t}}Ye=0,bn=null,Xa(t,i,d,5);break;case 6:Ye=0,bn=null,Xa(t,i,d,6);break;case 8:zd(),dt=6;break e;default:throw Error(s(462))}}vS();break}catch(Q){kv(t,Q)}while(!0);return Fi=zs=null,W.H=l,W.A=f,qe=a,Ie!==null?0:(et=null,De=0,ic(),dt)}function vS(){for(;Ie!==null&&!yf();)Lv(Ie)}function Lv(t){var i=ov(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function Pv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=tv(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=tv(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:nd(i);default:uv(a,i),i=Ie=jp(i,er),i=ov(a,i,er)}t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function Xa(t,i,a,l){Fi=zs=null,nd(i),Ua=null,al=0;var f=i.return;try{if(aS(t,f,i,a,De)){dt=1,Ac(t,Vn(a,t.current)),Ie=null;return}}catch(d){if(f!==null)throw Ie=f,d;dt=1,Ac(t,Vn(a,t.current)),Ie=null;return}i.flags&32768?(je||l===1?t=!0:Ka||(De&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uv(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){Uv(i,Ur);return}t=i.return;var a=uS(i.alternate,i,er);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);dt===0&&(dt=5)}function Uv(t,i){do{var a=cS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);dt=6,Ie=null}function zv(t,i,a,l,f,d,_,S,I){t.cancelPendingCommit=null;do Uc();while(Vt!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=If,Ef(t,a,d,_,S,I),t===et&&(Ie=et=null,De=0),Qa=i,Hr=t,tr=a,Ld=d,Pd=f,Iv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bS(_r,function(){return Gv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,_=qe,qe|=4;try{hS(t,i,a)}finally{qe=_,ae.p=f,W.T=l}}Vt=1,Bv(),Hv(),qv()}}function Bv(){if(Vt===1){Vt=0;var t=Hr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=qe;qe|=4;try{Tv(i,t);var d=Zd,_=Rp(t.containerInfo),S=d.focusedElem,I=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&xp(S.ownerDocument.documentElement,S)){if(I!==null&&wf(S)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),he=S.textContent.length,pe=Math.min(I.start,he),Ze=I.end===void 0?pe:Math.min(I.end,he);!G.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var j=Ap(S,pe),O=Ap(S,Ze);if(j&&O&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var z=J.createRange();z.setStart(j.node,j.offset),G.removeAllRanges(),pe>Ze?(G.addRange(z),G.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),G.addRange(z))}}}}for(J=[],G=S;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var X=J[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$c=!!Jd,Zd=Jd=null}finally{qe=f,ae.p=l,W.T=a}}t.current=i,Vt=2}}function Hv(){if(Vt===2){Vt=0;var t=Hr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=qe;qe|=4;try{pv(t,i.alternate,i)}finally{qe=f,ae.p=l,W.T=a}}Vt=3}}function qv(){if(Vt===4||Vt===3){Vt=0,Iu();var t=Hr,i=Qa,a=tr,l=Iv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Qa=Hr=null,Fv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Br=null),Pi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=i,ae.p=f}}(tr&3)!==0&&Uc(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Ud?Sl++:(Sl=0,Ud=t):Sl=0,wl(0)}}function Fv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Uc(){return Bv(),Hv(),qv(),Gv()}function Gv(){if(Vt!==5)return!1;var t=Hr,i=Ld;Ld=0;var a=Pi(tr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=Pd,Pd=null;var d=Hr,_=tr;if(Vt=0,Qa=Hr=null,tr=0,(qe&6)!==0)throw Error(s(331));var S=qe;if(qe|=4,xv(d.current),Sv(d,d.current,_,a),qe=S,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{ae.p=f,W.T=l,Fv(t,i)}}function Kv(t,i,a){i=Vn(a,i),i=yd(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Ss(t,2),Ni(t))}function Qe(t,i,a){if(t.tag===3)Kv(t,t,a);else for(;i!==null;){if(i.tag===3){Kv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Vn(a,t),a=Yy(2),l=Vr(i,a,2),l!==null&&(Qy(a,l,i,t),Ss(l,2),Ni(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new mS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Md=!0,f.add(a),t=_S.bind(null,t,i,a),i.then(t,t))}function _S(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>nn()-kc?(qe&2)===0&&Wa(t,0):Vd|=a,Ya===De&&(Ya=0)),Ni(t)}function Yv(t,i){i===0&&(i=Vu()),t=Ls(t,i),t!==null&&(Ss(t,i),Ni(t))}function ES(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Yv(t,a)}function TS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Yv(t,a)}function bS(t,i){return Mt(t,i)}var zc=null,$a=null,qd=!1,Bc=!1,Fd=!1,Fr=0;function Ni(t){t!==$a&&t.next===null&&($a===null?zc=$a=t:$a=$a.next=t),Bc=!0,qd||(qd=!0,wS())}function wl(t,i){if(!Fd&&Bc){Fd=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$v(l,d))}else d=De,d=fi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,$v(l,d));l=l.next}while(a);Fd=!1}}function SS(){Qv()}function Qv(){Bc=qd=!1;var t=0;Fr!==0&&MS()&&(t=Fr);for(var i=nn(),a=null,l=zc;l!==null;){var f=l.next,d=Wv(l,i);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Vt!==0&&Vt!==5||wl(t),Fr!==0&&(Fr=0)}function Wv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),S=1<<_,I=f[_];I===-1?((S&a)===0||(S&l)!==0)&&(f[_]=_f(S,i)):I<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=De,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),Pi(a)){case 2:case 8:a=Mo;break;case 32:a=_r;break;case 268435456:a=Nu;break;default:a=_r}return l=Xv.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function Xv(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=De;return l=fi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dv(t,l,i),Wv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?Xv.bind(null,t):null)}function $v(t,i){if(Uc())return null;Dv(t,i,!0)}function wS(){jS(function(){(qe&6)!==0?Mt(ko,SS):Qv()})}function Gd(){if(Fr===0){var t=ja;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Fr=t}return Fr}function Jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Zv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function AS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Jv((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?Jv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var I=_?Zv(f,_):new FormData(f);hd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=_?Zv(f,_):new FormData(f),hd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Kd=0;Kd<Cf.length;Kd++){var Yd=Cf[Kd],xS=Yd.toLowerCase(),RS=Yd[0].toUpperCase()+Yd.slice(1);ei(xS,"on"+RS)}ei(Np,"onAnimationEnd"),ei(Dp,"onAnimationIteration"),ei(Op,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(qb,"onTransitionRun"),ei(Fb,"onTransitionStart"),ei(Gb,"onTransitionCancel"),ei(kp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function e_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],I=S.instance,B=S.currentTarget;if(S=S.listener,I!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch(Q){nc(Q)}f.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(S=l[_],I=S.instance,B=S.currentTarget,S=S.listener,I!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=B;try{d(f)}catch(Q){nc(Q)}f.currentTarget=null,d=I}}}}function Ne(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=t+"__bubble";a.has(l)||(t_(i,t,2,!1),a.add(l))}function Qd(t,i,a){var l=0;i&&(l|=4),t_(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Hc]){t[Hc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(CS.has(a)||Qd(a,!1,t),Qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,Qd("selectionchange",!1,i))}}function t_(t,i,a,l){switch(N_(i)){case 2:var f=nw;break;case 8:f=iw;break;default:f=cm}a=f.bind(null,i,a,t),f=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Ar(function(){var B=d,Q=Dn(a),J=[];e:{var H=Mp.get(t);if(H!==void 0){var G=Si,he=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":G=Zu;break;case"focusin":he="focus",G=ks;break;case"focusout":he="blur",G=ks;break;case"beforeblur":case"afterblur":G=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Np:case Dp:case Op:G=Ku;break;case kp:G=w;break;case"scroll":case"scrollend":G=Wo;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Bi;break;case"toggle":case"beforetoggle":G=we}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),j=pe?H!==null?H+"Capture":null:H;pe=[];for(var O=B,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||j===null||(X=Xn(O,j),X!=null&&pe.push(xl(O,X,z))),Ze)break;O=O.return}0<pe.length&&(H=new G(H,he,null,a,Q),J.push({event:H,listeners:pe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Ko&&(he=a.relatedTarget||a.fromElement)&&(pi(he)||he[mi]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=B,he=he?pi(he):null,he!==null&&(Ze=u(he),pe=he.tag,he!==Ze||pe!==5&&pe!==27&&pe!==6)&&(he=null)):(G=null,he=B),G!==he)){if(pe=Xo,X="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Bi,X="onPointerLeave",j="onPointerEnter",O="pointer"),Ze=G==null?H:pn(G),z=he==null?H:pn(he),H=new pe(X,O+"leave",G,a,Q),H.target=Ze,H.relatedTarget=z,X=null,pi(Q)===B&&(pe=new pe(j,O+"enter",he,a,Q),pe.target=z,pe.relatedTarget=Ze,X=pe),Ze=X,G&&he)t:{for(pe=IS,j=G,O=he,z=0,X=j;X;X=pe(X))z++;X=0;for(var de=O;de;de=pe(de))X++;for(;0<z-X;)j=pe(j),z--;for(;0<X-z;)O=pe(O),X--;for(;z--;){if(j===O||O!==null&&j===O.alternate){pe=j;break t}j=pe(j),O=pe(O)}pe=null}else pe=null;G!==null&&n_(J,H,G,pe,!1),he!==null&&Ze!==null&&n_(J,Ze,he,pe,!0)}}e:{if(H=B?pn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ze=_p;else if(yp(H))if(Ep)ze=zb;else{ze=Pb;var fe=Lb}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Ea(B.elementType)&&(ze=_p):ze=Ub;if(ze&&(ze=ze(t,B))){vp(J,ze,a,Q);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&qo(H,"number",H.value)}switch(fe=B?pn(B):window,t){case"focusin":(yp(fe)||fe.contentEditable==="true")&&(Ca=fe,Af=B,tl=null);break;case"focusout":tl=Af=Ca=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Cp(J,a,Q);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":Cp(J,a,Q)}var Re;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ra?Ms(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(xi&&a.locale!=="ko"&&(Ra||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ra&&(Re=Qo()):(bi=Q,Yo="value"in bi?bi.value:bi.textContent,Ra=!0)),fe=qc(B,Oe),0<fe.length&&(Oe=new Ai(Oe,t,null,a,Q),J.push({event:Oe,listeners:fe}),Re?Oe.data=Re:(Re=xa(a),Re!==null&&(Oe.data=Re)))),(Re=kn?kb(t,a):Mb(t,a))&&(Oe=qc(B,"onBeforeInput"),0<Oe.length&&(fe=new Ai("onBeforeInput","beforeinput",null,a,Q),J.push({event:fe,listeners:Oe}),fe.data=Re)),AS(J,t,B,a,Q)}e_(J,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Xn(t,a),f!=null&&l.unshift(xl(t,f,d)),f=Xn(t,i),f!=null&&l.push(xl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function IS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,I=S.alternate,B=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||B===null||(I=B,f?(B=Xn(a,d),B!=null&&_.unshift(xl(a,B,I))):f||(B=Xn(a,d),B!=null&&_.push(xl(a,B,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(DS,"")}function r_(t,i){return i=i_(i),i_(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),va(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,va(t,a,l))}}function $d(t,i,a,l,f,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=f=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}zu(t,d,S,I,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Tr(t,!!l,i,!1):a!=null&&Tr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}br(t,l,f,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,I,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ne(Al[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Ea(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&$d(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function OS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,I=null,B=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,J)}}for(var H in l){var G=l[H];if(J=a[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Je(t,i,H,G,l,J)}}_a(t,_,S,I,B,Q,d,f);return;case"select":G=_=S=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==I&&Je(t,i,f,d,l,I)}i=S,a=_,l=G,H!=null?Tr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}Bu(t,H,G);return;case"option":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:Je(t,i,he,null,l,H));for(I in l)H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Je(t,i,I,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,G)}return;default:if(Ea(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&$d(t,i,Ze,void 0,l,H);for(Q in l)H=l[Q],G=a[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||$d(t,i,Q,H,l,G);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&Je(t,i,j,null,l,H);for(J in l)H=l[J],G=a[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||Je(t,i,J,H,l,G)}function s_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&s_(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],B=I.startTime;if(B>S)break;var Q=I.transferSize,J=I.initiatorType;Q&&s_(J)&&(I=I.responseEnd,_+=Q*(I<S?1:(S-B)/(I-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function MS(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(LS)}:l_;function LS(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function c_(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=f}while(a);to(i)}function h_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function US(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function f_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sm=null;function d_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function g_(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Bn=new Map,p_=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=ae.d;ae.d={f:BS,r:HS,D:qS,C:FS,L:GS,m:KS,X:QS,S:YS,M:WS};function BS(){var t=nr.f(),i=jc();return t||i}function HS(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?ky(i):nr.r(t)}var Ja=typeof document>"u"?null:document;function y_(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),p_.has(f)||(p_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function qS(t){nr.D(t),y_("dns-prefetch",t,null)}function FS(t,i){nr.C(t,i),y_("preconnect",t,i)}function GS(t,i,a){nr.L(t,i,a);var l=Ja;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Bn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Kt(i,"link",t),St(i),l.head.appendChild(i)))}}function KS(t,i){nr.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Bn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Kt(l,"link",t),St(l),a.head.appendChild(l)}}}function YS(t,i,a){nr.S(t,i,a);var l=Ja;if(l&&t){var f=yi(l).hoistableStyles,d=Za(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&am(t,a);var I=_=l.createElement("link");St(I),Kt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function QS(t,i){nr.X(t,i);var a=Ja;if(a&&t){var l=yi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=b({src:t,async:!0},i),(i=Bn.get(f))&&om(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function WS(t,i){nr.M(t,i);var a=Ja;if(a&&t){var l=yi(a).hoistableScripts,f=eo(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Bn.get(f))&&om(t,i),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function v_(t,i,a,l){var f=(f=xe.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=yi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=yi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||XS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=yi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+an(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),St(i),t.head.appendChild(i))}function eo(t){return'[src="'+an(t)+'"]'}function Il(t){return"script[async]"+t}function E_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,St(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Kt(l,"style",f),Kc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Za(a.href);var d=t.querySelector(Cl(f));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=__(a),(f=Bn.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Kt(d,"link",l),i.state.loading|=4,Kc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(f=t.querySelector(Il(d)))?(i.instance=f,St(f),f):(l=a,(f=Bn.get(d))&&(l=b({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,a.precedence,t));return i.instance}function Kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function T_(t,i,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function b_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $S(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Za(l.href),d=i.querySelector(Cl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=__(l),(f=Bn.get(f))&&am(l,f),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function ZS(t,i){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*kS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Xc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,i.forEach(ew,t),Wc=null,Qc.call(t))}function ew(t,i){if(!(i.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function tw(t,i,a,l,f,d,_,S,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function w_(t,i,a,l,f,d,_,S,I,B,Q,J){return t=new tw(t,i,a,_,I,B,Q,J,S),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function A_(t){return t?(t=Da,t):Da}function x_(t,i,a,l,f,d){f=A_(f),l.context===null?l.context=f:l.pendingContext=f,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(fn(a,t,i),ll(a,t,i))}function R_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){R_(t,i),(t=t.alternate)&&R_(t,i)}function C_(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&fn(i,t,67108864),um(t,67108864)}}function I_(t){if(t.tag===13||t.tag===31){var i=wn();i=As(i);var a=Ls(t,i);a!==null&&fn(a,t,i),um(t,i)}}var $c=!0;function nw(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,cm(t,i,a,l)}finally{ae.p=d,W.T=f}}function iw(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,cm(t,i,a,l)}finally{ae.p=d,W.T=f}}function cm(t,i,a,l){if($c){var f=hm(l);if(f===null)Xd(t,i,l,Jc,a),D_(t,l);else if(sw(f,t,i,a,l))l.stopPropagation();else if(D_(t,l),i&4&&-1<rw.indexOf(t)){for(;f!==null;){var d=Nn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-gt(_);S.entanglements[1]|=I,_&=~I}Ni(d),(qe&6)===0&&(Mc=nn()+500,wl(0))}}break;case 31:case 13:S=Ls(d,2),S!==null&&fn(S,d,2),jc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Dn(t),fm(t)}var Jc=null;function fm(t){if(Jc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case ko:return 2;case Mo:return 8;case _r:case vf:return 32;case Nu:return 268435456;default:return 32}default:return 32}}var dm=!1,Kr=null,Yr=null,Qr=null,Dl=new Map,Ol=new Map,Wr=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function kl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Nn(i),i!==null&&C_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function sw(t,i,a,l,f){switch(i){case"focusin":return Kr=kl(Kr,t,i,a,l,f),!0;case"dragenter":return Yr=kl(Yr,t,i,a,l,f),!0;case"mouseover":return Qr=kl(Qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,kl(Dl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,kl(Ol.get(d)||null,t,i,a,l,f)),!0}return!1}function O_(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){I_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){I_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=Nn(a),i!==null&&C_(i),t.blockedOn=a,!1;i.shift()}return!0}function k_(t,i,a){Zc(t)&&a.delete(i)}function aw(){dm=!1,Kr!==null&&Zc(Kr)&&(Kr=null),Yr!==null&&Zc(Yr)&&(Yr=null),Qr!==null&&Zc(Qr)&&(Qr=null),Dl.forEach(k_),Ol.forEach(k_)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aw)))}var th=null;function M_(t){th!==t&&(th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function to(t){function i(I){return eh(I,t)}Kr!==null&&eh(Kr,t),Yr!==null&&eh(Yr,t),Qr!==null&&eh(Qr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||M_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)S=_.formAction;else if(fm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),M_(a)}}}function V_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}nh.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();x_(a,l,t,i,null,null)},nh.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;x_(t.current,2,null,t,null,null),jc(),i[mi]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ju();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&O_(t)}};var j_=e.version;if(j_!=="19.2.4")throw Error(s(527,j_,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ow={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Gn=ih.inject(ow),Bt=ih}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=qy,d=Fy,_=Gy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=w_(t,1,!1,null,null,a,l,null,f,d,_,V_),t[mi]=i.current,Wd(t),new mm(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=qy,_=Fy,S=Gy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=w_(t,1,!0,i,a??null,l,f,I,d,_,S,V_),i.context=A_(null),a=i.current,l=wn(),l=As(l),f=Mr(l),f.callback=null,Vr(a,f,l),a=l,i.current.lanes=a,Ss(i,a),Ni(i),t[mi]=i.current,Wd(t),new nh(i)},Vl.version="19.2.4",Vl}var K_;function yw(){if(K_)return ym.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=pw(),ym.exports}var vw=yw();var Y_="popstate";function _w(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Lm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return Tw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ji(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ew(){return Math.random().toString(36).substring(2,10)}function Q_(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||Ew()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Tw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let K=T(),ie=K==null?null:K-p;p=K,g&&g({action:m,location:Y.location,delta:ie})}function A(K,ie){m="PUSH";let te=Lm(Y.location,K,ie);p=T()+1;let ne=Q_(te,p),re=Y.createHref(te);try{h.pushState(ne,"",re)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(re)}u&&g&&g({action:m,location:Y.location,delta:1})}function D(K,ie){m="REPLACE";let te=Lm(Y.location,K,ie);p=T();let ne=Q_(te,p),re=Y.createHref(te);h.replaceState(ne,"",re),u&&g&&g({action:m,location:Y.location,delta:0})}function F(K){return bw(K)}let Y={get action(){return m},get location(){return r(o,h)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Y_,b),g=K,()=>{o.removeEventListener(Y_,b),g=null}},createHref(K){return e(o,K)},createURL:F,encodeLocation(K){let ie=F(K);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:A,replace:D,go(K){return h.go(K)}};return Y}function bw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function D1(r,e,n="/"){return Sw(r,e,n,!1)}function Sw(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let h=O1(r);ww(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=Vw(u);m=kw(h[g],p,s)}return m}function O1(r,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ut(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=ar([s,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),O1(h.children,e,A,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:Dw(b,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of k1(h.path))u(h,m,!0,g)}),e}function k1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=k1(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function ww(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ow(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,xw=3,Rw=2,Cw=1,Iw=10,Nw=-2,W_=r=>r==="*";function Dw(r,e){let n=r.split("/"),s=n.length;return n.some(W_)&&(s+=Nw),e&&(s+=Rw),n.filter(o=>!W_(o)).reduce((o,u)=>o+(Aw.test(u)?xw:u===""?Cw:Iw),s)}function Ow(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function kw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),A=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ar([u,b.pathname]),pathnameBase:Uw(ar([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=ar([u,b.pathnameBase]))}return h}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Mw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},A)=>{if(T==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const D=m[A];return b&&!D?p[T]=void 0:p[T]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function Mw(r,e=!1,n=!0){ji(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Vw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Lw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=X_(n.substring(1),"/"):u=X_(n,e)):u=e,{pathname:u,search:zw(s),hash:Bw(o)}}function X_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M1(r){let e=Pw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function V1(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=Lw(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),Uw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Hw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Fw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function L1(r,e){let n=r;if(typeof n!="string"||!jw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(j1)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ur(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{ji(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var Gw=["GET",...P1];new Set(Gw);var Eo=L.createContext(null);Eo.displayName="DataRouter";var qh=L.createContext(null);qh.displayName="DataRouterState";var Kw=L.createContext(!1),U1=L.createContext({isTransitioning:!1});U1.displayName="ViewTransition";var Yw=L.createContext(new Map);Yw.displayName="Fetchers";var Qw=L.createContext(null);Qw.displayName="Await";var Fn=L.createContext(null);Fn.displayName="Navigation";var hu=L.createContext(null);hu.displayName="Location";var mr=L.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var fg=L.createContext(null);fg.displayName="RouteError";var z1="REACT_ROUTER_ERROR",Ww="REDIRECT",Xw="ROUTE_ERROR_RESPONSE";function $w(r){if(r.startsWith(`${z1}:${Ww}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Jw(r){if(r.startsWith(`${z1}:${Xw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Hw(e.status,e.statusText,e.data)}catch{}}function Zw(r,{relative:e}={}){ut(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Fn),{hash:o,pathname:u,search:h}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:h,hash:o})}function fu(){return L.useContext(hu)!=null}function gs(){return ut(fu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hu).location}var B1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H1(r){L.useContext(Fn).static||L.useLayoutEffect(r)}function Fh(){let{isDataRoute:r}=L.useContext(mr);return r?fA():eA()}function eA(){ut(fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Eo),{basename:e,navigator:n}=L.useContext(Fn),{matches:s}=L.useContext(mr),{pathname:o}=gs(),u=JSON.stringify(M1(s)),h=L.useRef(!1);return H1(()=>{h.current=!0}),L.useCallback((g,p={})=>{if(ji(h.current,B1),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=V1(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ar([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,r])}L.createContext(null);function du(r,{relative:e}={}){let{matches:n}=L.useContext(mr),{pathname:s}=gs(),o=JSON.stringify(M1(n));return L.useMemo(()=>V1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function tA(r,e){return q1(r,e)}function q1(r,e,n,s,o){ut(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Fn),{matches:h}=L.useContext(mr),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";G1(p,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let A=gs(),D;if(e){let te=typeof e=="string"?_o(e):e;ut(T==="/"||te.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${te.pathname}" was given in the \`location\` prop.`),D=te}else D=A;let F=D.pathname||"/",Y=F;if(T!=="/"){let te=T.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(te.length).join("/")}let K=D1(r,{pathname:Y});ji(b||K!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ji(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=aA(K&&K.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:ar([T,u.encodeLocation?u.encodeLocation(te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?T:ar([T,u.encodeLocation?u.encodeLocation(te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:te.pathnameBase])})),h,n,s,o);return e&&ie?L.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ie):ie}function nA(){let r=hA(),e=qw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var iA=L.createElement(nA,null),F1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Jw(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(mr.Provider,{value:this.props.routeContext},L.createElement(fg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(rA,{error:r},e):e}};F1.contextType=Kw;var bm=new WeakMap;function rA({children:r,error:e}){let{basename:n}=L.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=$w(e.digest);if(s){let o=bm.get(e);if(o)throw o;let u=L1(s.location,n);if(j1&&!bm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function sA({routeContext:r,match:e,children:n}){let s=L.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(mr.Provider,{value:r},n)}function aA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let T=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ut(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:A,errors:D}=n,F=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!D||D[b.route.id]===void 0);if(b.route.lazy||F){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Fw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,A)=>{let D,F=!1,Y=null,K=null;n&&(D=h&&b.route.id?h[b.route.id]:void 0,Y=b.route.errorElement||iA,m&&(g<0&&A===0?(G1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,K=null):g===A&&(F=!0,K=b.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,A+1)),te=()=>{let ne;return D?ne=Y:F?ne=K:b.route.Component?ne=L.createElement(b.route.Component,null):b.route.element?ne=b.route.element:ne=T,L.createElement(sA,{match:b,routeContext:{outlet:T,matches:ie,isDataRoute:n!=null},children:ne})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?L.createElement(F1,{location:n.location,revalidation:n.revalidation,component:Y,error:D,children:te(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:p}):te()},null)}function dg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(r){let e=L.useContext(Eo);return ut(e,dg(r)),e}function lA(r){let e=L.useContext(qh);return ut(e,dg(r)),e}function uA(r){let e=L.useContext(mr);return ut(e,dg(r)),e}function mg(r){let e=uA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cA(){return mg("useRouteId")}function hA(){let r=L.useContext(fg),e=lA("useRouteError"),n=mg("useRouteError");return r!==void 0?r:e.errors?.[n]}function fA(){let{router:r}=oA("useNavigate"),e=mg("useNavigate"),n=L.useRef(!1);return H1(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{ji(n.current,B1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $_={};function G1(r,e,n){!e&&!$_[r]&&($_[r]=!0,ji(!1,n))}L.memo(dA);function dA({routes:r,future:e,state:n,onError:s}){return q1(r,void 0,n,s,e)}function An(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ut(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:T="",hash:b="",state:A=null,key:D="default"}=n,F=L.useMemo(()=>{let Y=ur(p,m);return Y==null?null:{location:{pathname:Y,search:T,hash:b,state:A,key:D},navigationType:s}},[m,p,T,b,A,D,s]);return ji(F!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:L.createElement(Fn.Provider,{value:g},L.createElement(hu.Provider,{children:e,value:F}))}function gA({children:r,location:e}){return tA(Pm(r),e)}function Pm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Pm(s.props.children,u));return}ut(s.type===An,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Pm(s.props.children,u)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Gh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function pA(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function yA(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function vA(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function _A(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function EA(r,e){return r.button===0&&(!e||e==="_self")&&!_A(r)}var rh=null;function TA(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(r){return r!=null&&!bA.has(r)?(ji(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function SA(r,e){let n,s,o,u,h;if(yA(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||hh,o=Sm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(pA(r)||vA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ur(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Sm(r.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||fh,u=new FormData(m,r),!TA()){let{name:p,type:T,value:b}=r;if(T==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,b)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ur(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function AA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await AA(u,n);return h.links?h.links():[]}return[]}));return DA(s.flat(1).filter(xA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J_(r,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function CA(r,e,{includeHydrateFallback:n}={}){return IA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IA(r){return[...new Set(r)]}function NA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function DA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(NA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function K1(){let r=L.useContext(Eo);return gg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OA(){let r=L.useContext(qh);return gg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pg=L.createContext(void 0);pg.displayName="FrameworkContext";function Y1(){let r=L.useContext(pg);return gg(r,"You must render this element inside a <HydratedRouter> element"),r}function kA(r,e){let n=L.useContext(pg),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=ie=>{ie.forEach(te=>{h(te.isIntersecting)})},K=new IntersectionObserver(Y,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let D=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:jl(m,D),onBlur:jl(g,F),onMouseEnter:jl(p,D),onMouseLeave:jl(T,F),onTouchStart:jl(b,D)}]:[!1,A,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function MA({page:r,...e}){let{router:n}=K1(),s=L.useMemo(()=>D1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(jA,{page:r,matches:s,...e}):null}function VA(r){let{manifest:e,routeModules:n}=Y1(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return RA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function jA({page:r,matches:e,...n}){let s=gs(),{future:o,manifest:u,routeModules:h}=Y1(),{basename:m}=K1(),{loaderData:g,matches:p}=OA(),T=L.useMemo(()=>J_(r,e,p,u,s,"data"),[r,e,p,u,s]),b=L.useMemo(()=>J_(r,e,p,u,s,"assets"),[r,e,p,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,K=!1;if(e.forEach(te=>{let ne=u.routes[te.route.id];!ne||!ne.hasLoader||(!T.some(re=>re.route.id===te.route.id)&&te.route.id in g&&h[te.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:Y.add(te.route.id))}),Y.size===0)return[];let ie=wA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&Y.size>0&&ie.searchParams.set("_routes",e.filter(te=>Y.has(te.route.id)).map(te=>te.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,T,e,r,h]),D=L.useMemo(()=>CA(b,u),[b,u]),F=VA(b);return L.createElement(L.Fragment,null,A.map(Y=>L.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),D.map(Y=>L.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),F.map(({key:Y,link:K})=>L.createElement("link",{key:Y,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function LA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PA&&(window.__reactRouterVersion="7.13.0")}catch{}function UA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=_w({window:s,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),g=L.useCallback(p=>{n===!1?m(p):L.startTransition(()=>m(p))},[n]);return L.useLayoutEffect(()=>u.listen(g),[u,g]),L.createElement(mA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...D},F){let{basename:Y,unstable_useTransitions:K}=L.useContext(Fn),ie=typeof p=="string"&&Q1.test(p),te=L1(p,Y);p=te.to;let ne=Zw(p,{relative:o}),[re,Ee,Ce]=kA(s,D),N=qA(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:K});function x(V){e&&e(V),V.defaultPrevented||N(V)}let R=L.createElement("a",{...D,...Ce,href:te.absoluteURL||ne,onClick:te.isExternal||u?e:x,ref:LA(F,Ee),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return re&&!ie?L.createElement(L.Fragment,null,R,L.createElement(MA,{page:ne})):R});We.displayName="Link";var zA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let b=du(h,{relative:p.relative}),A=gs(),D=L.useContext(qh),{navigator:F,basename:Y}=L.useContext(Fn),K=D!=null&&QA(b)&&m===!0,ie=F.encodeLocation?F.encodeLocation(b).pathname:b.pathname,te=A.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(te=te.toLowerCase(),ne=ne?ne.toLowerCase():null,ie=ie.toLowerCase()),ne&&Y&&(ne=ur(ne,Y)||ne);const re=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ee=te===ie||!o&&te.startsWith(ie)&&te.charAt(re)==="/",Ce=ne!=null&&(ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ie.length)==="/"),N={isActive:Ee,isPending:Ce,isTransitioning:K},x=Ee?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Ee?"active":null,Ce?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return L.createElement(We,{...p,"aria-current":x,className:R,ref:T,style:V,to:h,viewTransition:m},typeof g=="function"?g(N):g)});zA.displayName="NavLink";var BA=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=hh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A,...D},F)=>{let{unstable_useTransitions:Y}=L.useContext(Fn),K=KA(),ie=YA(m,{relative:p}),te=h.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&Q1.test(m),re=Ee=>{if(g&&g(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let Ce=Ee.nativeEvent.submitter,N=Ce?.getAttribute("formmethod")||h,x=()=>K(Ce||Ee.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:A});Y&&n!==!1?L.startTransition(()=>x()):x()};return L.createElement("form",{ref:F,method:te,action:ie,onSubmit:s?g:re,...D,"data-discover":!ne&&r==="render"?"true":void 0})});BA.displayName="Form";function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(r){let e=L.useContext(Eo);return ut(e,HA(r)),e}function qA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Fh(),T=gs(),b=du(r,{relative:u});return L.useCallback(A=>{if(EA(A,e)){A.preventDefault();let D=n!==void 0?n:$l(T)===$l(b),F=()=>p(r,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?L.startTransition(()=>F()):F()}},[T,p,b,n,s,e,r,o,u,h,m,g])}var FA=0,GA=()=>`__${String(++FA)}__`;function KA(){let{router:r}=W1("useSubmit"),{basename:e}=L.useContext(Fn),n=cA(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:T,body:b}=SA(u,e);if(h.navigate===!1){let A=h.fetcherKey||GA();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function YA(r,{relative:e}={}){let{basename:n}=L.useContext(Fn),s=L.useContext(mr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},h=gs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),$l(u)}function QA(r,{relative:e}={}){let n=L.useContext(U1);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=W1("useViewTransitionState"),o=du(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const WA=()=>{};var Z_={};const X1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(A=64)),s.push(n[T],n[b],n[A],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(X1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new $A;const A=u<<2|m>>4;if(s.push(A),p!==64){const D=m<<4&240|p>>2;if(s.push(D),b!==64){const F=p<<6&192|b;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const e=X1(r);return $1.encodeByteArray(e,!0)},wh=function(r){return JA(r).replace(/\./g,"")},J1=function(r){try{return $1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const e2=()=>ZA().__FIREBASE_DEFAULTS__,t2=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},n2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&J1(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return WA()||e2()||t2()||n2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Z1=r=>Kh()?.emulatorHosts?.[r],i2=r=>{const e=Z1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eE=()=>Kh()?.config,tE=r=>Kh()?.[`_${r}`];class r2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nE(r){return(await fetch(r,{credentials:"include"})).ok}function s2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const Gl={};function a2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function o2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let e0=!1;function iE(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Gl[r]===e||Gl[r]||e0)return;Gl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=a2().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{e0=!0,h()},A}function T(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=o2(s),D=n("text"),F=document.getElementById(D)||document.createElement("span"),Y=n("learnmore"),K=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),te=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),T(K,Y);const re=p();g(te,ie),ne.append(te,F,K,re),document.body.appendChild(ne)}u?(F.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function u2(){const r=Kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function f2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d2(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function m2(){return!u2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const y2="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=y2,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?v2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new gr(o,m,s)}}function v2(r,e){return r.replace(_2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _2=/\{\$([^}]+)}/g;function E2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(t0(u)&&t0(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function t0(r){return r!==null&&typeof r=="object"}function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function T2(r,e){const n=new b2(r,e);return n.subscribe.bind(n)}class b2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}function ct(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class w2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new r2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(r){return r===$s?void 0:r}function x2(r){return r.instantiationMode==="EAGER"}class R2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const C2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},I2=ke.INFO,N2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},D2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=N2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const O2=(r,e)=>e.some(n=>r instanceof n);let n0,i0;function k2(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Um=new WeakMap,sE=new WeakMap,Am=new WeakMap,vg=new WeakMap;function V2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(is(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&rE.set(n,r)}).catch(()=>{}),vg.set(e,r),e}function j2(r){if(Um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Um.set(r,e)}let zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function L2(r){zm=r(zm)}function P2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return sE.set(s,e.sort?e.sort():[e]),is(s)}:M2().includes(r)?function(...e){return r.apply(xm(this),e),is(rE.get(this))}:function(...e){return is(r.apply(xm(this),e))}}function U2(r){return typeof r=="function"?P2(r):(r instanceof IDBTransaction&&j2(r),O2(r,k2())?new Proxy(r,zm):r)}function is(r){if(r instanceof IDBRequest)return V2(r);if(Am.has(r))return Am.get(r);const e=U2(r);return e!==r&&(Am.set(r,e),vg.set(e,r)),e}const xm=r=>vg.get(r);function z2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=is(h);return s&&h.addEventListener("upgradeneeded",g=>{s(is(h.result),g.oldVersion,g.newVersion,is(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const B2=["get","getKey","getAll","getAllKeys","count"],H2=["put","add","delete","clear"],Rm=new Map;function r0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=H2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||B2.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Rm.set(e,u),u}L2(r=>({...r,get:(e,n,s)=>r0(e,n)||r.get(e,n,s),has:(e,n)=>!!r0(e,n)||r.has(e,n)}));class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function F2(r){return r.getComponent()?.type==="VERSION"}const Bm="@firebase/app",s0="0.14.8";const cr=new yg("@firebase/app"),G2="@firebase/app-compat",K2="@firebase/analytics-compat",Y2="@firebase/analytics",Q2="@firebase/app-check-compat",W2="@firebase/app-check",X2="@firebase/auth",$2="@firebase/auth-compat",J2="@firebase/database",Z2="@firebase/data-connect",ex="@firebase/database-compat",tx="@firebase/functions",nx="@firebase/functions-compat",ix="@firebase/installations",rx="@firebase/installations-compat",sx="@firebase/messaging",ax="@firebase/messaging-compat",ox="@firebase/performance",lx="@firebase/performance-compat",ux="@firebase/remote-config",cx="@firebase/remote-config-compat",hx="@firebase/storage",fx="@firebase/storage-compat",dx="@firebase/firestore",mx="@firebase/ai",gx="@firebase/firestore-compat",px="firebase",yx="12.9.0";const Hm="[DEFAULT]",vx={[Bm]:"fire-core",[G2]:"fire-core-compat",[Y2]:"fire-analytics",[K2]:"fire-analytics-compat",[W2]:"fire-app-check",[Q2]:"fire-app-check-compat",[X2]:"fire-auth",[$2]:"fire-auth-compat",[J2]:"fire-rtdb",[Z2]:"fire-data-connect",[ex]:"fire-rtdb-compat",[tx]:"fire-fn",[nx]:"fire-fn-compat",[ix]:"fire-iid",[rx]:"fire-iid-compat",[sx]:"fire-fcm",[ax]:"fire-fcm-compat",[ox]:"fire-perf",[lx]:"fire-perf-compat",[ux]:"fire-rc",[cx]:"fire-rc-compat",[hx]:"fire-gcs",[fx]:"fire-gcs-compat",[dx]:"fire-fst",[gx]:"fire-fst-compat",[mx]:"fire-vertex","fire-js":"fire-js",[px]:"fire-js-all"};const Ah=new Map,_x=new Map,qm=new Map;function a0(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(qm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const n of Ah.values())a0(n,r);for(const n of _x.values())a0(n,r);return!0}function _g(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}const Ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new mu("app","Firebase",Ex);class Tx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const bo=yx;function aE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=eE()),!n)throw rs.create("no-options");const u=Ah.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new R2(o);for(const g of qm.values())h.addComponent(g);const m=new Tx(n,s,h);return Ah.set(o,m),m}function oE(r=Hm){const e=Ah.get(r);if(!e&&r===Hm&&eE())return aE();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=vx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(h.join(" "));return}ho(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bx="firebase-heartbeat-database",Sx=1,Jl="firebase-heartbeat-store";let Cm=null;function lE(){return Cm||(Cm=z2(bx,Sx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function wx(r){try{const n=(await lE()).transaction(Jl),s=await n.objectStore(Jl).get(uE(r));return await n.done,s}catch(e){if(e instanceof gr)cr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function o0(r,e){try{const s=(await lE()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,uE(r)),await s.done}catch(n){if(n instanceof gr)cr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}const Ax=1024,xx=30;class Rx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ix(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>xx){const o=Nx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:n,unsentEntries:s}=Cx(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function Cx(r,e=Ax){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),u0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ix{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function Nx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Dx(r){ho(new na("platform-logger",e=>new q2(e),"PRIVATE")),ho(new na("heartbeat",e=>new Rx(e),"PRIVATE")),ss(Bm,s0,r),ss(Bm,s0,"esm2020"),ss("fire-js","")}Dx("");function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ox=cE,hE=new mu("auth","Firebase",cE());const xh=new yg("@firebase/auth");function kx(r,...e){xh.logLevel<=ke.WARN&&xh.warn(`Auth (${bo}): ${r}`,...e)}function dh(r,...e){xh.logLevel<=ke.ERROR&&xh.error(`Auth (${bo}): ${r}`,...e)}function qn(r,...e){throw Tg(r,...e)}function ri(r,...e){return Tg(r,...e)}function Eg(r,e,n){const s={...Ox(),[e]:n};return new mu("auth","Firebase",s).create(e,{appName:r.name})}function or(r){return Eg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fE(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(r,"argument-error"),Eg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return hE.create(r,...e)}function ye(r,e,...n){if(!r)throw Tg(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function hr(r,e){r||rr(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function Mx(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function Vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mx()||h2()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=l2()||f2()}get(){return Vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bg(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class dE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Px=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ux=new pu(3e4,6e4);function pr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function li(r,e,n,s,o={}){return mE(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return c2()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),dE.fetch()(await gE(r,r.config.apiHost,n,m),p)})}async function mE(r,e,n){r._canInitEmulator=!1;const s={...Lx,...e};try{const o=new Bx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw sh(r,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Eg(r,T,p);qn(r,T)}}catch(o){if(o instanceof gr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function yu(r,e,n,s,o={}){const u=await li(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?bg(r.config,o):`${r.config.apiScheme}://${o}`;return Px.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function zx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ri(this.auth,"network-request-failed")),Ux.get())})}}function sh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ri(r,e,s);return o.customData._tokenResponse=n,o}function h0(r){return r!==void 0&&r.enterprise!==void 0}class Hx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qx(r,e){return li(r,"GET","/v2/recaptchaConfig",pr(r,e))}async function Fx(r,e){return li(r,"POST","/v1/accounts:delete",e)}async function Gx(r,e){return li(r,"POST","/v1/accounts:update",e)}async function Rh(r,e){return li(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kx(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=Sg(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(Im(o.auth_time)),issuedAtTime:Kl(Im(o.iat)),expirationTime:Kl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function Sg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=J1(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function f0(r){const e=Sg(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&Yx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Yx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zl(r){const e=r.auth,n=await r.getIdToken(),s=await fo(r,Rh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?pE(o.providerUserInfo):[],h=Xx(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,T)}async function Wx(r){const e=ct(r);await Zl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function $x(r,e){const n=await mE(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await gE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),dE.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jx(r,e){return li(r,"POST","/v2/accounts:revokeToken",pr(r,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=f0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await $x(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ao;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return rr("not implemented")}}function $r(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kx(this,e)}reload(){return Wx(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await fo(this,Fx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:D,providerData:F,stsTokenManager:Y}=n;ye(b&&Y,e,"internal-error");const K=ao.fromJSON(this.name,Y);ye(typeof b=="string",e,"internal-error"),$r(s,e.name),$r(o,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof D=="boolean",e,"internal-error"),$r(u,e.name),$r(h,e.name),$r(m,e.name),$r(g,e.name),$r(p,e.name),$r(T,e.name);const ie=new ii({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:p,lastLoginAt:T});return F&&Array.isArray(F)&&(ie.providerData=F.map(te=>({...te}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zl(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const g=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const d0=new Map;function sr(r){hr(r instanceof Function,"Expected a class definition");let e=d0.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,d0.set(r,e),e)}class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yE.type="NONE";const m0=yE;function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(sr(m0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||sr(m0);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let b;if(typeof T=="string"){const A=await Rh(e,{idToken:T}).catch(()=>{});if(!A)break;b=await ii._fromGetAccountInfoResponse(e,A,T)}else b=ii._fromJSON(e,T);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new oo(u,e,s))}}function g0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SE(e))return"Blackberry";if(wE(e))return"Webos";if(_E(e))return"Safari";if((e.includes("chrome/")||EE(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function vE(r=tn()){return/firefox\//i.test(r)}function _E(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EE(r=tn()){return/crios\//i.test(r)}function TE(r=tn()){return/iemobile/i.test(r)}function bE(r=tn()){return/android/i.test(r)}function SE(r=tn()){return/blackberry/i.test(r)}function wE(r=tn()){return/webos/i.test(r)}function wg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zx(r=tn()){return wg(r)&&!!window.navigator?.standalone}function eR(){return d2()&&document.documentMode===10}function AE(r=tn()){return wg(r)||bE(r)||wE(r)||SE(r)||/windows phone/i.test(r)||TE(r)}function xE(r,e=[]){let n;switch(r){case"Browser":n=g0(tn());break;case"Worker":n=`${g0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class tR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nR(r,e={}){return li(r,"GET","/v2/passwordPolicy",pr(r,e))}const iR=6;class rR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new tR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(or(this));const n=e?ct(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nR(this),n=new rR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Jx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ps(r){return ct(r)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aR(r){Yh=r}function RE(r){return Yh.loadJS(r)}function oR(){return Yh.recaptchaEnterpriseScript}function lR(){return Yh.gapiScript}function uR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class cR{constructor(){this.enterprise=new hR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fR="recaptcha-enterprise",CE="NO_RECAPTCHA";class dR{constructor(e){this.type=fR,this.auth=ps(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{qx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new Hx(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;h0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(CE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&h0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=oR();g.length!==0&&(g+=m),RE(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function y0(r,e,n,s=!1,o=!1){const u=new dR(r);let h;if(o)h=CE;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await y0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await y0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function mR(r,e){const n=_g(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function gR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function pR(r,e,n){const s=ps(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=IE(e),{host:h,port:m}=yR(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(ta(p,s.config.emulator)&&ta(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,To(h)?(nE(`${u}//${h}${g}`),iE("Auth",!0)):vR()}function IE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function yR(r){const e=IE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:v0(h)}}}function v0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function vR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function _R(r,e){return li(r,"POST","/v1/accounts:update",e)}async function ER(r,e){return li(r,"POST","/v1/accounts:signUp",e)}async function TR(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",pr(r,e))}async function bR(r,e){return li(r,"POST","/v1/accounts:sendOobCode",pr(r,e))}async function SR(r,e){return bR(r,e)}async function wR(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",pr(r,e))}async function AR(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",pr(r,e))}class eu extends Ag{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",TR);case"emailLink":return wR(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,s,"signUpPassword",ER);case"emailLink":return AR(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",pr(r,e))}const xR="http://localhost";class ia extends Ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:xR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}function RR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(r){const e=Ul(zl(r)).link,n=e?Ul(zl(e)).deep_link_id:null,s=Ul(zl(r)).deep_link_id;return(s?Ul(zl(s)).link:null)||s||n||e||r}class xg{constructor(e){const n=Ul(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=RR(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CR(e);try{return new xg(n)}catch{return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=xg.parseLink(n);return ye(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends Qh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends vu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class ir extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class Zr extends vu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends vu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";async function IR(r,e){return yu(r,"POST","/v1/accounts:signUp",pr(r,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),h=_0(s);return new ra({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_0(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function NE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}function DE(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}async function NR(r,e){const n=ct(r);await OR(!0,n,e);const{providerUserInfo:s}=await Gx(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=DE(s||[]);return n.providerData=n.providerData.filter(u=>o.has(u.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function DR(r,e,n=!1){const s=await fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}async function OR(r,e,n){await Zl(e);const s=DE(e.providerData);ye(s.has(n)===r,e.auth,"no-such-provider")}async function kR(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await fo(r,NE(s,o,e,r),n);ye(u.idToken,s,"internal-error");const h=Sg(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),ra._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}async function OE(r,e,n=!1){if(xn(r.app))return Promise.reject(or(r));const s="signIn",o=await NE(r,s,e),u=await ra._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function MR(r,e){return OE(ps(r),e)}async function kE(r){const e=ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VR(r,e,n){if(xn(r.app))return Promise.reject(or(r));const s=ps(r),h=await Km(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&kE(r),g}),m=await ra._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function jR(r,e,n){return xn(r.app)?Promise.reject(or(r)):MR(ct(r),So.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kE(r),s})}async function LR(r,e){const n=ct(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await SR(n.auth,o);u!==r.email&&await r.reload()}function PR(r,e){return UR(ct(r),null,e)}async function UR(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const h=await fo(r,_R(s,u));await r._updateTokensIfNecessary(h,!0)}function zR(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function BR(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function HR(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function qR(r){return ct(r).signOut()}const Ih="__sak";class ME{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FR=1e3,GR=10;class VE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);eR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const KR=VE;class jE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const LE=jE;function YR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await YR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class QR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Rg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Oi(){return window}function WR(r){Oi().location.href=r}function PE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function XR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $R(){return navigator?.serviceWorker?.controller||null}function JR(){return PE()?self:null}const UE="firebaseLocalStorageDb",ZR=1,Nh="firebaseLocalStorage",zE="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function eC(){const r=indexedDB.deleteDatabase(UE);return new _u(r).toPromise()}function Ym(){const r=indexedDB.open(UE,ZR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:zE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await eC(),e(await Ym()))})})}async function E0(r,e,n){const s=Xh(r,!0).put({[zE]:e,value:n});return new _u(s).toPromise()}async function tC(r,e){const n=Xh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function T0(r,e){const n=Xh(r,!0).delete(e);return new _u(n).toPromise()}const nC=800,iC=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>iC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XR(),!this.activeServiceWorker)return;this.sender=new QR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await E0(e,Ih,"1"),await T0(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>tC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const rC=BE;new pu(3e4,6e4);function Cg(r,e){return e?sr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ig extends Ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sC(r){return OE(r.auth,new Ig(r),r.bypassAuthState)}function aC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),kR(n,new Ig(r),r.bypassAuthState)}async function oC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),DR(n,new Ig(r),r.bypassAuthState)}class HE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:qn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lC=new pu(2e3,1e4);async function uC(r,e,n){if(xn(r.app))return Promise.reject(ri(r,"operation-not-supported-in-this-environment"));const s=ps(r);fE(r,e,Qh);const o=Cg(s,n);return new ts(s,"signInViaPopup",e,o).executeNotNull()}async function cC(r,e,n){const s=ct(r);fE(s.auth,e,Qh);const o=Cg(s.auth,n);return new ts(s.auth,"linkViaPopup",e,o,s).executeNotNull()}class ts extends HE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lC.get())};e()}}ts.currentPopupAction=null;const hC="pendingRedirect",gh=new Map;class fC extends HE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=pC(e),s=gC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mC(r,e){gh.set(r._key(),e)}function gC(r){return sr(r._redirectPersistence)}function pC(r){return mh(hC,r.config.apiKey,r.name)}async function yC(r,e,n=!1){if(xn(r.app))return Promise.reject(or(r));const s=ps(r),o=Cg(s,e),h=await new fC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(r);default:return!1}}async function TC(r,e={}){return li(r,"GET","/v1/projects",e)}const bC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(AC(n))return}catch{}qn(r,"unauthorized-domain")}function AC(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!SC.test(n))return!1;if(bC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const xC=new pu(3e4,6e4);function S0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RC(r){return new Promise((e,n)=>{function s(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(ri(r,"network-request-failed"))},timeout:xC.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=uR("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(ri(r,"network-request-failed"))},RE(`${lR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function CC(r){return ph=ph||RC(r),ph}const IC=new pu(5e3,15e3),NC="__/auth/iframe",DC="emulator/auth/iframe",OC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bg(e,DC):`https://${r.config.authDomain}/${NC}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=kC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function VC(r){const e=await CC(r),n=Oi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:MC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ri(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(h)},IC.get());function g(){Oi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,PC=600,UC="_blank",zC="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=PC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...jC,width:s.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();n&&(m=EE(p)?UC:n),vE(p)&&(e=e||zC,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[D,F])=>`${A}${D}=${F},`,"");if(Zx(p)&&m!=="_self")return HC(e||"",m),new w0(null);const b=window.open(e||"",m,T);ye(b,r,"popup-blocked");try{b.focus()}catch{}return new w0(b)}function HC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const qC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function A0(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof Qh){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",E2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof vu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),p=g?`#${GC}=${encodeURIComponent(g)}`:"";return`${KC(r)}?${gu(m).slice(1)}${p}`}function KC({config:r}){return r.emulator?bg(r,FC):`https://${r.authDomain}/${qC}`}const Nm="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LE,this._completeRedirectFn=yC,this._overrideRedirectResult=mC}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await A0(e,n,s,Fm(),o);return BC(e,u,Rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await A0(e,n,s,Fm(),o);return WR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VC(e),s=new _C(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AE()||_E()||wg()}}const QC=YC;var x0="@firebase/auth",R0="1.12.0";class WC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $C(r){ho(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(r)},p=new sR(s,o,u,g);return gR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new na("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(s=>new WC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(x0,R0,XC(r)),ss(x0,R0,"esm2020")}const JC=300,ZC=tE("authIdTokenMaxAge")||JC;let C0=null;const eI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n?.token;C0!==o&&(C0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tI(r=oE()){const e=_g(r,"auth");if(e.isInitialized())return e.getImmediate();const n=mR(r,{popupRedirectResolver:QC,persistence:[rC,KR,LE]}),s=tE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=eI(u.toString());BR(n,h,()=>h(n.currentUser)),zR(n,m=>h(m))}}const o=Z1("auth");return o&&pR(n,`http://${o}`),n}function nI(){return document.getElementsByTagName("head")?.[0]??document}aR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$C("Browser");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,FE;(function(){var r;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,k,P){for(var C=Array(arguments.length-2),st=2;st<arguments.length;st++)C[st-2]=arguments[st];return x.prototype[k].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)V[k]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(k=0;k<16;++k)V[k]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],k=N.g[2];let P=N.g[3],C;C=x+(P^R&(k^P))+V[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=P+(k^x&(R^k))+V[1]+3905402710&4294967295,P=x+(C<<12&4294967295|C>>>20),C=k+(R^P&(x^R))+V[2]+606105819&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(x^k&(P^x))+V[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=x+(P^R&(k^P))+V[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=P+(k^x&(R^k))+V[5]+1200080426&4294967295,P=x+(C<<12&4294967295|C>>>20),C=k+(R^P&(x^R))+V[6]+2821735955&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(x^k&(P^x))+V[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=x+(P^R&(k^P))+V[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=P+(k^x&(R^k))+V[9]+2336552879&4294967295,P=x+(C<<12&4294967295|C>>>20),C=k+(R^P&(x^R))+V[10]+4294925233&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(x^k&(P^x))+V[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=x+(P^R&(k^P))+V[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=P+(k^x&(R^k))+V[13]+4254626195&4294967295,P=x+(C<<12&4294967295|C>>>20),C=k+(R^P&(x^R))+V[14]+2792965006&4294967295,k=P+(C<<17&4294967295|C>>>15),C=R+(x^k&(P^x))+V[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=x+(k^P&(R^k))+V[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(x^R))+V[6]+3225465664&4294967295,P=x+(C<<9&4294967295|C>>>23),C=k+(x^R&(P^x))+V[11]+643717713&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^x&(k^P))+V[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=x+(k^P&(R^k))+V[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(x^R))+V[10]+38016083&4294967295,P=x+(C<<9&4294967295|C>>>23),C=k+(x^R&(P^x))+V[15]+3634488961&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^x&(k^P))+V[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=x+(k^P&(R^k))+V[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(x^R))+V[14]+3275163606&4294967295,P=x+(C<<9&4294967295|C>>>23),C=k+(x^R&(P^x))+V[3]+4107603335&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^x&(k^P))+V[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=x+(k^P&(R^k))+V[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=P+(R^k&(x^R))+V[2]+4243563512&4294967295,P=x+(C<<9&4294967295|C>>>23),C=k+(x^R&(P^x))+V[7]+1735328473&4294967295,k=P+(C<<14&4294967295|C>>>18),C=R+(P^x&(k^P))+V[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=x+(R^k^P)+V[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=P+(x^R^k)+V[8]+2272392833&4294967295,P=x+(C<<11&4294967295|C>>>21),C=k+(P^x^R)+V[11]+1839030562&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^x)+V[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=x+(R^k^P)+V[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=P+(x^R^k)+V[4]+1272893353&4294967295,P=x+(C<<11&4294967295|C>>>21),C=k+(P^x^R)+V[7]+4139469664&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^x)+V[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=x+(R^k^P)+V[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=P+(x^R^k)+V[0]+3936430074&4294967295,P=x+(C<<11&4294967295|C>>>21),C=k+(P^x^R)+V[3]+3572445317&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^x)+V[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=x+(R^k^P)+V[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=P+(x^R^k)+V[12]+3873151461&4294967295,P=x+(C<<11&4294967295|C>>>21),C=k+(P^x^R)+V[15]+530742520&4294967295,k=P+(C<<16&4294967295|C>>>16),C=R+(k^P^x)+V[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=x+(k^(R|~P))+V[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=P+(R^(x|~k))+V[7]+1126891415&4294967295,P=x+(C<<10&4294967295|C>>>22),C=k+(x^(P|~R))+V[14]+2878612391&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~x))+V[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=x+(k^(R|~P))+V[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=P+(R^(x|~k))+V[3]+2399980690&4294967295,P=x+(C<<10&4294967295|C>>>22),C=k+(x^(P|~R))+V[10]+4293915773&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~x))+V[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=x+(k^(R|~P))+V[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=P+(R^(x|~k))+V[15]+4264355552&4294967295,P=x+(C<<10&4294967295|C>>>22),C=k+(x^(P|~R))+V[6]+2734768916&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~x))+V[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=x+(k^(R|~P))+V[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=P+(R^(x|~k))+V[11]+3174756917&4294967295,P=x+(C<<10&4294967295|C>>>22),C=k+(x^(P|~R))+V[2]+718787259&4294967295,k=P+(C<<15&4294967295|C>>>17),C=R+(P^(k|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,V=this.C;let k=this.h,P=0;for(;P<x;){if(k==0)for(;P<=R;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<x;)if(V[k++]=N.charCodeAt(P++),k==this.blockSize){o(this,V),k=0;break}}else for(;P<x;)if(V[k++]=N[P++],k==this.blockSize){o(this,V),k=0;break}}this.h=k,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[x++]=this.g[R]>>>V&255;return N};function u(N,x){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function h(N,x){this.h=x;const R=[];let V=!0;for(let k=N.length-1;k>=0;k--){const P=N[k]|0;V&&P==x||(R[k]=P,V=!1)}this.g=R}var m={};function g(N){return-128<=N&&N<128?u(N,function(x){return new h([x|0],x<0?-1:0)}):new h([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return K(p(-N));const x=[];let R=1;for(let V=0;N>=R;V++)x[V]=N/R|0,R*=4294967296;return new h(x,0)}function T(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return K(T(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(x,8));let V=b;for(let P=0;P<N.length;P+=8){var k=Math.min(8,N.length-P);const C=parseInt(N.substring(P,P+k),x);k<8?(k=p(Math.pow(x,k)),V=V.j(k).add(p(C))):(V=V.j(R),V=V.add(p(C)))}return V}var b=g(0),A=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(Y(this))return-K(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(Y(this))return"-"+K(this).toString(N);const x=p(Math.pow(N,6));var R=this;let V="";for(;;){const k=re(R,x).g;R=ie(R,k.j(x));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=k,F(R))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function Y(N){return N.h==-1}r.l=function(N){return N=ie(this,N),Y(N)?-1:F(N)?0:1};function K(N){const x=N.g.length,R=[];for(let V=0;V<x;V++)R[V]=~N.g[V];return new h(R,~N.h).add(A)}r.abs=function(){return Y(this)?K(this):this},r.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let k=0;k<=x;k++){let P=V+(this.i(k)&65535)+(N.i(k)&65535),C=(P>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);V=C>>>16,P&=65535,C&=65535,R[k]=C<<16|P}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ie(N,x){return N.add(K(x))}r.j=function(N){if(F(this)||F(N))return b;if(Y(this))return Y(N)?K(this).j(K(N)):K(K(this).j(N));if(Y(N))return K(this.j(K(N)));if(this.l(D)<0&&N.l(D)<0)return p(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<N.g.length;k++){const P=this.i(V)>>>16,C=this.i(V)&65535,st=N.i(k)>>>16,Ot=N.i(k)&65535;R[2*V+2*k]+=C*Ot,te(R,2*V+2*k),R[2*V+2*k+1]+=P*Ot,te(R,2*V+2*k+1),R[2*V+2*k+1]+=C*st,te(R,2*V+2*k+1),R[2*V+2*k+2]+=P*st,te(R,2*V+2*k+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new h(R,0)};function te(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ne(N,x){this.g=N,this.h=x}function re(N,x){if(F(x))throw Error("division by zero");if(F(N))return new ne(b,b);if(Y(N))return x=re(K(N),x),new ne(K(x.g),K(x.h));if(Y(x))return x=re(N,K(x)),new ne(K(x.g),x.h);if(N.g.length>30){if(Y(N)||Y(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,V=x;V.l(N)<=0;)R=Ee(R),V=Ee(V);var k=Ce(R,1),P=Ce(V,1);for(V=Ce(V,2),R=Ce(R,2);!F(V);){var C=P.add(V);C.l(N)<=0&&(k=k.add(R),P=C),V=Ce(V,1),R=Ce(R,1)}return x=ie(N,k.j(x)),new ne(k,x)}for(k=b;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=p(R),C=P.j(x);Y(C)||C.l(N)>0;)R-=V,P=p(R),C=P.j(x);F(P)&&(P=A),k=k.add(P),N=ie(N,C)}return new ne(k,N)}r.B=function(N){return re(this,N).h},r.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&N.i(V);return new h(R,this.h&N.h)},r.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|N.i(V);return new h(R,this.h|N.h)},r.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^N.i(V);return new h(R,this.h^N.h)};function Ee(N){const x=N.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new h(R,N.h)}function Ce(N,x){const R=x>>5;x%=32;const V=N.g.length-R,k=[];for(let P=0;P<V;P++)k[P]=x>0?N.i(P+R)>>>x|N.i(P+R+1)<<32-x:N.i(P+R);return new h(k,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,FE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,as=h}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GE,Bl,KE,yh,Qm,YE,QE,WE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in E))break e;E=E[U]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=g,p.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,U,q){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[U].apply(w,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function F(c,y){for(let w=1;w<arguments.length;w++){const U=arguments[w];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const q=U.length||0;c.length=E+q;for(let se=0;se<q;se++)c[E+se]=U[se]}else c.push(U)}}class Y{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,E){const w=ne.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Ce=!1,N=new te,x=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(R)}};function R(){for(var c;c=ie();){try{c.h.call(c.g)}catch(E){K(E)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(st,k),st.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(c,y,E,w,U){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=U,this.key=++W,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function M(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(E in w)c[E]=w[E];for(let q=0;q<Z.length;q++)E=Z[q],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,E,w,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=xe(c,y,w,U);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,q,!!w,U),y.fa=E,c.push(y)),y};function _e(c,y){const E=y.type;if(E in c.g){var w=c.g[E],U=Array.prototype.indexOf.call(w,y,void 0),q;(q=U>=0)&&Array.prototype.splice.call(w,U,1),q&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,y,E,w){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==y&&q.capture==!!E&&q.ha==w)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),kt={};function at(c,y,E,w,U){if(Array.isArray(y)){for(let q=0;q<y.length;q++)at(c,y[q],E,w,U);return null}return E=Oo(E),c&&c[Ot]?c.J(y,E,m(w)?!!w.capture:!1,U):_s(c,y,E,!1,w,U)}function _s(c,y,E,w,U,q){if(!y)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let we=Es(c);if(we||(c[Le]=we=new ce(c)),E=we.add(y,E,w,se,q),E.proxy)return E;if(w=fa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)P||(U=se),U===void 0&&(U=!1),c.addEventListener(y.toString(),w,U);else if(c.attachEvent)c.attachEvent(ui(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fa(){function c(E){return y.call(c.src,c.listener,E)}const y=No;return c}function da(c,y,E,w,U){if(Array.isArray(y))for(var q=0;q<y.length;q++)da(c,y[q],E,w,U);else w=m(w)?!!w.capture:!!w,E=Oo(E),c&&c[Ot]?(c=c.i,q=String(y).toString(),q in c.g&&(y=c.g[q],E=xe(y,E,w,U),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[q],c.h--)))):c&&(c=Es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,E,w,U)),(E=c>-1?y[c]:null)&&ma(E))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])_e(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(ui(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Es(y))?(_e(E,c),E.h==0&&(E.src=null,y[Le]=null)):ge(c)}}}function ui(c){return c in kt?kt[c]:kt[c]="on"+c}function No(c,y){if(c.da)c=!0;else{y=new st(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&ma(c),c=E.call(w,y)}return c}function Es(c){return c=c[Le],c instanceof ce?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function Et(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}b(Et,V),Et.prototype[Ot]=!0,Et.prototype.removeEventListener=function(c,y,E,w){da(this,c,y,E,w)};function Mt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new k(y,c);else if(y instanceof k)y.target=y.target||c;else{var U=y;y=new k(w,c),oe(y,U)}U=!0;let q,se;if(E)for(se=E.length-1;se>=0;se--)q=y.g=E[se],U=vr(q,w,!0,y)&&U;if(q=y.g=c,U=vr(q,w,!0,y)&&U,U=vr(q,w,!1,y)&&U,E)for(se=0;se<E.length;se++)q=y.g=E[se],U=vr(q,w,!1,y)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)ge(E[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},Et.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function vr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let q=0;q<y.length;++q){const se=y[q];if(se&&!se.da&&se.capture==E){const we=se.listener,pt=se.ha||se.src;se.fa&&_e(c.i,se),U=we.call(pt,w)!==!1&&U}}return U&&!w.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Iu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){V.call(this),this.h=c,this.g={}}b(Ts,V);var ko=[];function Mo(c){Ue(c.g,function(y,E){this.g.hasOwnProperty(E)&&ma(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Mo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,vf=h.JSON.parse,Nu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Du(){}function Ou(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){k.call(this,"d")}b(Bt,k);function In(){k.call(this,"c")}b(In,k);var gt={},ku=null;function ga(){return ku=ku||new Et}gt.Ia="serverreachability";function Mu(c){k.call(this,gt.Ia,c)}b(Mu,k);function ci(c){const y=ga();Mt(y,new Mu(y))}gt.STAT_EVENT="statevent";function bs(c,y){k.call(this,gt.STAT_EVENT,c),this.stat=y}b(bs,k);function Tt(c){const y=ga();Mt(y,new bs(y,c))}gt.Ja="timingevent";function hi(c,y){k.call(this,gt.Ja,c),this.size=y}b(hi,k);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function _f(c,y,E,w,U,q){c.info(function(){if(c.g)if(q){var se="",we=q.split("&");for(let He=0;He<we.length;He++){var pt=we[He].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const kn=ot.split("_");se=kn.length>=2&&kn[1]=="type"?se+(ot+"="+pt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+y+`
`+E+`
`+se})}function Vu(c,y,E,w,U,q,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+y+`
`+E+`
`+q+" "+se})}function di(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,E)+(w?" "+w:"")})}function Ss(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var U=w[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return _r(q)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function As(){}b(As,Du),As.prototype.g=function(){return new XMLHttpRequest},jo=new As;function Pi(c){return encodeURIComponent(String(c))}function ju(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function mi(c,y,E){c.M=1,c.A=xs(wt(y)),c.u=E,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),gi(c),c.B=wt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ea(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Qn,c.g=$u(c.j,E?y:null,!c.u),c.P>0&&(c.O=new nn(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(ko[0]=U.toString()),U=ko);for(let q=0;q<U.length;q++){const se=at(E,U[q],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),_f(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const we=$n(this.g),pt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||He<=0?ci(3):ci(2)),pi(this);var y=this.g.ca();this.X=y;var E=Tf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,U=this.g;if((w=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var q=w;break t}}q=null}if(c=q)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),Nn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Pu(this,E),ot==Lt){we==4&&(this.m=4,Tt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,Tt(15),di(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ot,null),yi(this,ot);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),$o(se),se.P=!0,Tt(11))}}else di(this.i,this.l,E,null),yi(this,E);we==4&&pn(this),this.o&&!this.K&&(we==4?Yu(this.j,this):(this.o=!1,gi(this)))}else zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),Nn(this)}}}catch{}};function Tf(c){if(!Lu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let E="";const w=y.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Nn(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<w;q++)c.h.h=!0,E+=c.h.i.decode(y[q],{stream:!(U&&q==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?Lt:(E=Number(y.substring(E,w)),isNaN(E)?bt:(w+=1,w+E>y.length?Lt:(y=y.slice(w,w+E),c.C=w+E,y)))}Yn.prototype.cancel=function(){this.K=!0,pn(this)};function gi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(p(c.aa,c),y)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(ci(),Tt(17)),pn(this),this.m=2,Nn(this)):ya(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Yu(c.j,c)}function pn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||_i(E.h,c))){if(!c.L&&_i(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Aa(E),Rr(E);else break e;ks(E),Tt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(p(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ai(E,11)}else if((c.L||E.g==c)&&Aa(E),!C(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let He=U[y];const ot=He[0];if(!(ot<=E.K))if(E.K=ot,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const kn=He[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const xi=He[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const Jn=He[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Zn=c.g;if(Zn){const Ms=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var q=w.h;q.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(w.G){const xa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(w.wa=xa,Ke(w.J,w.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var se=c;if(w.na=Xu(w,w.L?w.ba:null,w.W),se.L){zo(w.h,se);var we=se,pt=w.O;pt&&(we.H=pt),we.D&&(pi(we),gi(we)),w.g=se}else Gu(w);E.i.length>0&&wi(E)}else He[0]!="stop"&&He[0]!="close"||Ai(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ai(E,7):Wo(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}ci(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return D(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let U,q=null;w>=0?(U=c[E].substring(0,w),q=c[E].substring(w+1)):U=c[E],y(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Ho(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),Er(this,y[4]),this.h=Ei(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rs(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,_a,!0),"@"),c.push(Pi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Rs(E,E.charAt(0)=="/"?qo:zu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Rs(E,Bu)),c.join("")},yn.prototype.resolve=function(c){const y=wt(this);let E=!!c.j;E?Pt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Er(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var U=y.h.lastIndexOf("/");U!=-1&&(w=y.h.slice(0,U+1)+w)}if(U=w,U==".."||U==".")w="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){w=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let se=0;se<U.length;){const we=U[se++];we=="."?w&&se==U.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&se==U.length&&q.push("")):(q.push(we),w=!0)}w=q.join("/")}else w=U}return E?y.h=w:E=c.i.toString()!=="",E?Ho(y,qu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function wt(c){return new yn(c)}function Pt(c,y,E){c.j=E?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,E){y instanceof br?(c.i=y,Ta(c.i,c.l)):(E||(y=Rs(y,Tr)),c.i=new br(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function xs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,zu=/[#\?:]/g,qo=/[#\?]/g,Tr=/[#\?@]/g,Bu=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=br.prototype,r.add=function(c,y){on(this),this.i=null,c=Sr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Hu(c,y){on(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fo(c,y){return on(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,w){E.forEach(function(U){c.call(y,U,w,this)},this)},this)};function Go(c,y){on(c);let E=[];if(typeof y=="string")Fo(c,y)&&(E=E.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=Sr(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Go(this,c),c.length>0?String(c[0]):y):y};function Ea(c,y,E){Hu(c,y),E.length>0&&(c.i=null,c.g.set(Sr(c,y),D(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const U=Pi(E);E=Go(this,E);for(let q=0;q<E.length;q++){let se=U;E[q]!==""&&(se+="="+Pi(E[q])),c.push(se)}}return this.i=c.join("&")};function qu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ta(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,w){const U=w.toLowerCase();w!=U&&(Hu(this,w),Ea(this,U,E))},c)),c.j=y}function Wn(c,y){const E=new Kn;if(h.Image){const w=new Image;w.onload=T(Dn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Dn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Dn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Dn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ko(c,y){const E=new Kn,w=new AbortController,U=setTimeout(()=>{w.abort(),Dn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(q=>{clearTimeout(U),q.ok?Dn(E,"TestPingServer: ok",!0,y):Dn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Dn(E,"TestPingServer: error",!1,y)})}function Dn(c,y,E,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(E)}catch{}}function wr(){this.g=new Nu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ti,Du),Ti.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Cs,Et),r=Cs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Xn(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return Ue(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Is(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=On(E),typeof c=="string"?E!=null&&Pi(E):Ke(c,y,E))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,Et);var bi=/^https?$/i,Yo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(q){Ns(this,q);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)E.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())E.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Yo,y,void 0)>=0)||w||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of E)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ns(this,q)}};function Ns(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Qo(c),Ui(c)}function Qo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=q===0){let se=String(c.D).match(Uu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),w=!bi.test(se?se.toLowerCase():"")}E=w}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Qo(c)}}finally{Ui(c)}}}}function Ui(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),vf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var E=ju(c[w]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=y[U]||[];y[U]=q,q.push(E)}Ge(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,w){Tt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Xu(this,null,this.W),wi(this)};function Wo(c){if(Sa(c),c.I==3){var y=c.V++,E=wt(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Os(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=xs(wt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}Wu(c)}function Rr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Sa(c){Rr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!Po(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||x(),Ce||(Ee(),Ce=!0),N.add(y,c),c.D=0}}function wa(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(p(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Yn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),oe(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Fu(this,U,y),E=wt(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Os(this,E),q&&(this.R?y="headers="+Pi(On(q))+"&"+y:this.u&&Is(E,this.u,q)),Uo(this.h,U),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),U.U=!0,mi(U,E,null)):mi(U,E,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Po(this.h)||Xo(this))};function Xo(c,y){var E;y?E=y.l:E=c.V++;const w=wt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",E),Ke(w,"AID",c.K),Os(c,w),c.u&&c.o&&Is(w,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,E),mi(E,w,y)}function Os(c,y){c.H&&Ue(c.H,function(E,w){Ke(y,w,E)}),c.l&&Ue({},function(E,w){Ke(y,w,E)})}function Fu(c,y,E){E=Math.min(c.i.length,E);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var U=c.i;let we=-1;for(;;){const pt=["count="+E];we==-1?E>0?(we=U[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let He=!0;for(let ot=0;ot<E;ot++){var q=U[ot].g;const kn=U[ot].map;if(q-=we,q<0)we=Math.max(0,U[ot].g-100),He=!1;else try{q="req"+q+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[xi,Jn]of se){let Zn=Jn;m(Jn)&&(Zn=_r(Jn)),pt.push(q+xi+"="+encodeURIComponent(Zn))}}catch(xi){throw pt.push(q+"type="+encodeURIComponent("_badmap")),xi}}catch{w&&w(kn)}}if(He){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||x(),Ce||(Ee(),Ce=!0),N.add(y,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(p(c.Da,c),Qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Rr(this),Ku(this))};function $o(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Ku(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Os(c,y),c.u&&c.o&&Is(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=xs(wt(y)),E.u=null,E.R=!0,pa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),ks(this),Tt(19))};function Aa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Yu(c,y){var E=null;if(c.g==y){Aa(c),$o(c),c.g=null;var w=2}else if(_i(c.h,y))E=y.G,zo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;w=ga(),Mt(w,new hi(w,E)),wi(c)}else Gu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(w==1&&wa(c,y)||w==2&&ks(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),U){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),w=c.Ua;const U=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pt(w,"https"),xs(w),U?Wn(w.toString(),E):Ko(w.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Wu(c),Sa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Wu(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,E){var w=E instanceof yn?wt(E):new yn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Er(w,w.u);else{var U=h.location;w=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const q=new yn(null);w&&Pt(q,w),y&&(q.g=y),U&&Er(q,U),E&&(q.h=E),w=q}return E=c.G,y=c.wa,E&&y&&Ke(w,E,y),Ke(w,"VER",c.ka),Os(c,w),w}function $u(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ti({ab:E})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Et.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}b(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Wo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=_r(c),c=E);y.i.push(new St(y.Ya++,c)),y.I==3&&wi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,rn.Z.N.call(this)};function Zu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Zu,Bt);function ec(){In.call(this),this.status=1}b(ec,In);function Bi(c){this.g=c}b(Bi,Ju),Bi.prototype.ra=function(){Mt(this.g,"a")},Bi.prototype.qa=function(c){Mt(this.g,new Zu(c))},Bi.prototype.pa=function(c){Mt(this.g,new ec)},Bi.prototype.oa=function(){Mt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,WE=function(){return new Cr},QE=function(){return ga()},YE=gt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,yh=ws,Vo.COMPLETE="complete",KE=Vo,Ou.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bl=Ou,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,GE=Xe}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let wo="12.9.0";function iI(r){wo=r}const sa=new yg("@firebase/firestore");function no(){return sa.logLevel}function ue(r,...e){if(sa.logLevel<=ke.DEBUG){const n=e.map(Ng);sa.debug(`Firestore (${wo}): ${r}`,...n)}}function fr(r,...e){if(sa.logLevel<=ke.ERROR){const n=e.map(Ng);sa.error(`Firestore (${wo}): ${r}`,...n)}}function aa(r,...e){if(sa.logLevel<=ke.WARN){const n=e.map(Ng);sa.warn(`Firestore (${wo}): ${r}`,...n)}}function Ng(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,XE(r,s,n)}function XE(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||XE(e,o,s)}function Se(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class oI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class lI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new oI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function Wm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Me(o,u):Dm(o)?1:-1}return Me(r.length,e.length)}const hI=55296,fI=57343;function Dm(r){const e=r.charCodeAt(0);return e>=hI&&e<=fI}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const D0="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class tt extends Di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Di{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new Qt([D0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function JE(r,e,n){if(!n)throw new le($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mI(r,e,n,s){if(e===!0&&s===!0)throw new le($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function O0(r){if(!me.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k0(r){if(me.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ZE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function Cn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Eu(r,e){if(!ZE(r))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le($.INVALID_ARGUMENT,n);return!0}const M0=-62135596800,V0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*V0);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M0)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Dt("string",rt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function gI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ls(o,me.empty(),e)}function pI(r){return new ls(r.readTime,r.key,tu)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Te.min(),me.empty(),tu)}static max(){return new ls(Te.max(),me.empty(),tu)}}function yI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==vI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function EI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Og=-1;function Zh(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function TI(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const eT="";function bI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=j0(e)),e=SI(r.get(n),e);return j0(e)}function SI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case eT:n+="";break;default:n+=u}}return n}function j0(r){return r+eT+""}function L0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function tT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(e){return new P0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class P0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new jt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nT("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=wI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function kg(r){return(r?.mapValue?.fields||{})[rT]?.stringValue===iT}function ef(r){const e=r.mapValue.fields[sT];return kg(e)?ef(e):e}function nu(r){const e=us(r.mapValue.fields[aT].timestampValue);return new rt(e.seconds,e.nanos)}class AI{constructor(e,n,s,o,u,h,m,g,p,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=b}}const Oh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function xI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(r.options.projectId,e)}const oT="__type__",RI="__max__",lh={mapValue:{}},lT="__vector__",kh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kg(r)?4:II(r)?9007199254740991:CI(r)?10:11:ve(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=us(o.timestampValue),m=us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(h)!==L0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Li(h[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return U0(r.timestampValue,e.timestampValue);case 4:return U0(nu(r),nu(e));case 5:return Wm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=cs(u),g=cs(h);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Me(m[p],g[p]);if(T!==0)return T}return Me(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Me(_t(u.latitude),_t(h.latitude));return m!==0?m:Me(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[kh]?.arrayValue,T=g[kh]?.arrayValue,b=Me(p?.values?.length||0,T?.values?.length||0);return b!==0?b:z0(p,T)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const A=Wm(g[b],T[b]);if(A!==0)return A;const D=go(m[g[b]],p[T[b]]);if(D!==0)return D}return Me(g.length,T.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function U0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=us(r),s=us(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function z0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function po(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Xm(n.fields[h])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function vh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,h)=>{o+=u.length+vh(h)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function B0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $m(r){return!!r&&"integerValue"in r}function Mg(r){return!!r&&"arrayValue"in r}function H0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function CI(r){return(r?.mapValue?.fields||{})[oT]?.stringValue===lT}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function II(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Yl(this.value))}}function uT(r){const e=[];return ys(r.fields,((n,s)=>{const o=new Qt([n]);if(_h(s)){const u=uT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function F0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function G0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function NI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class cT{}class Nt extends cT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new OI(e,n,s):n==="array-contains"?new VI(e,s):n==="in"?new jI(e,s):n==="not-in"?new LI(e,s):n==="array-contains-any"?new PI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kI(e,s):new MI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends cT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return hT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(r){return r.op==="and"}function fT(r){return DI(r)&&hT(r)}function DI(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function Jm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(fT(r))return r.filters.map((e=>Jm(e))).join(",");{const e=r.filters.map((n=>Jm(n))).join(",");return`${r.op}(${e})`}}function dT(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&dT(h,o.filters[m])),!0):!1})(r,e):void ve(19439)}function mT(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(mT).join(" ,")+"}"})(r):"Filter"}class OI extends Nt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class kI extends Nt{constructor(e,n){super(e,"in",n),this.keys=gT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=gT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gT(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class VI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mg(n)&&ru(n.arrayValue,this.value)}}class jI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class LI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class PI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class UI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function K0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new UI(r,e,n,s,o,u,h)}function Vg(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function jg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!dT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G0(r.startAt,e.startAt)&&G0(r.endAt,e.endAt)}function Zm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zI(r,e,n,s,o,u,h,m){return new Ro(r,e,n,s,o,u,h,m)}function tf(r){return new Ro(r)}function Y0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BI(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function pT(r){return r.collectionGroup!==null}function Ql(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Qt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new su(Qt.keyField(),s))}return e.Ie}function ki(r){const e=Se(r);return e.Ee||(e.Ee=HI(e,Ql(r))),e.Ee}function HI(r,e){if(r.limitType==="F")return K0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return K0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function eg(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qI(r,e){const n=r.explicitOrderBy.concat([e]);return new Ro(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Vh(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return jg(ki(r),ki(e))&&r.limitType===e.limitType}function yT(r){return`${Vg(ki(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>mT(o))).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(ki(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=F0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(h,m,g){const p=F0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,Ql(s),o))})(r,e)}function FI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vT(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=GI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function GI(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?go(g,p):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const KI=new ht(me.comparator);function dr(){return KI}const _T=new ht(me.comparator);function Hl(...r){let e=_T;for(const n of r)e=e.insert(n.key,n);return e}function ET(r){let e=_T;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Wl()}function TT(){return Wl()}function Wl(){return new ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YI=new ht(me.comparator),QI=new jt(me.comparator);function Ve(...r){let e=QI;for(const n of r)e=e.add(n);return e}const WI=new jt(Me);function XI(){return WI}function Lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function bT(r){return{integerValue:""+r}}function ST(r,e){return TI(e)?bT(e):Lg(r,e)}class sf{constructor(){this._=void 0}}function $I(r,e,n){return r instanceof au?(function(o,u){const h={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=ef(u)),u&&(h.fields[sT]=u),{mapValue:h}})(n,e):r instanceof ou?AT(r,e):r instanceof lu?xT(r,e):(function(o,u){const h=wT(o,u),m=Q0(h)+Q0(o.Ae);return $m(h)&&$m(o.Ae)?bT(m):Lg(o.serializer,m)})(r,e)}function JI(r,e,n){return r instanceof ou?AT(r,e):r instanceof lu?xT(r,e):n}function wT(r,e){return r instanceof uu?(function(s){return $m(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class au extends sf{}class ou extends sf{constructor(e){super(),this.elements=e}}function AT(r,e){const n=RT(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends sf{constructor(e){super(),this.elements=e}}function xT(r,e){let n=RT(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class uu extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q0(r){return _t(r.integerValue||r.doubleValue)}function RT(r){return Mg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class CT{constructor(e,n){this.field=e,this.transform=n}}function ZI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?mo(s.elements,o.elements,Li):s instanceof uu&&o instanceof uu?Li(s.Ae,o.Ae):s instanceof au&&o instanceof au})(r.transform,e.transform)}class eN{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function IT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new DT(r.key,si.none()):new Tu(r.key,r.data,si.none());{const n=r.data,s=mn.empty();let o=new jt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new vs(r.key,s,new Rn(o.toArray()),si.none())}}function tN(r,e,n){r instanceof Tu?(function(o,u,h){const m=o.value.clone(),g=X0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof vs?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=X0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(NT(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Xl(r,e,n,s){return r instanceof Tu?(function(u,h,m,g){if(!Eh(u.precondition,h))return m;const p=u.value.clone(),T=$0(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof vs?(function(u,h,m,g){if(!Eh(u.precondition,h))return m;const p=$0(u.fieldTransforms,g,h),T=h.data;return T.setAll(NT(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function nN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wT(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function W0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,h)=>ZI(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function X0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,JI(h,m,n[o]))}return s}function $0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,$I(u,h,e))}return s}class DT extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iN extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=IT(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>W0(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>W0(n,s)))}}class Pg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Pg(e,n,s,o)}}class sN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Pe;function oN(r){switch(r){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function OT(r){if(r===void 0)return fr("GRPC error has no .code"),$.UNKNOWN;switch(r){case It.OK:return $.OK;case It.CANCELLED:return $.CANCELLED;case It.UNKNOWN:return $.UNKNOWN;case It.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case It.INTERNAL:return $.INTERNAL;case It.UNAVAILABLE:return $.UNAVAILABLE;case It.UNAUTHENTICATED:return $.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case It.NOT_FOUND:return $.NOT_FOUND;case It.ALREADY_EXISTS:return $.ALREADY_EXISTS;case It.PERMISSION_DENIED:return $.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case It.ABORTED:return $.ABORTED;case It.OUT_OF_RANGE:return $.OUT_OF_RANGE;case It.UNIMPLEMENTED:return $.UNIMPLEMENTED;case It.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:r})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function lN(){return new TextEncoder}const uN=new as([4294967295,4294967295],0);function J0(r){const e=lN().encode(r),n=new FE;return n.update(e),new Uint8Array(n.digest())}function Z0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Ug{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(uN)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Ug(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=J0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(Te.min(),o,new ht(Me),dr(),Ve())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,Ve(),Ve(),Ve())}}class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class kT{constructor(e,n){this.targetId=e,this.Ce=n}}class MT{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class e1{constructor(){this.ve=0,this.Fe=t1(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=t1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class cN{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=uh(),this.Je=uh(),this.Ze=new ht(Me)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(s===0){const h=new me(u.path);this.et(n,h,Zt.newNoDocument(h,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=cs(s).toUint8Array()}catch(g){if(g instanceof nT)return aa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ug(h,o,u)}catch(g){return aa(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Zm(m.target)){const g=new me(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Ve();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new of(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=uh(),this.Je=uh(),this.Ze=new ht(Me),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new e1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(Me),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(Me),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ht(me.comparator)}function t1(){return new ht(me.comparator)}const hN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class mN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(r,e){return r.useProto3Json||Zh(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gN(r,e){return jh(r,e.toTimestamp())}function Mi(r){return Fe(!!r,49232),Te.fromTimestamp((function(n){const s=us(n);return new rt(s.seconds,s.nanos)})(r))}function zg(r,e){return ng(r,e).canonicalString()}function ng(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function jT(r){const e=tt.fromString(r);return Fe(BT(e),10190,{key:e.toString()}),e}function ig(r,e){return zg(r.databaseId,e.path)}function Om(r,e){const n=jT(e);if(n.get(1)!==r.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(PT(n))}function LT(r,e){return zg(r.databaseId,e)}function pN(r){const e=jT(r);return e.length===4?tt.emptyPath():PT(e)}function rg(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PT(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function n1(r,e,n){return{name:ig(r,e),fields:n.value.mapValue.fields}}function yN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Wt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Wt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?$.UNKNOWN:OT(p.code);return new le(T,p.message||"")})(h);n=new MT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Mi(s.document.updateTime),h=s.document.createTime?Mi(s.document.createTime):Te.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Th(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Mi(s.readTime):Te.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new aN(o,u),m=s.targetId;n=new kT(m,h)}}return n}function vN(r,e){let n;if(e instanceof Tu)n={update:n1(r,e.key,e.value)};else if(e instanceof DT)n={delete:ig(r,e.key)};else if(e instanceof vs)n={update:n1(r,e.key,e.data),updateMask:RN(e.fieldMask)};else{if(!(e instanceof iN))return ve(16599,{dt:e.type});n={verify:ig(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof au)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:gN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function _N(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Mi(o.updateTime):Mi(u);return h.isEqual(Te.min())&&(h=Mi(u)),new eN(h,o.transformResults||[])})(n,e)))):[]}function EN(r,e){return{documents:[LT(r,e.path)]}}function TN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LT(r,o);const u=(function(p){if(p.length!==0)return zT(oi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(A){return{field:ro(A.field),direction:wN(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=tg(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function bN(r){let e=pN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const A=UT(b);return A instanceof oi&&fT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(F){return new su(so(F.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Zh(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,D=b.values||[];return new Mh(D,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const A=!b.before,D=b.values||[];return new Mh(D,A)})(n.endAt)),zI(e,o,h,u,m,"F",g,p)}function SN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(so(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>UT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function wN(r){return hN[r]}function AN(r){return fN[r]}function xN(r){return dN[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return Qt.fromServerFormat(r.fieldPath)}function zT(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:AN(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>zT(o)));return s.length===1?s[0]:{compositeFilter:{op:xN(n.op),filters:s}}})(r):ve(54877,{filter:r})}function RN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function HT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ns{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CN{constructor(e){this.yt=e}}function IN(r){const e=bN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vh(e,e.limit,"L"):e}class NN{constructor(){this.Sn=new DN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ls.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class DN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(tt.comparator)).toArray()}}const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qT=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(qT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const r1="LruGarbageCollector",ON=1048576;function s1([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class kN{constructor(e){this.Pr=e,this.buffer=new jt(s1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();s1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(r1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ue(r1,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Ar(3e5)}))}}class VN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Jh.ce);const s=new kN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(i1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),no()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function jN(r,e){return new VN(r,e)}class LN{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Rn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=dr();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof vs)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),Xl(T.mutation,p,T.mutation.getFieldMask(),rt.now())):h.set(p.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new PN(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ht(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||Rn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const b=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,b=TT();T.forEach((A=>{if(!u.has(A)){const D=IT(n.get(A),s.get(A));D!==null&&b.set(A,D),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ee.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return BI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Js());let m=tu,g=u;return h.next((p=>ee.forEach(p,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Ve()))).next((T=>({batchId:m,changes:ET(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const p=(function(b,A){return new Ro(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,Zt.newInvalidDocument(T)))}));let m=Hl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&Xl(T.mutation,p,Rn.empty(),rt.now()),rf(n,p)&&(m=m.insert(g,p))})),m}))}}class zN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:IN(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),ee.resolve()}}class BN{constructor(){this.overlays=new ht(me.comparator),this.Lr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=Js(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ee.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new sN(n,s));let u=this.Lr.get(n);u===void 0&&(u=Ve(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class HN{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Bg{constructor(){this.kr=new jt(zt.Kr),this.qr=new jt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new me(new tt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new me(new tt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Ve();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return me.comparator(e.key,n.key)||Me(e.Hr,n.Hr)}static Ur(e,n){return Me(e.Hr,n.Hr)||me.comparator(e.key,n.key)}}class qN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(zt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new rN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,n){return ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Og:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Me);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new zt(new me(u),0);let m=new jt(Me);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ee.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class FN{constructor(e){this.ti=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||yI(pI(T),s)<=0||(o.has(T.key)||rf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ni(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new GN(this)}getSize(e){return ee.resolve(this.size)}}class GN extends LN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class KN{constructor(e){this.persistence=e,this.ri=new ua((n=>Vg(n)),jg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.lr(n),ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.si.containsKey(n))}}class FT{constructor(e,n){this._i={},this.overlays={},this.ai=new Jh(0),this.ui=!1,this.ui=!0,this.ci=new HN,this.referenceDelegate=e(this),this.li=new KN(this),this.indexManager=new NN,this.remoteDocumentCache=(function(o){return new FN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new CN(n),this.Pi=new zN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new qN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new YN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class YN extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Ai=null}static Vi(e){return new Hg(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=me.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.fi=new ua((s=>bI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jN(this,n)}static Vi(e,n){return new Lh(e,n)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}wr(e,n,s){return ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qg(e,n.fromCache,s,o)}}class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return m2()?8:EI(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new QN;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(no()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(no()<=ke.DEBUG&&ue("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(no()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ee.resolve())}gs(e,n){if(Y0(n))return ee.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Vh(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,Vh(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return Y0(n)||o.isEqual(Te.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ee.resolve(null):(no()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.Ds(e,h,n,gI(o,tu)).next((m=>m)))}))}bs(e,n){let s=new jt(vT(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return no()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",io(n)),this.fs.getDocumentsMatchingQuery(e,n,ls.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Fg="LocalStore",XN=3e8;class $N{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Me),this.Fs=new ua((u=>Vg(u)),jg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function JN(r,e,n,s){return new $N(r,e,n,s)}async function GT(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Ve();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function ZN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const b=p.batch,A=b.keys();let D=ee.resolve();return A.forEach((F=>{D=D.next((()=>T.getEntry(g,F))).next((Y=>{const K=p.docVersions.get(F);Fe(K!==null,48541),Y.version.compareTo(K)<0&&(b.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),T.addEntry(Y)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Ve();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function KT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function e5(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Wt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(b,D),(function(Y,K,ie){return Y.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=XN?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(A,D,T)&&m.push(n.li.updateTargetData(u,D))}));let g=dr(),p=Ve();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(t5(u,h,e.documentUpdates).next((T=>{g=T.Bs,p=T.Ls}))),!s.isEqual(Te.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ee.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function t5(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=dr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(Fg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function n5(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function i5(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ns(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function sg(r,e,n){const s=Se(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!xo(h))throw h;ue(Fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function a1(r,e,n){const s=Se(r);let o=Te.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const b=Se(g),A=b.Fs.get(T);return A!==void 0?ee.resolve(b.vs.get(A)):b.li.getTargetData(p,T)})(s,h,ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Ve()))).next((m=>(r5(s,FI(e),m),{documents:m,ks:u})))))}function r5(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class o1{constructor(){this.activeTargetIds=XI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s5{constructor(){this.vo=new o1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new o1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a5{Mo(e){}shutdown(){}}const l1="ConnectivityMonitor";class u1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(l1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(l1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ch=null;function ag(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}const km="RestConnection",o5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class l5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=ag(),m=this.Qo(e,n.toUriEncodedString());ue(km,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),T=To(p);return this.zo(e,m,g,s,T).then((b=>(ue(km,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw aa(km,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=o5[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class u5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const $t="WebChannelConnection",Ll=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends l5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=QE();Ll(e,YE.STAT_EVENT,(n=>{n.stat===Qm.PROXY?ue($t,"STAT_EVENT: detected buffering proxy"):n.stat===Qm.NOPROXY&&ue($t,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,n,s,o,u){const h=ag();return new Promise(((m,g)=>{const p=new GE;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const b=p.getResponseJson();ue($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case yh.TIMEOUT:ue($t,`RPC '${e}' ${h} timed out`),g(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const A=p.getStatus();if(ue($t,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const F=D?.error;if(F&&F.status&&F.message){const Y=(function(ie){const te=ie.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(te)>=0?te:$.UNKNOWN})(F.status);g(new le(Y,F.message))}else g(new le($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue($t,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ue($t,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=ag(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${p}`,m);const T=h.createWebChannel(p,m);this.I_(T);let b=!1,A=!1;const D=new u5({Ho:F=>{A?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ue($t,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Jo:()=>T.close()});return Ll(T,Bl.EventType.OPEN,(()=>{A||(ue($t,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),Ll(T,Bl.EventType.CLOSE,(()=>{A||(A=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(T))})),Ll(T,Bl.EventType.ERROR,(F=>{A||(A=!0,aa($t,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),D.o_(new le($.UNAVAILABLE,"The operation could not be completed")))})),Ll(T,Bl.EventType.MESSAGE,(F=>{if(!A){const Y=F.data[0];Fe(!!Y,16349);const K=Y,ie=K?.error||K[0]?.error;if(ie){ue($t,`RPC '${e}' stream ${o} received error:`,ie);const te=ie.status;let ne=(function(Ce){const N=It[Ce];if(N!==void 0)return OT(N)})(te),re=ie.message;te==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ne===void 0&&(ne=$.INTERNAL,re="Unknown error status: "+te+" with message "+ie.message),A=!0,D.o_(new le(ne,re)),T.close()}else ue($t,`RPC '${e}' stream ${o} received:`,Y),D.__(Y)}})),uo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WE()}}function c5(r){return new uo(r)}function Mm(){return typeof document<"u"?document:null}function lf(r){return new mN(r,!0)}uo.c_=!1;class YT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c1="PersistentStream";class QT{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h5 extends QT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=yN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Mi(h.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=rg(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Zm(g)?{documents:EN(u,g)}:{query:TN(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=VT(u,h.resumeToken);const p=tg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const p=tg(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=SN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.K_(n)}}class f5 extends QT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_N(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=rg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vN(this.serializer,s)))};this.K_(n)}}class d5{}class m5 extends d5{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,ng(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le($.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,ng(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function g5(r,e,n,s){return new m5(r,e,n,s)}class p5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class y5{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ca(this)&&(ue(oa,"Restarting streams for network reachability change."),await(async function(g){const p=Se(g);p.Ea.add(4),await Su(p),p.Va.set("Unknown"),p.Ea.delete(4),await uf(p)})(this))}))})),this.Va=new p5(s,o)}}async function uf(r){if(ca(r))for(const e of r.Ra)await e(!0)}async function Su(r){for(const e of r.Ra)await e(!1)}function WT(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qg(n)?Yg(n):Co(n).O_()&&Kg(n,e))}function Gg(r,e){const n=Se(r),s=Co(n);n.Ia.delete(e),s.O_()&&XT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Va.set("Unknown"))}function Kg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Z_(e)}function XT(r,e){r.da.$e(e),Co(r).X_(e)}function Yg(r){r.da=new cN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Va.ua()}function Qg(r){return ca(r)&&!Co(r).x_()&&r.Ia.size>0}function ca(r){return Se(r).Ea.size===0}function $T(r){r.da=void 0}async function v5(r){r.Va.set("Online")}async function _5(r){r.Ia.forEach(((e,n)=>{Kg(r,e)}))}async function E5(r,e){$T(r),Qg(r)?(r.Va.ha(e),Yg(r)):r.Va.set("Unknown")}async function T5(r,e,n){if(r.Va.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){ue(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ph(r,s)}else if(e instanceof Th?r.da.Xe(e):e instanceof kT?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await KT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Wt.EMPTY_BYTE_STRING,T.snapshotVersion)),XT(u,g);const b=new ns(T.target,g,p,T.sequenceNumber);Kg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(oa,"Failed to raise snapshot:",s),await Ph(r,s)}}async function Ph(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await Su(r),r.Va.set("Offline"),n||(n=()=>KT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await uf(r)}))}function JT(r,e){return e().catch((n=>Ph(r,n,e)))}async function cf(r){const e=Se(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;b5(e);)try{const o=await n5(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,S5(e,o)}catch(o){await Ph(e,o)}ZT(e)&&eb(e)}function b5(r){return ca(r)&&r.Ta.length<10}function S5(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function ZT(r){return ca(r)&&!fs(r).x_()&&r.Ta.length>0}function eb(r){fs(r).start()}async function w5(r){fs(r).ra()}async function A5(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function x5(r,e,n){const s=r.Ta.shift(),o=Pg.from(s,e,n);await JT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await cf(r)}async function R5(r,e){e&&fs(r).Y_&&await(async function(s,o){if((function(h){return oN(h)&&h!==$.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await JT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(r,e),ZT(r)&&eb(r)}async function h1(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(oa,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await Su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function C5(r,e){const n=Se(r);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await Su(n),n.Va.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new h5(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:v5.bind(null,r),Yo:_5.bind(null,r),t_:E5.bind(null,r),J_:T5.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Qg(r)?Yg(r):r.Va.set("Unknown")):(await r.ma.stop(),$T(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new f5(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:w5.bind(null,r),t_:R5.bind(null,r),ta:A5.bind(null,r),na:x5.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await cf(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Wg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(r,e){if(fr("AsyncQueue",`${e}: ${r}`),xo(r))return new le($.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class f1{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new vo(e,n,co.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class I5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class N5{constructor(){this.queries=d1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=d1(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function d1(){return new ua((r=>yT(r)),nf)}async function $g(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new I5,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Xg(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zg(n)}async function Jg(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function D5(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Zg(n)}function O5(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Zg(r){r.Ca.forEach((e=>{e.next()}))}var og,m1;(m1=og||(og={})).Ma="default",m1.Cache="cache";class ep{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class k5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=vT(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new f1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),D=rf(this.query,b)?b:null,F=!!A&&this.mutatedKeys.has(A.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let K=!1;A&&D?A.data.isEqual(D.data)?F!==Y&&(s.track({type:3,doc:D}),K=!0):this.su(A,D)||(s.track({type:2,doc:D}),K=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),K=!0):A&&!D&&(s.track({type:1,doc:A}),K=!0,(g||p)&&(m=!0)),K&&(D?(h=h.add(D),u=Y?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(D,F){const Y=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:K})}};return Y(D)-Y(F)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new vo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new nb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new tb(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tp="SyncEngine";class M5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class V5{constructor(e){this.key=e,this.hu=!1}}class j5{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ua((m=>yT(m)),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(me.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L5(r,e,n=!0){const s=lb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ib(s,e,n,!0),o}async function P5(r,e){const n=lb(r);await ib(n,e,!0,!1)}async function ib(r,e,n,s){const o=await i5(r.localStore,ki(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await U5(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&WT(r.remoteStore,o),m}async function U5(r,e,n,s,o){r.pu=(b,A,D)=>(async function(Y,K,ie,te){let ne=K.view.ru(ie);ne.Ss&&(ne=await a1(Y.localStore,K.query,!1).then((({documents:N})=>K.view.ru(N,ne))));const re=te&&te.targetChanges.get(K.targetId),Ee=te&&te.targetMismatches.get(K.targetId)!=null,Ce=K.view.applyChanges(ne,Y.isPrimaryClient,re,Ee);return p1(Y,K.targetId,Ce.au),Ce.snapshot})(r,b,A,D);const u=await a1(r.localStore,e,!0),h=new k5(e,u.ks),m=h.ru(u.documents),g=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(m,r.isPrimaryClient,g);p1(r,n,p.au);const T=new M5(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function z5(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gg(s.remoteStore,o.targetId),lg(s,o.targetId)})).catch(Ao)):(lg(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function B5(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gg(n.remoteStore,s.targetId))}async function H5(r,e,n){const s=W5(r);try{const o=await(function(h,m){const g=Se(h),p=rt.now(),T=m.reduce(((D,F)=>D.add(F.key)),Ve());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let F=dr(),Y=Ve();return g.xs.getEntries(D,T).next((K=>{F=K,F.forEach(((ie,te)=>{te.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,F))).next((K=>{b=K;const ie=[];for(const te of m){const ne=nN(te,b.get(te.key).overlayedDocument);ne!=null&&ie.push(new vs(te.key,ne,uT(ne.value.mapValue),si.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,ie,m)})).next((K=>{A=K;const ie=K.applyToLocalDocumentSet(b,Y);return g.documentOverlayCache.saveOverlays(D,K.batchId,ie)}))})).then((()=>({batchId:A.batchId,changes:ET(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ht(Me)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await wu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=Xg(o,"Failed to persist write");n.reject(u)}}async function rb(r,e){const n=Se(r);try{const s=await e5(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await wu(n,s,e)}catch(s){await Ao(s)}}function g1(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Se(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,b)=>{for(const A of b.ba)A.va(m)&&(p=!0)})),p&&Zg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function q5(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,Zt.newNoDocument(u,Te.min()));const m=Ve().add(u),g=new of(Te.min(),new Map,new ht(Me),h,m);await rb(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),np(s)}else await sg(s.localStore,e,!1).then((()=>lg(s,e,n))).catch(Ao)}async function F5(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await ZN(n.localStore,e);ab(n,s,null),sb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await Ao(o)}}async function G5(r,e,n){const s=Se(r);try{const o=await(function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Fe(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);ab(s,e,n),sb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await Ao(o)}}function sb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function ab(r,e,n){const s=Se(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function lg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||ob(r,s)}))}function ob(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Gg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),np(r))}function p1(r,e,n){for(const s of n)s instanceof tb?(r.Vu.addReference(s.key,e),K5(r,s)):s instanceof nb?(ue(tp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||ob(r,s.key)):ve(19791,{wu:s})}function K5(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ue(tp,"New document in limbo: "+n),r.Eu.add(s),np(r))}function np(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new V5(n)),r.Ru=r.Ru.insert(n,s),WT(r.remoteStore,new ns(ki(tf(n.path)),s,"TargetPurposeLimboResolution",Jh.ce))}}async function wu(r,e,n){const s=Se(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=qg.Es(g.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(p,(A=>ee.forEach(A.Ts,(D=>T.persistence.referenceDelegate.addReference(b,A.targetId,D))).next((()=>ee.forEach(A.Is,(D=>T.persistence.referenceDelegate.removeReference(b,A.targetId,D)))))))))}catch(b){if(!xo(b))throw b;ue(Fg,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const D=T.vs.get(A),F=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(F);T.vs=T.vs.insert(A,Y)}}})(s.localStore,u))}async function Y5(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(tp,"User change. New user:",e.toKey());const s=await GT(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le($.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Ns)}}function Q5(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function lb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q5.bind(null,e),e.Pu.J_=D5.bind(null,e.eventManager),e.Pu.yu=O5.bind(null,e.eventManager),e}function W5(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JN(this.persistence,new WN,e.initialUser,this.serializer)}Cu(e){return new FT(Hg.Vi,this.serializer)}Du(e){return new s5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class X5 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new FT((s=>Lh.Vi(s,n)),this.serializer)}}class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,this.syncEngine),await C5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N5})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=c5(e.databaseInfo);return g5(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new y5(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>g1(this.syncEngine,n,0)),(function(){return u1.v()?new u1:new a5})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const b=new j5(o,u,h,m,g,p);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);ue(oa,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};class ip{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ds="FirestoreClient";class $5{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function y1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await J5(r);ue(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>h1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>h1(e.remoteStore,o))),r._onlineComponents=e}async function J5(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ds,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Uh)}}else ue(ds,"Using default OfflineComponentProvider"),await Vm(r,new X5(void 0));return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ds,"Using user provided OnlineComponentProvider"),await y1(r,r._uninitializedComponentsProvider._online)):(ue(ds,"Using default OnlineComponentProvider"),await y1(r,new ug))),r._onlineComponents}function Z5(r){return ub(r).then((e=>e.syncEngine))}async function zh(r){const e=await ub(r),n=e.eventManager;return n.onListen=L5.bind(null,e.syncEngine),n.onUnlisten=z5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B5.bind(null,e.syncEngine),n}function e4(r,e,n,s){const o=new ip(s),u=new ep(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>$g(await zh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Jg(await zh(r),u)))}}function t4(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new ip({next:A=>{T.Nu(),h.enqueueAndForget((()=>Jg(u,b)));const D=A.docs.has(m);!D&&A.fromCache?p.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&g&&g.source==="server"?p.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new ep(tf(m.path),T,{includeMetadataChanges:!0,Ka:!0});return $g(u,b)})(await zh(r),r.asyncQueue,e,n,s))),s.promise}function n4(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new ip({next:A=>{T.Nu(),h.enqueueAndForget((()=>Jg(u,b))),A.fromCache&&g.source==="server"?p.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new ep(m,T,{includeMetadataChanges:!0,Ka:!0});return $g(u,b)})(await zh(r),r.asyncQueue,e,n,s))),s.promise}function i4(r,e){const n=new lr;return r.asyncQueue.enqueueAndForget((async()=>H5(await Z5(r),e,n))),n.promise}function cb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const r4="ComponentProvider",v1=new Map;function s4(r,e,n,s,o){return new AI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,cb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const hb="firestore.googleapis.com",_1=!0;class E1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=_1}else this.host=e.host,this.ssl=e.ssl??_1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ON)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rI;switch(s.type){case"firstParty":return new lI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=v1.get(n);s&&(ue(r4,"Removing Datastore"),v1.delete(n),s.terminate())})(this),Promise.resolve()}}function a4(r,e,n,s={}){r=Cn(r,hf);const o=To(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(nE(`https://${m}`),iE("Firestore",!0)),u.host!==hb&&u.host!==m&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(g,h)&&(r._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Jt.MOCK_USER;else{p=s2(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(b)}r._authCredentials=new sI(new $E(p,T))}}class yr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Eu(n,mt._jsonSchema))return new mt(e,s||null,new me(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class os extends yr{constructor(e,n,s){super(e,n,tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new me(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function Io(r,e,...n){if(r=ct(r),JE("collection","path",e),r instanceof hf){const s=tt.fromString(e,...n);return k0(s),new os(r,null,s)}{if(!(r instanceof mt||r instanceof os))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return k0(s),new os(r.firestore,null,s)}}function ha(r,e,...n){if(r=ct(r),arguments.length===1&&(e=Dg.newId()),JE("doc","path",e),r instanceof hf){const s=tt.fromString(e,...n);return O0(s),new mt(r,null,new me(s))}{if(!(r instanceof mt||r instanceof os))throw new le($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return O0(s),new mt(r.firestore,r instanceof os?r.converter:null,new me(s))}}const T1="AsyncQueue";class b1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YT(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&ue(T1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;ue(T1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",S1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:S1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ms extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new b1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}}function o4(r,e){const n=typeof r=="object"?r:oE(),s=typeof r=="string"?r:Oh,o=_g(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=i2("firestore");u&&a4(o,...u)}return o}function ff(r){if(r._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||l4(r),r._firestoreClient}function l4(r){const e=r._freezeSettings(),n=s4(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new $5(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Wt.fromBase64String(e))}catch(n){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Dt("string",Hn._jsonSchemaVersion),bytes:Dt("string")};class rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Au{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Dt("string",ai._jsonSchemaVersion),vectorValues:Dt("object")};const u4=/^__.*__$/;class c4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class fb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function db(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:r})}}class sp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(db(this.dataSource)&&u4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class h4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}createContext(e,n,s,o=!1){return new sp({dataSource:e,methodName:n,targetDoc:s,path:Qt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(r){const e=r._freezeSettings(),n=lf(r._databaseId);return new h4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function mb(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);lp("Data must be an object, but it was:",h,s);const m=gb(s,h);let g,p;if(u.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const A=la(e,b,n);if(!h.contains(A))throw new le($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);vb(T,A)||T.push(A)}g=new Rn(T),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new c4(new mn(m),g,p)}class mf extends Au{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}class ap extends Au{_toFieldTransform(e){return new CT(e.path,new au)}isEqual(e){return e instanceof ap}}class op extends Au{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new uu(e.serializer,ST(e.serializer,this.Vc));return new CT(e.path,n)}isEqual(e){return e instanceof op&&this.Vc===e.Vc}}function f4(r,e,n,s){const o=r.createContext(1,e,n);lp("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();ys(s,((g,p)=>{const T=yb(e,g,n);p=ct(p);const b=o.childContextForFieldPath(T);if(p instanceof mf)u.push(T);else{const A=xu(p,b);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Rn(u);return new fb(h,m,o.fieldTransforms)}function d4(r,e,n,s,o,u){const h=r.createContext(1,e,n),m=[la(e,s,n)],g=[o];if(u.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(la(e,u[A])),g.push(u[A+1]);const p=[],T=mn.empty();for(let A=m.length-1;A>=0;--A)if(!vb(p,m[A])){const D=m[A];let F=g[A];F=ct(F);const Y=h.childContextForFieldPath(D);if(F instanceof mf)p.push(D);else{const K=xu(F,Y);K!=null&&(p.push(D),T.set(D,K))}}const b=new Rn(p);return new fb(T,b,h.fieldTransforms)}function m4(r,e,n,s=!1){return xu(n,r.createContext(s?4:3,e))}function xu(r,e){if(pb(r=ct(r)))return lp("Unsupported field value:",e,r),gb(r,e);if(r instanceof Au)return(function(s,o){if(!db(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=xu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ST(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:VT(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(h,m){const g=h instanceof ai?h.toArray():h;return{mapValue:{fields:{[oT]:{stringValue:lT},[kh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Lg(m.serializer,T)}))}}}}}})(s,o);if(HT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${$h(s)}`)})(r,e)}function gb(r,e){const n={};return tT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const u=xu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function pb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Vi||r instanceof Hn||r instanceof mt||r instanceof Au||r instanceof ai||HT(r))}function lp(r,e,n){if(!pb(n)||!ZE(n)){const s=$h(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function la(r,e,n){if((e=ct(e))instanceof rp)return e._internalPath;if(typeof e=="string")return yb(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const g4=new RegExp("[~\\*/\\[\\]]");function yb(r,e,n){if(e.search(g4)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rp(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le($.INVALID_ARGUMENT,m+r+g)}function vb(r,e){return r.some((n=>n.isEqual(e)))}class p4{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new ai(n)}convertGeoPoint(e){return new Vi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=us(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(BT(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class up extends p4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Ru(){return new ap("serverTimestamp")}function cg(r){return new op("increment",r)}const w1="@firebase/firestore",A1="4.11.0";function x1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _b{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(la("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y4 extends _b{data(){return super.data()}}function Eb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class hp extends cp{}function gf(r,e,...n){let s=[];e instanceof cp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof fp)).length,m=u.filter((g=>g instanceof pf)).length;if(h>1||h>0&&m>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends hp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pf(e,n,s)}_apply(e){const n=this._parse(e);return Sb(e._query,n),new yr(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=df(e.firestore);return(function(u,h,m,g,p,T,b){let A;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){C1(b,T);const F=[];for(const Y of b)F.push(R1(g,u,Y));A={arrayValue:{values:F}}}else A=R1(g,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||C1(b,T),A=m4(m,h,b,T==="in"||T==="not-in");return Nt.create(p,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tb(r,e,n){const s=e,o=la("where",r);return pf._create(o,s,n)}class fp extends cp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)Sb(h,g),h=eg(h,g)})(e._query,n),new yr(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dp extends hp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dp(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,h)})(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,qI(e._query,n))}}function bb(r,e="asc"){const n=e,s=la("orderBy",r);return dp._create(s,n)}class mp extends hp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new mp(e,n,s)}_apply(e){return new yr(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function v4(r){return mp._create("limit",r,"F")}function R1(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&n.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(r,new me(s))}if(n instanceof mt)return B0(r,n._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function C1(r,e){if(!Array.isArray(r)||r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function wb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends _b{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(la("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Dt("string",Zs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class bh extends Zs{data(e={}){return super.data(e)}}class ea{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:_4(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Dt("string",ea._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function Ab(r){r=Cn(r,mt);const e=Cn(r.firestore,ms),n=ff(e);return t4(n,r._key).then((s=>Ib(e,r,s)))}function xb(r){r=Cn(r,yr);const e=Cn(r.firestore,ms),n=ff(e),s=new up(e);return Eb(r._query),n4(n,r._query).then((o=>new ea(e,s,r,o)))}function Rb(r,e,n){r=Cn(r,mt);const s=Cn(r.firestore,ms),o=wb(r.converter,e),u=df(s);return pp(s,[mb(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function Hh(r,e,n,...s){r=Cn(r,mt);const o=Cn(r.firestore,ms),u=df(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof rp?d4(u,"updateDoc",r._key,e,n,s):f4(u,"updateDoc",r._key,e),pp(o,[h.toMutation(r._key,si.exists(!0))])}function Cb(r,e){const n=Cn(r.firestore,ms),s=ha(r),o=wb(r.converter,e),u=df(r.firestore);return pp(n,[mb(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then((()=>s))}function gp(r,...e){r=ct(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||x1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(x1(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof mt)h=Cn(r.firestore,ms),m=tf(r._key.path),u={next:p=>{e[s]&&e[s](Ib(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Cn(r,yr);h=Cn(p.firestore,ms),m=p._query;const T=new up(h);u={next:b=>{e[s]&&e[s](new ea(h,T,p,b))},error:e[s+1],complete:e[s+2]},Eb(r._query)}const g=ff(h);return e4(g,m,o,u)}function pp(r,e){const n=ff(r);return i4(n,e)}function Ib(r,e,n){const s=n.docs.get(e._key),o=new up(r);return new Zs(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){iI(bo),ho(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ms(new aI(s.getProvider("auth-internal")),new uI(h,s.getProvider("app-check-internal")),xI(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(w1,A1,e),ss(w1,A1,"esm2020")})();var E4="firebase",T4="12.9.0";ss(E4,T4,"app");const Nb={apiKey:"AIzaSyAbVydFcxERhYXp1_DwaISsezMouBUGwJg",authDomain:"dnaai-site.firebaseapp.com",projectId:"dnaai-site",storageBucket:"dnaai-site.firebasestorage.app",messagingSenderId:"1078586447801",appId:"1:1078586447801:web:56fbb6a72ab6ab59ac8868"},b4=!!Nb.apiKey;let jm,gn,en,cu;b4?(jm=aE(Nb),gn=tI(jm),en=o4(jm),cu=new ir):(console.warn(" Firebase cha c cu hnh. Tnh nng ng nhp s khng hot ng. Vui lng thm VITE_FIREBASE_* vo file .env"),gn=null,en=null,cu=null);const S4=async r=>{if(!gn||!en)throw new Error("Firebase cha c cu hnh.");const{id:e,email:n,password:s,dob:o,gender:u}=r,h=gf(Io(en,"users"),Tb("username","==",e.trim().toLowerCase()));if(!(await xb(h)).empty)throw new Error("ID  tn ti, vui lng chn ID khc.");const p=(await VR(gn,n,s)).user;return await LR(p),await Rb(ha(en,"users",p.uid),{uid:p.uid,username:e.trim().toLowerCase(),email:n,dob:o,gender:u,photoURL:p.photoURL||"",createdAt:Ru()}),p},w4=async(r,e)=>{if(!gn||!en)throw new Error("Firebase cha c cu hnh.");const n=r.trim().toLowerCase();let s=n;if(!n.includes("@")){const o=gf(Io(en,"users"),Tb("username","==",n)),u=await xb(o);if(u.empty)throw new Error("ID ngi dng khng tn ti.");s=u.docs[0].data().email}return await jR(gn,s,e)},A4=async()=>{if(!gn||!cu)throw new Error("Firebase cha c cu hnh.");const e=(await uC(gn,cu)).user,n=ha(en,"users",e.uid);if(!(await Ab(n)).exists()){const o=e.email.split("@")[0]+Math.floor(Math.random()*1e3);await Rb(n,{uid:e.uid,username:o,email:e.email,dob:"",gender:"",photoURL:e.photoURL,createdAt:Ru()})}return e},x4=async(r,e)=>{const n=ha(en,"users",r);e.username&&(e.username=e.username.toLowerCase()),await Hh(n,{...e,updatedAt:Ru()})},R4=async()=>{const r=gn.currentUser;if(!r)throw new Error("Bn cha ng nhp.");return await cC(r,cu)},C4=async()=>{const r=gn.currentUser;if(!r)throw new Error("Bn cha ng nhp.");return await NR(r,"google.com")},I4=async r=>{const e=gn.currentUser;if(!e)throw new Error("Bn cha ng nhp.");await PR(e,r)},N4=r=>{const e=gf(Io(en,"posts"),bb("createdAt","desc"),v4(50));return gp(e,n=>{const s=n.docs.map(o=>({id:o.id,...o.data()}));r(s)})},D4=async r=>await Cb(Io(en,"posts"),{...r,likes:0,commentCount:0,likedBy:[],createdAt:Ru()}),O4=async(r,e)=>{const n=ha(en,"posts",r),s=await Ab(n);if(!s.exists())return;const u=s.data().likedBy||[];u.includes(e)?await Hh(n,{likes:cg(-1),likedBy:u.filter(m=>m!==e)}):await Hh(n,{likes:cg(1),likedBy:[...u,e]})},k4=async(r,e)=>{await Cb(Io(en,"posts",r,"comments"),{...e,createdAt:Ru()}),await Hh(ha(en,"posts",r),{commentCount:cg(1)})},M4=(r,e)=>{const n=gf(Io(en,"posts",r,"comments"),bb("createdAt","asc"));return gp(n,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},V4=()=>qR(gn),Db=L.createContext(null),j4=({children:r})=>{const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,h]=L.useState(!0);L.useEffect(()=>{if(!gn){h(!1);return}let g=null;const p=HR(gn,T=>{if(g&&(g(),g=null),T){n(T);const b=ha(en,"users",T.uid);g=gp(b,A=>{A.exists()?o(A.data()):o({username:T.email?.split("@")[0]||"Ngi dng",email:T.email}),h(!1)},A=>{console.warn("Profile fetch error:",A),h(!1)})}else n(null),o(null),h(!1)});return()=>{p(),g&&g()}},[]);const m=async()=>{await V4(),n(null),o(null)};return v.jsx(Db.Provider,{value:{user:e,userProfile:s,loading:u,logout:m},children:!u&&r})},Cu=()=>{const r=L.useContext(Db);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},L4=({children:r})=>{const e=gs(),n=Fh(),{user:s,userProfile:o,logout:u}=Cu(),[h,m]=L.useState(!1),g=e.pathname==="/",p=b=>e.pathname===b,T=async()=>{m(!1),await u(),n("/")};return v.jsxs("div",{className:"app-container",children:[v.jsx("div",{className:"bg-grid"}),v.jsx("div",{className:"bg-blob",style:{top:"-100px",left:"-100px"}}),v.jsx("div",{className:"bg-blob",style:{bottom:"-100px",right:"-100px",background:"radial-gradient(circle, rgba(56, 189, 248, 0.1) 0%, rgba(255, 255, 255, 0) 70%)"}}),v.jsxs("header",{children:[v.jsxs(We,{to:"/",className:"logo-wrapper",style:{textDecoration:"none"},children:[v.jsx("div",{className:"logo-icon",children:v.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"0.75rem"}})}),v.jsx("span",{className:"app-title",children:"HeartSpace"})]}),v.jsxs("nav",{children:[v.jsx(We,{to:"/",className:`nav-link ${g?"active":""}`,children:"Trang ch"}),v.jsx(We,{to:"/chatbot",className:`nav-link ${p("/chatbot")?"active":""}`,children:"AI Tm L"}),v.jsx(We,{to:"/mbti",className:`nav-link ${p("/mbti")?"active":""}`,children:"MBTI"}),v.jsx(We,{to:"/test",className:`nav-link ${p("/test")?"active":""}`,children:"nh gi"}),v.jsx(We,{to:"/emotion",className:`nav-link ${p("/emotion")?"active":""}`,children:"Th gin"}),v.jsx(We,{to:"/library",className:`nav-link ${p("/library")?"active":""}`,children:"Th vin"}),v.jsx(We,{to:"/community",className:`nav-link ${p("/community")?"active":""}`,children:"Cng ng"})]}),v.jsx("div",{className:"auth-nav",children:s?v.jsxs("div",{className:"user-menu",style:{position:"relative"},children:[v.jsxs("button",{className:"user-avatar-btn",onClick:()=>m(!h),children:[v.jsx("div",{className:"user-avatar",children:(o?.username||s.email||"U")[0].toUpperCase()}),v.jsx("span",{className:"user-name",children:o?.username||"Ngi dng"}),v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h&&v.jsxs("div",{className:"dropdown-menu",children:[v.jsxs("div",{className:"dropdown-header",children:[v.jsx("div",{className:"dropdown-avatar",children:(o?.username||s.email||"U")[0].toUpperCase()}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"800",color:"#1e293b",fontSize:"0.9375rem"},children:o?.username||"Ngi dng"}),v.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:s.email})]})]}),v.jsx("hr",{style:{margin:"0.75rem 0",borderColor:"#f1f5f9"}}),v.jsxs(We,{to:"/settings",className:"dropdown-item",onClick:()=>m(!1),children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"3"}),v.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Ci t ti khon"]}),v.jsxs("button",{className:"dropdown-item danger",onClick:T,children:[v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[v.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),v.jsx("polyline",{points:"16 17 21 12 16 7"}),v.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"ng xut"]})]})]}):v.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center"},children:[v.jsx(We,{to:"/login",className:"nav-link",style:{color:"var(--primary)",fontWeight:"700"},children:"ng nhp"}),v.jsx(We,{to:"/register",className:"btn btn-primary",style:{padding:"0.5rem 1.25rem",fontSize:"0.875rem",textDecoration:"none"},children:"ng k"})]})})]}),v.jsx("main",{className:"fade-in",children:r}),v.jsxs("footer",{children:[v.jsxs("p",{children:[" 2026 HeartSpace by ",v.jsx("strong",{children:"DNA AI"})," | ",v.jsx(We,{to:"/privacy",style:{color:"inherit",textDecoration:"none",borderBottom:"1px solid currentColor"},children:"Chnh sch bo mt"})]}),v.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.5rem"},children:"Mi thng tin trao i u mang tnh cht tham kho v h tr gii ta cm xc."})]})]})},P4=()=>v.jsxs("div",{className:"home-container",style:{padding:"1rem 0"},children:[v.jsxs("section",{style:{textAlign:"center",marginBottom:"4rem"},children:[v.jsx("span",{className:"badge",style:{display:"inline-block",padding:"0.375rem 1rem",borderRadius:"999px",background:"#ede9fe",color:"#7c3aed",fontSize:"min(0.8125rem, 3.5vw)",fontWeight:"700",marginBottom:"1.25rem",border:"1px solid #ddd6fe"},children:" Khm ph th gii ni tm ca bn"}),v.jsxs("h1",{className:"hero-gradient-text",style:{fontSize:"clamp(2rem, 8vw, 3.5rem)",fontWeight:"800",lineHeight:"1.2",marginBottom:"1.25rem",letterSpacing:"-0.02em"},children:["Thu hiu bn thn,",v.jsx("br",{}),"Kin to hnh phc."]}),v.jsx("p",{style:{fontSize:"clamp(0.9375rem, 4vw, 1.125rem)",color:"var(--text-light)",marginBottom:"2rem",maxWidth:"42rem",margin:"0 auto 2rem auto",lineHeight:"1.6",padding:"0 1rem"},children:"HeartSpace l ngi bn ng hnh AI gip bn vt qua p lc, thu hiu cm xc v tm thy s bnh yn trong tm hn."}),v.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",flexWrap:"wrap",padding:"0 1rem"},children:v.jsxs(We,{to:"/chatbot",className:"btn btn-primary",style:{padding:"0.875rem 2rem",fontSize:"1rem",textDecoration:"none",minWidth:"200px"},children:["Bt u ngay",v.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",style:{marginLeft:"8px"},children:v.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},children:[v.jsxs(We,{to:"/chatbot",className:"glass-card",style:{textDecoration:"none",color:"inherit",padding:"1.5rem"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"AI Tm L"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"Tr chuyn 24/7 vi tr l o. Chia s cm xc v nhn nhng li khuyn tch cc."})]}),v.jsxs(We,{to:"/mbti",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Trc Nghim MBTI"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"Khm ph 16 nhm tnh cch  hiu r bn thn v nh hng s nghip."})]}),v.jsxs(We,{to:"/test",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"nh Gi Tm L"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"S dng bi trc nghim nhanh  theo di mc  cng thng ca bn."})]}),v.jsxs(We,{to:"/emotion",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Qun L Cm Xc"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"Cc bi tp ht th, thin nh gip bn gii ta cng thng ngay lp tc."})]}),v.jsxs(We,{to:"/career",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Hng Nghip AI"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"AI phn tch tnh cch v gi  ngnh ngh ph hp nht vi bn."})]}),v.jsxs(We,{to:"/community",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Cng ng"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"Chia s cu chuyn n danh v nhn s ng cm t cng ng."})]}),v.jsxs(We,{to:"/library",className:"glass-card",style:{textDecoration:"none",color:"inherit"},children:[v.jsx("div",{className:"tool-icon-wrapper",children:v.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),v.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.75rem"},children:"Th Vin"}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.6"},children:"Kho bi vit tm l hc v k nng sng chuyn su."})]})]})]}),Ob=async(r,e=[])=>{const s="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyBs66hODsB17BXsdrOQ3XXyX_Mq8pOjGv8";try{const o=e.slice(-6).map(p=>({role:p.role==="ai"?"model":"user",parts:[{text:p.text}]})),h={contents:[{role:"user",parts:[{text:`SYSTEM INSTRUCTION: Bn l chuyn gia t vn tm l HeartSpace - mt ngi bn ng hnh m p, thu cm v su sc. 
Nhim v ca bn:
1. Lng nghe chn thnh v phn hi bng ngn ng t nhin, gn gi nh mt ngi bn thc th. 
2. Khng bao gi tr li qu ngn gn hoc ch lp li  ca ngi dng. Hy t cu hi gi m  ngi dng chia s thm.
3. Lun s dng nhng cu ni mang tnh khch l, an i v thu hiu cm xc.
4. Nu ngi dng bun, hy cng h tm ra nhng nim vui nh b hoc a ra li khuyn nh nhng. 
Hy bt u cuc tr chuyn bng s chn thnh nht.`}]},{role:"model",parts:[{text:"Ti  hiu r vai tr ca mnh. Ti l HeartSpace, ngi bn ng hnh tm l ca bn. Ti s lun lng nghe v cng bn chia s mi ni lng mt cch m p nht."}]},...o,{role:"user",parts:[{text:r}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1e3}},m=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),g=await m.json();return m.status===429?"H thng Google ang tm kha yu cu (429). Bn hy tt ton b cc Tab trnh duyt ang m web ny, i 10 pht ri th li. Google ang nghi ng c hnh vi spam t IP ca bn.":m.ok?g.candidates[0].content.parts[0].text:(console.error("API Error Response Content:",JSON.stringify(g,null,2)),`Li h thng (${m.status}). ${g.error?.message||""}`)}catch(o){return console.error("Fetch Error:",o),"Khng th kt ni vi my ch AI. Bn hy kim tra li mng nh."}},U4=[{label:"Cm thy stress",text:"Mnh ang cm thy rt stress v vic hc tp, bn c th gip mnh khng?"},{label:"Kh ng",text:"Do ny mnh hay b mt ng, c cch no  ci thin khng?"},{label:"p lc ng trang la",text:"Mnh hay t so snh bn thn vi bn b v thy rt t ti."},{label:"Mun th gin",text:"Mnh mt mi qu, hy ch cho mnh vi cch th gin nhanh nh."}],z4=()=>{const[r,e]=L.useState([{role:"ai",text:"Cho bn, mnh l ngi bn ng hnh AI ca HeartSpace. Hm nay bn cm thy th no? Hy chia s vi mnh bt c iu g ang lm bn bn lng nh."}]),[n,s]=L.useState(""),[o,u]=L.useState(!1),h=L.useRef(null),m=()=>{h.current?.scrollIntoView({behavior:"smooth"})};L.useEffect(()=>{m()},[r,o]);const g=async b=>{if(!b.trim()||o)return;const A={role:"user",text:b};e(D=>[...D,A]),u(!0);try{const D=r.slice(-10),F=await Ob(b,D);e(Y=>[...Y,{role:"ai",text:F}])}catch(D){console.error("Chat Error:",D),e(F=>[...F,{role:"ai",text:"Mnh hi bi ri mt cht, bn c th ni li c khng? Hoc th kim tra kt ni mng nh."}])}finally{u(!1)}},p=b=>{b.preventDefault();const A=n;s(""),g(A)},T=b=>{g(b)};return v.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",width:"100%"},className:"mobile-padding-0",children:[v.jsxs("div",{className:"glass-card overflow-hidden chatbot-main-card",style:{minHeight:"calc(100vh - 250px)",display:"flex",flexDirection:"column",background:"rgba(255, 255, 255, 0.7)",padding:0},children:[v.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid rgba(0,0,0,0.05)",display:"flex",alignItems:"center",gap:"0.75rem",background:"white"},children:[v.jsx("div",{style:{width:"2.5rem",height:"2.5rem",background:"var(--primary)",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",boxShadow:"0 8px 16px -4px rgba(139, 92, 246, 0.4)",flexShrink:0},children:""}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"800",background:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.125rem"},children:"Tr L Tm Hn AI"}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[v.jsx("span",{style:{width:"6px",height:"6px",background:"#22c55e",borderRadius:"50%"}}),v.jsx("span",{style:{fontSize:"0.75rem",color:"#64748b",fontWeight:"600"},children:"Sn sng lng nghe bn"})]})]})]}),v.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.25rem",display:"flex",flexDirection:"column",gap:"1rem",background:"rgba(248, 250, 252, 0.5)"},className:"messages-area",children:[r.map((b,A)=>v.jsx("div",{style:{maxWidth:"90%",padding:"0.875rem 1.25rem",borderRadius:"1.25rem",fontSize:"0.9375rem",lineHeight:"1.6",alignSelf:b.role==="ai"?"flex-start":"flex-end",background:b.role==="ai"?"white":"var(--primary)",color:b.role==="ai"?"#1e293b":"white",borderBottomLeftRadius:b.role==="ai"?"0.25rem":"1.25rem",borderBottomRightRadius:b.role==="user"?"0.25rem":"1.25rem",boxShadow:b.role==="ai"?"0 4px 15px -5px rgba(0,0,0,0.05)":"0 8px 20px -5px rgba(139, 92, 246, 0.25)",border:b.role==="ai"?"1px solid #f1f5f9":"none",whiteSpace:"pre-wrap"},children:b.text},A)),o&&v.jsx("div",{style:{alignSelf:"flex-start",background:"white",padding:"0.875rem 1.25rem",borderRadius:"1.25rem",borderBottomLeftRadius:"0.25rem",boxShadow:"0 4px 15px -5px rgba(0,0,0,0.05)",border:"1px solid #f1f5f9"},children:v.jsxs("div",{className:"typing-loader",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]})}),v.jsx("div",{ref:h})]}),v.jsxs("div",{style:{padding:"1.25rem",background:"white",borderTop:"1px solid rgba(0,0,0,0.05)"},children:[r.length===1&&!o&&v.jsxs("div",{style:{marginBottom:"1rem"},children:[v.jsx("p",{style:{fontSize:"0.75rem",color:"#94a3b8",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.75rem"},children:"Gi :"}),v.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:U4.map((b,A)=>v.jsx("button",{onClick:()=>T(b.text),style:{padding:"0.5rem 1rem",borderRadius:"999px",border:"1.5px solid #ede9fe",background:"white",color:"#6d28d9",fontSize:"0.8125rem",fontWeight:"700",cursor:"pointer",transition:"all 0.2s",fontFamily:"Plus Jakarta Sans, sans-serif"},className:"suggestion-btn",children:b.label},A))})]}),v.jsxs("form",{onSubmit:p,style:{display:"flex",gap:"0.75rem",position:"relative"},children:[v.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),disabled:o,placeholder:o?"ang tr li...":"Hm nay bn th no?",style:{flex:1,border:"2px solid #f1f5f9",borderRadius:"1rem",padding:"0.875rem 3.5rem 0.875rem 1.25rem",outline:"none",fontSize:"0.9375rem",transition:"all 0.2s",background:"#f8fafc",opacity:o?.7:1,fontFamily:"Plus Jakarta Sans, sans-serif"},className:"chat-input-field"}),v.jsx("button",{type:"submit",disabled:o||!n.trim(),style:{position:"absolute",right:"0.625rem",top:"50%",transform:"translateY(-50%)",width:"2.5rem",height:"2.5rem",borderRadius:"0.75rem",background:n.trim()?"var(--primary)":"#e2e8f0",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",cursor:n.trim()?"pointer":"default"},children:v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),v.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]})]}),v.jsx("style",{children:`
                .typing-loader { display: flex; gap: 4px; }
                .typing-loader span {
                    width: 6px; height: 6px; background: var(--primary);
                    border-radius: 50%; opacity: 0.4;
                    animation: typing 1s infinite ease-in-out;
                }
                .typing-loader span:nth-child(2) { animation-delay: 0.2s; }
                .typing-loader span:nth-child(3) { animation-delay: 0.4s; }
                @keyframes typing { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-4px); opacity: 1; } }
                
                .suggestion-btn:hover {
                    background: var(--primary) !important;
                    color: white !important;
                    border-color: var(--primary) !important;
                    transform: translateY(-2px);
                }

                @media (max-width: 768px) {
                    .chatbot-main-card {
                        border-radius: 0;
                        border-left: none;
                        border-right: none;
                    }
                    .messages-area {
                        padding: 1rem 0.75rem;
                    }
                }
            `})]})},Xs=[{id:1,text:"Bn cm thy hng khi khi  trong m ng hn l  mt mnh.",dim:"E",rev:!1},{id:2,text:"Bn thng l ngi bt u cuc tr chuyn vi ngi l.",dim:"E",rev:!1},{id:3,text:"Bn thch lm vic mt mnh yn tnh hn l lm vic nhm n o.",dim:"E",rev:!0},{id:4,text:"Sau mt tun lm vic cng thng, bn mun ra ngoi chi hn l  nh ngh ngi.",dim:"E",rev:!1},{id:5,text:"Bn suy ngh k trc khi ni thay v ni ra ngay suy ngh ca mnh.",dim:"E",rev:!0},{id:6,text:"Vic tr thnh tm im ca s ch  khin bn khng thoi mi.",dim:"E",rev:!0},{id:7,text:"Bn quan tm n  ngha n sau s vic hn l nhng chi tit thc t.",dim:"N",rev:!1},{id:8,text:"Bn thng m mng v tng lai hn l tp trung vo hin ti.",dim:"N",rev:!1},{id:9,text:"Bn tin vo kinh nghim thc t hn l nhng l thuyt tru tng.",dim:"N",rev:!0},{id:10,text:"Bn thch nhng hng dn c th, r rng tng bc mt.",dim:"N",rev:!0},{id:11,text:"Bn thng nhn thy bc tranh ton cnh trc khi i vo chi tit.",dim:"N",rev:!1},{id:12,text:"Bn thch s mi l v sng to hn l nhng quy trnh  c kim chng.",dim:"N",rev:!1},{id:13,text:"Khi gii quyt vn , bn da vo logic hn l cm xc.",dim:"T",rev:!1},{id:14,text:"Bn coi trng s cng bng v nht qun hn l s ha hp v khoan dung.",dim:"T",rev:!1},{id:15,text:"Bn thng b nh gi l ngi lnh lng hoc qu l tr.",dim:"T",rev:!1},{id:16,text:"Bn d b nh hng bi cm xc ca ngi khc.",dim:"T",rev:!0},{id:17,text:"Trong mt cuc tranh lun, s tht quan trng hn l khng lm tn thng ai .",dim:"T",rev:!1},{id:18,text:"Bn a ra quyt nh da trn tri tim mch bo hn l phn tch s liu.",dim:"T",rev:!0},{id:19,text:"Bn thch ln k hoch chi tit cho mi vic trc khi bt u.",dim:"J",rev:!1},{id:20,text:"Bn cm thy kh chu khi mi th khng din ra theo k hoch.",dim:"J",rev:!1},{id:21,text:"Bn thch  mi th t nhin, ty c ng bin hn l sp t trc.",dim:"J",rev:!0},{id:22,text:"Bn thng hon thnh cng vic trc thi hn rt lu.",dim:"J",rev:!1},{id:23,text:"Bn thch gi cho cc la chn ca mnh lun m thay v cht phng n sm.",dim:"J",rev:!0},{id:24,text:"S ngn np v trt t l rt quan trng i vi bn.",dim:"J",rev:!1}],B4={ISTJ:{title:"Ngi Trch Nhim",desc:"Nghim tc, thc t v ng tin cy. H coi trng truyn thng v s trt t.",strengths:["C trch nhim","T m","Trung thc"],weaknesses:["Cng nhc","Kh thch nghi","Hay phn xt"],compatibility:"ESFP, ESTP"},ISFJ:{title:"Ngi Nui Dng",desc:"m p, tn ty v lun quan tm n ngi khc. H lm vic chm ch  m bo s hi ha.",strengths:["H tr tt","ng tin cy","Kin nhn"],weaknesses:["Qu nhn nhng","Ngi thay i","D b li dng"],compatibility:"ESTP, ESFP"},INFJ:{title:"Ngi Che Ch",desc:"Su sc, l tng ha v y lng trc n. H lun tm kim  ngha su xa trong cuc sng.",strengths:["Sng to","Thu hiu","Quyt tm"],weaknesses:["Nhy cm","D kit sc","Cu ton"],compatibility:"ENFP, ENTP"},INTJ:{title:"Nh Kin To",desc:"T duy chin lc, c lp v c tm nhn xa. H lun tm cch ci tin mi th.",strengths:["Thng minh","T tin","Chin lc"],weaknesses:["Kiu ngo","Qu phn tch","Thiu kin nhn"],compatibility:"ENFP, ENTP"},ISTP:{title:"Nh K Thut",desc:"Thc t, linh hot v gii gii quyt vn . H thch tm hiu cch mi th vn hnh.",strengths:["Lc quan","Sng to","Thc t"],weaknesses:["Cng u","Ri ro cao","Kn o"],compatibility:"ESFJ, ESTJ"},ISFP:{title:"Ngi Ngh S",desc:"Nh nhng, thn thin v yu ci p. H thch sng trong hin ti v tn hng tng khonh khc.",strengths:["Duyn dng","Ngh thut","am m"],weaknesses:["D cng thng","Cnh tranh km","Kh on"],compatibility:"ENFJ, ESFJ"},INFP:{title:"Ngi Ha Gii",desc:"L tng, trung thnh v lun tm kim s tt p trong mi ngi. H sng theo gi tr ring.",strengths:["ng cm","Sng to","Ci m"],weaknesses:["M mng qu mc","D tn thng","Thiu thc t"],compatibility:"ENFJ, ENTJ"},INTP:{title:"Nh T Duy",desc:"Sng to, logic v t m. H thch phn tch cc h thng v  tng tru tng.",strengths:["Phn tch tt","T duy m","Khch quan"],weaknesses:["L ng","Thiu t chc","V tm"],compatibility:"ENTJ, ENFJ"},ESTP:{title:"Ngi Thc Thi",desc:"Nng ng, thc t v thch hnh ng ngay lp tc. H gii quyt vn  mt cch linh hot.",strengths:["To bo","Ha ng","Thng thn"],weaknesses:["Thiu kin nhn","Ri ro cao","Mau chn"],compatibility:"ISFJ, ISTJ"},ESFP:{title:"Ngi Trnh Din",desc:"Vui v, nhit tnh v thch l trung tm ca s ch . H lm cho cuc sng tr nn th v.",strengths:["To bo","Thc t","Thm m tt"],weaknesses:["Kh tp trung","D t i","Km quy hoch"],compatibility:"ISTJ, ISFJ"},ENFP:{title:"Ngi Truyn Cm Hng",desc:"Nhit tnh, sng to v ha ng. H lun tm thy kh nng trong mi vic.",strengths:["T m","Giao tip tt","Nng lng cao"],weaknesses:["Thiu tp trung","Suy ngh qu nhiu","D cng thng"],compatibility:"INFJ, INTJ"},ENTP:{title:"Ngi Tranh Bin",desc:"Thng minh, nhanh tr v thch th thch cc  tng. H gii tm ra gii php mi.",strengths:["Hiu bit rng","T duy nhanh","Sng to"],weaknesses:["Thch tranh ci","Tn nhn","Mau chn"],compatibility:"INTJ, INFJ"},ESTJ:{title:"Ngi iu Hnh",desc:"Thc t, quyt on v gii t chc. H thch qun l mi vic theo quy trnh r rng.",strengths:["Tn ty","Mnh m","T chc tt"],weaknesses:["Cng nhc","Kh th gin","Phn xt"],compatibility:"ISFP, ISTP"},ESFJ:{title:"Ngi Chm Sc",desc:"Tn tm, ha ng v thch gip  ngi khc. H coi trng s ha hp v truyn thng.",strengths:["Trung loyal","Nhy cm","Gii kt ni"],weaknesses:["Cn c khen","Thiu linh hot","D b ch trch"],compatibility:"ISFP, ISTP"},ENFJ:{title:"Ngi Ch Dn",desc:"Li cun, ng tin cy v gii lnh o. H lun nhn thy tim nng  ngi khc.",strengths:["Khoan dung","ng tin cy","Li cun"],weaknesses:["Qu duy tm","Qu nhy cm","Hay lo lng"],compatibility:"INFP, ISFP"},ENTJ:{title:"Nh Lnh o",desc:"Thng thn, quyt on v c kh nng nhn xa trng rng. H gii vch ra k hoch di hn.",strengths:["Hiu qu","T tin","L tr"],weaknesses:["c on","Kiu ngo","Lnh lng"],compatibility:"INFP, INTP"}},H4=()=>{const[r,e]=L.useState("welcome"),[n,s]=L.useState(0),[o,u]=L.useState({}),[h,m]=L.useState(null),g=()=>e("quiz"),p=A=>{const D=Xs[n],F={...o,[D.id]:A};u(F),n<Xs.length-1?s(n+1):(e("loading"),setTimeout(()=>b(F),2e3))},T=()=>{n>0&&s(n-1)},b=A=>{let D={E:0,I:0,N:0,S:0,T:0,F:0,J:0,P:0};Xs.forEach(Y=>{let K=A[Y.id]||3;const ie=Math.abs(K-3);let te=Y.dim,ne="";te==="E"?ne="I":te==="N"?ne="S":te==="T"?ne="F":te==="J"&&(ne="P"),Y.rev?K>3?D[ne]+=ie:K<3&&(D[te]+=ie):K>3?D[te]+=ie:K<3&&(D[ne]+=ie)});let F="";F+=D.E>=D.I?"E":"I",F+=D.N>=D.S?"N":"S",F+=D.T>=D.F?"T":"F",F+=D.J>=D.P?"J":"P",m({type:F,...B4[F],scores:D}),e("result")};return v.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"mobile-padding-0",children:[v.jsxs("div",{className:"glass-card overflow-hidden mbti-card",style:{minHeight:"600px",display:"flex",flexDirection:"column",position:"relative",padding:0},children:[r==="welcome"&&v.jsxs("div",{style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)",textAlign:"center"},className:"fade-in",children:[v.jsx("div",{style:{fontSize:"clamp(3rem, 15vw, 5rem)",marginBottom:"1.5rem"},children:""}),v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(2rem, 8vw, 3rem)",fontWeight:"900",marginBottom:"1rem"},children:"Khm Ph Tnh Cch"}),v.jsx("p",{style:{color:"var(--text-light)",fontSize:"clamp(1rem, 4vw, 1.25rem)",marginBottom:"2.5rem",lineHeight:"1.7",maxWidth:"600px",margin:"0 auto 2.5rem auto"},children:"Trc nghim MBTI gip bn hiu r th gii ni tm, cch bn tip nhn thng tin v a ra quyt nh trong cuc sng."}),v.jsx("button",{className:"btn btn-primary",onClick:g,style:{padding:"1rem 3rem",fontSize:"1.125rem"},children:"Bt u ngay"}),v.jsxs("div",{style:{marginTop:"2rem",display:"flex",justifyContent:"center",gap:"clamp(1rem, 4vw, 2rem)",color:"#94a3b8",fontSize:"0.875rem",fontWeight:"800",flexWrap:"wrap"},children:[v.jsx("span",{children:" 5-10 pht"}),v.jsx("span",{children:" 24 cu hi"}),v.jsx("span",{children:" Chnh xc cao"})]})]}),r==="quiz"&&v.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[v.jsx("div",{style:{height:"6px",background:"#f1f5f9",position:"relative"},children:v.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%)",width:`${(n+1)/Xs.length*100}%`,transition:"width 0.4s cubic-bezier(0.4, 0, 0.2, 1)"}})}),v.jsxs("div",{style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)",flex:1,display:"flex",flexDirection:"column"},className:"fade-in",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2.5rem"},children:[v.jsx("button",{onClick:T,disabled:n===0,style:{background:"none",border:"none",color:n===0?"#e2e8f0":"var(--primary)",fontWeight:"800",cursor:n===0?"default":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:" Quay li"}),v.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"800",color:"#94a3b8",letterSpacing:"0.1em"},children:["CU HI ",n+1," / 24"]})]}),v.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[v.jsx("h3",{style:{fontSize:"clamp(1.25rem, 5vw, 2rem)",fontWeight:"800",marginBottom:"3.5rem",color:"#1e293b",lineHeight:"1.4",maxWidth:"700px"},children:Xs[n].text}),v.jsxs("div",{className:"likert-container",style:{width:"100%",maxWidth:"600px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.25rem",color:"#94a3b8",fontWeight:"800",fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:[v.jsx("span",{style:{color:"#ef4444"},children:"Khng ng "}),v.jsx("span",{style:{color:"#22c55e"},children:"Rt ng "})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",padding:"0 0.5rem"},children:[v.jsx("div",{style:{position:"absolute",top:"50%",left:"0",right:"0",height:"2px",background:"#e2e8f0",zIndex:0,transform:"translateY(-50%)"}}),[1,2,3,4,5].map(A=>v.jsx("button",{onClick:()=>p(A),className:`likert-btn v-${A}`,style:{width:A===3?"clamp(30px, 8vw, 40px)":A===1||A===5?"clamp(50px, 14vw, 70px)":"clamp(40px, 11vw, 55px)",height:A===3?"clamp(30px, 8vw, 40px)":A===1||A===5?"clamp(50px, 14vw, 70px)":"clamp(40px, 11vw, 55px)",borderRadius:"50%",border:"4px solid white",background:"white",boxShadow:"0 4px 10px rgba(0,0,0,0.05)",cursor:"pointer",zIndex:1,transition:"all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:v.jsx("div",{style:{width:"50%",height:"50%",borderRadius:"50%",background:A>3?"#22c55e":A<3?"#ef4444":"#cbd5e1",opacity:o[Xs[n].id]===A?1:.3,transform:o[Xs[n].id]===A?"scale(1.2)":"scale(1)",transition:"all 0.2s"}})},A))]})]})]})]})]}),r==="loading"&&v.jsxs("div",{style:{padding:"6rem 2rem",textAlign:"center"},className:"fade-in",children:[v.jsxs("div",{className:"loader-container",style:{position:"relative",width:"80px",height:"80px",margin:"0 auto 2.5rem auto"},children:[v.jsx("div",{className:"loader-ring",style:{width:"80px",height:"80px"}}),v.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem"},children:""})]}),v.jsx("h3",{style:{fontSize:"1.75rem",fontWeight:"900",color:"#1e293b",marginBottom:"1rem"},children:"ang gii m..."}),v.jsx("p",{style:{color:"var(--text-light)",fontSize:"1rem"},children:"AI ang phn tch cc phn hi ca bn."})]}),r==="result"&&h&&v.jsxs("div",{style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)"},className:"fade-in result-page",children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[v.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.875rem",fontWeight:"800",color:"var(--primary)",letterSpacing:"0.2em"},children:"NHM TNH CCH CA BN"}),v.jsx("h2",{style:{fontSize:"clamp(4rem, 15vw, 7rem)",fontWeight:"900",background:"linear-gradient(135deg, var(--primary) 0%, #6366f1 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",lineHeight:"1.1",margin:"0.5rem 0"},children:h.type}),v.jsx("h3",{style:{fontSize:"clamp(1.5rem, 6vw, 2.5rem)",fontWeight:"800",color:"#1e293b"},children:h.title})]}),v.jsx("div",{style:{background:"white",border:"1px solid #f1f5f9",padding:"1.5rem",borderRadius:"1.5rem",marginBottom:"2.5rem",boxShadow:"0 10px 30px rgba(0,0,0,0.02)"},children:v.jsxs("p",{style:{fontSize:"clamp(1rem, 4vw, 1.125rem)",lineHeight:"1.8",color:"#475569",textAlign:"center"},children:['"',h.desc,'"']})}),v.jsxs("div",{className:"res-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:[v.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"1.25rem",border:"1px solid #dcfce7"},children:[v.jsx("h4",{style:{fontWeight:"900",color:"#16a34a",marginBottom:"1rem",fontSize:"1.125rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Th mnh"}),v.jsx("ul",{style:{listStyle:"none",padding:0,color:"#166534",display:"flex",flexDirection:"column",gap:"0.625rem",fontWeight:"600",fontSize:"0.9375rem"},children:h.strengths.map((A,D)=>v.jsxs("li",{children:[" ",A]},D))})]}),v.jsxs("div",{style:{background:"#fef2f2",padding:"1.5rem",borderRadius:"1.25rem",border:"1px solid #fee2e2"},children:[v.jsx("h4",{style:{fontWeight:"900",color:"#dc2626",marginBottom:"1rem",fontSize:"1.125rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Cn ci thin"}),v.jsx("ul",{style:{listStyle:"none",padding:0,color:"#991b1b",display:"flex",flexDirection:"column",gap:"0.625rem",fontWeight:"600",fontSize:"0.9375rem"},children:h.weaknesses.map((A,D)=>v.jsxs("li",{children:[" ",A]},D))})]})]}),v.jsxs("div",{style:{background:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%)",padding:"1.75rem",borderRadius:"1.5rem",textAlign:"center",marginBottom:"3.5rem"},children:[v.jsx("h4",{style:{fontWeight:"800",color:"var(--primary)",marginBottom:"0.75rem",fontSize:"1.125rem"},children:" Mc  tng thch"}),v.jsxs("p",{style:{fontSize:"1rem",color:"#6d28d9",fontWeight:"700"},children:["Tng thch vi: ",v.jsx("span",{style:{background:"white",padding:"0.25rem 0.875rem",borderRadius:"999px",marginLeft:"0.375rem",boxShadow:"0 4px 10px rgba(139, 92, 246, 0.1)",display:"inline-block"},children:h.compatibility})]})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[v.jsx("button",{className:"btn btn-primary",onClick:()=>{e("welcome"),u({}),s(0)},style:{padding:"0.875rem 2rem"},children:"Lm li"}),v.jsx(We,{to:"/career",className:"btn",style:{background:"white",border:"2px solid #e2e8f0",color:"#64748b",textDecoration:"none",padding:"0.875rem 2rem"},children:"Hng nghip "})]})]})]}),v.jsx("style",{children:`
                .loader-ring {
                    border: 6px solid #f3f3f3;
                    border-top: 6px solid var(--primary);
                    border-radius: 50%;
                    width: 70px;
                    height: 70px;
                    animation: spin 1.5s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
                
                .likert-btn:hover {
                    transform: scale(1.1) translateY(-3px);
                }
                .likert-btn:active { transform: scale(0.95); }

                @media (max-width: 768px) {
                    .mbti-card { border-radius: 0; border: none; }
                }
            `})]})},Pl=["Bn c thng xuyn cm thy mt mi ngay c khi mi ng dy khng?","Bn c cm thy kh tp trung vo vic hc hnh hay cc hot ng thng ngy?","Bn c hay lo lng v tng lai hoc nhng k vng ca ngi khc?","Bn c thng xuyn cm thy c n d ang  cng gia nh hoc bn b?","Bn c thay i thi quen n ung hoc gic ng trong thi gian gn y?","Bn c cm thy kh kim ch cm xc (d cu gt hoc mau nc mt)?","Bn c cm thy mt i s hng th vi nhng s thch trc y khng?"],q4=()=>{const[r,e]=L.useState("welcome"),[n,s]=L.useState(0),[o,u]=L.useState(0),h=p=>{u(T=>T+p),n<Pl.length-1?s(T=>T+1):e("result")},g=r==="result"?(()=>{const p=o/Pl.length;return p>=2.2?{title:"Tri tim ang mt nhoi ",desc:"Tri tim bn dng nh ang chu kh nhiu p lc. Hy nh rng khng cn phi gng mnh qu mc. y l lc bn cn ngh ngi thc s.",advice:["Hy tr chuyn vi ngi thn hoc t vn vin","Tt thng bo in thoi v ng mt gic tht su","n mn bn thch nht hm nay","ng ngi yu cu s gip "],color:"#ef4444",bg:"#fef2f2"}:p>=1.2?{title:"C cht p lc ",desc:"Bn ang  mc cng thng va phi. y l nhng cm xc bnh thng trong qu trnh hc tp v trng thnh, nhng ng ch quan nh.",advice:["Dnh 15 pht ht th su mi ti","Vit nht k  gii ta suy ngh","i b nh nhng trong cng vin","Nghe mt bn nhc khng li"],color:"#f59e0b",bg:"#fffbeb"}:{title:"Tinh thn n nh ",desc:"Bn ang duy tr mt trng thi tinh thn rt tuyt vi! Bn c kh nng qun l cm xc tt v bit cch chm sc bn thn.",advice:["Tip tc duy tr thi quen tch cc ny","Lan ta nng lng tch cc n bn b","Th thch bn thn vi mt k nng mi","Dnh thi gian chm sc cy xanh"],color:"#10b981",bg:"#f0fdf4"}})():null;return v.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"mobile-padding-0",children:[v.jsxs("div",{className:"glass-card overflow-hidden stress-card",style:{minHeight:"550px",display:"flex",flexDirection:"column",padding:0},children:[r==="welcome"&&v.jsxs("div",{className:"fade-in",style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"clamp(3rem, 15vw, 5rem)",marginBottom:"1.5rem"},children:""}),v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(2.25rem, 8vw, 3rem)",fontWeight:"900",marginBottom:"1rem"},children:"nh Gi Stress"}),v.jsx("p",{style:{color:"var(--text-light)",fontSize:"clamp(1rem, 4vw, 1.25rem)",marginBottom:"2.5rem",lineHeight:"1.7",maxWidth:"600px",margin:"0 auto 2.5rem auto"},children:"Bi trc nghim da trn thang o tm l gip bn nhn din sm cc du hiu cng thng v mt mi tinh thn."}),v.jsx("button",{className:"btn btn-primary",onClick:()=>e("quiz"),style:{padding:"1rem 3rem",fontSize:"1.125rem"},children:"Bt u nh gi"})]}),r==="quiz"&&v.jsxs("div",{className:"fade-in",style:{flex:1,display:"flex",flexDirection:"column"},children:[v.jsx("div",{style:{height:"6px",background:"#f1f5f9"},children:v.jsx("div",{style:{height:"100%",background:"var(--primary)",width:`${(n+1)/Pl.length*100}%`,transition:"width 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}})}),v.jsxs("div",{style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)",flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[v.jsxs("div",{style:{marginBottom:"2.5rem",textAlign:"center"},children:[v.jsxs("span",{style:{fontSize:"0.8125rem",fontWeight:"800",color:"var(--primary)",textTransform:"uppercase",letterSpacing:"0.1em"},children:["Cu hi ",n+1," / ",Pl.length]}),v.jsx("h3",{style:{fontSize:"clamp(1.5rem, 5vw, 2.125rem)",fontWeight:"800",marginTop:"1.5rem",color:"#1e293b",lineHeight:"1.4"},children:Pl[n]})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1rem",maxWidth:"700px",margin:"0 auto",width:"100%"},children:[{label:"Thng xuyn",val:3,icon:""},{label:"i khi",val:2,icon:""},{label:"Him khi",val:1,icon:""},{label:"Khng bao gi",val:0,icon:""}].map((p,T)=>v.jsxs("button",{className:"stress-opt-btn",style:{background:"white",color:"#1e293b",borderRadius:"1.25rem",border:"2px solid #f1f5f9",padding:"1rem 1.25rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",fontFamily:"Plus Jakarta Sans, sans-serif",fontWeight:"700",fontSize:"1rem"},onClick:()=>h(p.val),children:[v.jsx("span",{children:p.label}),v.jsx("span",{style:{fontSize:"1.25rem"},children:p.icon})]},T))})]})]}),r==="result"&&g&&v.jsxs("div",{className:"fade-in",style:{padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[v.jsx("div",{style:{fontSize:"clamp(3rem, 15vw, 5rem)",marginBottom:"1rem"},children:""}),v.jsx("h2",{style:{fontSize:"clamp(1.75rem, 6vw, 3rem)",fontWeight:"900",color:g.color,marginBottom:"0.75rem"},children:g.title}),v.jsx("p",{style:{fontSize:"1rem",color:"#475569",maxWidth:"600px",margin:"0 auto",lineHeight:"1.7"},children:g.desc})]}),v.jsxs("div",{style:{background:g.bg,padding:"1.5rem",borderRadius:"1.5rem",marginBottom:"3rem",border:`1px solid ${g.color}22`},children:[v.jsx("h4",{style:{fontWeight:"900",color:g.color,marginBottom:"1.25rem",fontSize:"1.125rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:" Li khuyn:"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.75rem"},children:g.advice.map((p,T)=>v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.625rem",color:"#1e293b",fontWeight:"600",background:"rgba(255, 255, 255, 0.5)",padding:"0.875rem",borderRadius:"0.875rem",fontSize:"0.875rem"},children:[v.jsx("span",{style:{color:g.color,fontSize:"1rem"},children:""})," ",p]},T))})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[v.jsx("button",{className:"btn btn-primary",onClick:()=>{e("welcome"),u(0),s(0)},style:{padding:"0.875rem 2.5rem"},children:"Lm li"}),v.jsx(We,{to:"/chatbot",className:"btn",style:{background:"white",border:"2px solid #e2e8f0",color:"#64748b",padding:"0.875rem 2.5rem",textDecoration:"none"},children:"Tm s AI "})]})]})]}),v.jsx("style",{children:`
                .stress-opt-btn:hover {
                    border-color: var(--primary);
                    background: #f5f3ff;
                    transform: translateY(-2px);
                }
                .stress-opt-btn:active { transform: scale(0.98); }
                @media (max-width: 768px) {
                    .stress-card { border-radius: 0; border: none; }
                }
            `})]})},F4=[{id:1,title:"Ting ma ri",desc:"m thanh t nhin gip an thn",icon:"",color:"#60a5fa"},{id:2,title:"Sng bin r ro",desc:"Th gin su v gim cng thng",icon:"",color:"#2dd4bf"},{id:3,title:"Piano khng li",desc:"Tng cng s tp trung v sng to",icon:"",color:"#c084fc"},{id:4,title:"Ting rng m",desc:"Ting d v gi thi xo xc",icon:"",color:"#4ade80"}],G4=()=>{const[r,e]=L.useState(null),[n,s]=L.useState("Bt u"),[o,u]=L.useState(!1);return L.useEffect(()=>{let h;if(o){let m=0;const g=["Ht vo...","Nn th...","Th ra...","Ngh ngi..."];s(g[0]),h=setInterval(()=>{m=(m+1)%4,s(g[m])},4e3)}else s("Bt u ht th");return()=>clearInterval(h)},[o]),v.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"emotion-page-container mobile-padding-0",children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"clamp(2.5rem, 8vw, 4rem)",padding:"0 1rem"},children:[v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(2.25rem, 8vw, 3.5rem)",fontWeight:"900",marginBottom:"1rem"},children:"Gc Bnh Yn"}),v.jsx("p",{style:{fontSize:"clamp(1rem, 4vw, 1.25rem)",color:"var(--text-light)",maxWidth:"700px",margin:"0 auto"},children:"Hy tm gc li nhng lo u, dnh vi pht ngn ngi  tm li s cn bng trong tm hn bn."})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},className:"emotion-grid",children:[v.jsxs("div",{className:"glass-card",style:{padding:"clamp(1.5rem, 5vw, 3rem)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[v.jsx("h3",{style:{fontSize:"clamp(1.25rem, 5vw, 1.75rem)",fontWeight:"800",marginBottom:"0.5rem",color:"#1e293b"},children:"Ht Th Chnh Nim"}),v.jsx("p",{style:{color:"var(--text-light)",marginBottom:"2.5rem",fontSize:"0.9375rem"},children:"K thut Box Breathing 4-4-4-4"}),v.jsxs("div",{className:"breathing-container",style:{position:"relative",width:"clamp(180px, 40vw, 220px)",height:"clamp(180px, 40vw, 220px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>u(!o),children:[v.jsx("div",{className:`breathing-circle ${o?"active":""}`}),v.jsx("div",{className:"breathing-glow"}),v.jsx("span",{style:{position:"relative",zIndex:10,fontWeight:"900",color:o?"white":"var(--primary)",fontSize:"clamp(0.875rem, 3vw, 1.125rem)",textTransform:"uppercase",letterSpacing:"0.05em",textAlign:"center",padding:"0 1rem"},children:n})]}),v.jsx("p",{style:{marginTop:"2.5rem",color:"#94a3b8",fontSize:"0.8125rem",fontWeight:"800",maxWidth:"300px"},children:o?"Tp trung vo hi th ca bn.":"Nhn vo vng trn  bt u."})]}),v.jsxs("div",{className:"glass-card",style:{padding:"clamp(1.5rem, 5vw, 3rem)"},children:[v.jsx("h3",{style:{fontSize:"clamp(1.25rem, 5vw, 1.75rem)",fontWeight:"800",marginBottom:"2rem",color:"#1e293b"},children:"m Thanh Th Gin"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:F4.map(h=>v.jsxs("div",{onClick:()=>e(r===h.id?null:h.id),style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1rem",background:r===h.id?"rgba(139, 92, 246, 0.08)":"#f8fafc",borderRadius:"1.25rem",border:`2px solid ${r===h.id?"var(--primary-light)":"transparent"}`,cursor:"pointer",transition:"all 0.2s"},className:"music-item",children:[v.jsx("div",{style:{width:"3rem",height:"3rem",background:r===h.id?"var(--primary)":"white",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0,boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",color:r===h.id?"white":"inherit"},children:r===h.id?v.jsxs("div",{className:"playing-indicator",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]}):h.icon}),v.jsxs("div",{style:{flex:1},children:[v.jsx("div",{style:{fontWeight:"800",fontSize:"1rem",color:"#1e293b"},children:h.title}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-light)"},children:h.desc})]})]},h.id))})]}),v.jsxs("div",{className:"glass-card",style:{padding:"clamp(1.5rem, 5vw, 3rem)"},children:[v.jsx("h3",{style:{fontSize:"clamp(1.25rem, 5vw, 1.75rem)",fontWeight:"800",marginBottom:"2rem",color:"#1e293b"},children:"Thc Hnh Mi Ngy"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[{icon:"",title:"Tnh thc",text:"5 pht quan st hi th nh nhng."},{icon:"",title:"Tip t",text:"Cm nhn i chn khi bc i."},{icon:"",title:"Bit n",text:"Ghi li 3 nim vui trong ngy."},{icon:"",title:"Cai thit b",text:"Ri xa in thoi trc khi ng."}].map((h,m)=>v.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[v.jsx("div",{style:{fontSize:"1.75rem",flexShrink:0},children:h.icon}),v.jsxs("div",{children:[v.jsx("h4",{style:{fontWeight:"800",fontSize:"1rem",color:"#1e293b",marginBottom:"0.25rem"},children:h.title}),v.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-light)",lineHeight:"1.5"},children:h.text})]})]},m))})]})]}),v.jsx("style",{children:`
                .breathing-circle {
                    width: 70%;
                    height: 70%;
                    border-radius: 50%;
                    background: white;
                    border: 4px solid var(--primary-light);
                    transition: all 4s linear;
                    z-index: 5;
                    position: relative;
                }
                .breathing-circle.active {
                    animation: circleAnimation 16s linear infinite;
                    background: var(--primary);
                    border-color: white;
                }
                .breathing-glow {
                    position: absolute;
                    width: 70%;
                    height: 70%;
                    border-radius: 50%;
                    background: var(--primary);
                    opacity: 0;
                    transition: all 4s linear;
                    filter: blur(20px);
                }
                .breathing-circle.active + .breathing-glow {
                    animation: glowAnimation 16s linear infinite;
                    opacity: 0.4;
                }
                
                @keyframes circleAnimation {
                    0%, 100%, 75% { transform: scale(1); }
                    25%, 50% { transform: scale(1.4); }
                }
                @keyframes glowAnimation {
                    0%, 100%, 75% { transform: scale(1.1); opacity: 0; }
                    25%, 50% { transform: scale(1.8); opacity: 0.5; }
                }
                
                .playing-indicator {
                    display: flex;
                    align-items: flex-end;
                    gap: 3px;
                    height: 14px;
                }
                .playing-indicator span {
                    width: 2.5px;
                    background: white;
                    animation: barAnim 1s infinite ease-in-out;
                }
                .playing-indicator span:nth-child(2) { animation-delay: 0.2s; height: 60%; }
                .playing-indicator span:nth-child(3) { animation-delay: 0.4s; height: 80%; }
                @keyframes barAnim { 0%, 100% { height: 40%; } 50% { height: 100%; } }

                @media (max-width: 1024px) {
                    .emotion-grid { grid-template-columns: 1fr !important; }
                }
                @media (max-width: 768px) {
                    .emotion-page-container { border-radius: 0; }
                }
            `})]})},I1=[{emoji:"",label:"Sng to & Ngh thut",value:"creative"},{emoji:"",label:"Cng ngh & K thut",value:"tech"},{emoji:"",label:"Y t & Sc khe",value:"health"},{emoji:"",label:"Gio dc & Nghin cu",value:"education"},{emoji:"",label:"Kinh doanh & Qun l",value:"business"},{emoji:"",label:"Php l & Hnh chnh",value:"law"},{emoji:"",label:"Mi trng & Bn vng",value:"environment"},{emoji:"",label:"Truyn thng & Gii tr",value:"media"}],K4=()=>{const[r,e]=L.useState(0),[n,s]=L.useState({categories:[],strength:"",value:"",workStyle:""}),[o,u]=L.useState(""),[h,m]=L.useState(!1),g=T=>{s(b=>({...b,categories:b.categories.includes(T)?b.categories.filter(A=>A!==T):b.categories.length<3?[...b.categories,T]:b.categories}))},p=async()=>{m(!0),e(2);const b=`Bn l chuyn gia t vn ngh nghip cho hc sinh. Hy phn tch v t vn ngh nghip da trn thng tin sau:
- Lnh vc yu thch: ${n.categories.map(D=>I1.find(F=>F.value===D)?.label).join(", ")}
- im mnh: ${n.strength}
- Gi tr ngh nghip quan trng nht: ${n.value}
- Phong cch lm vic: ${n.workStyle}

Hy  xut 3 ngnh ngh ph hp nht, mi ngnh gm: tn ngh, l do ph hp, k nng cn pht trin, v c hi vic lm ti Vit Nam. Trnh by r rng, thn thin, s dng emoji.`,A=await Ob(b,[]);u(A),m(!1)};return v.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"career-container mobile-padding-0",children:[r===0&&v.jsxs("div",{className:"glass-card",style:{textAlign:"center",padding:"clamp(2rem, 8vw, 4rem) clamp(1rem, 5vw, 3rem)"},children:[v.jsx("div",{style:{fontSize:"clamp(3rem, 12vw, 4rem)",marginBottom:"1.25rem"},children:""}),v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(1.75rem, 7vw, 2.5rem)",fontWeight:"900",marginBottom:"0.75rem"},children:"Khm Ph S Nghip"}),v.jsx("p",{style:{fontSize:"clamp(1rem, 4vw, 1.125rem)",color:"var(--text-light)",lineHeight:"1.7",marginBottom:"2rem",maxWidth:"500px",margin:"0 auto 2.5rem auto"},children:"Tr li vi cu hi v AI s phn tch, gi  ngnh ngh ph hp nht vi bn."}),v.jsx("button",{className:"btn btn-primary",onClick:()=>e(1),style:{padding:"0.875rem 2.5rem",fontSize:"1.0625rem"},children:"Bt u ngay"})]}),r===1&&v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",padding:"0 1rem"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(1.5rem, 6vw, 2rem)",fontWeight:"800",marginBottom:"0.5rem"},children:"Cu hi nh hng"}),v.jsx("p",{style:{color:"var(--text-light)",fontSize:"0.9375rem"},children:"Tr li thnh tht  nhn t vn chnh xc nht"})]}),v.jsxs("div",{className:"glass-card",children:[v.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"800",marginBottom:"0.5rem",color:"#1e293b"},children:["1. Bn hng th vi lnh vc no? ",v.jsx("span",{style:{color:"#94a3b8",fontSize:"0.75rem",fontWeight:"500"},children:"(Ti a 3)"})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.75rem",marginTop:"1rem"},children:I1.map(T=>v.jsxs("button",{onClick:()=>g(T.value),style:{padding:"0.75rem",borderRadius:"0.875rem",border:n.categories.includes(T.value)?"2px solid var(--primary)":"2px solid #e2e8f0",background:n.categories.includes(T.value)?"rgba(139, 92, 246, 0.08)":"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"700",fontSize:"0.8125rem",color:n.categories.includes(T.value)?"var(--primary)":"#374151",fontFamily:"Plus Jakarta Sans, sans-serif"},children:[v.jsx("span",{style:{fontSize:"1.25rem"},children:T.emoji}),T.label]},T.value))})]}),v.jsxs("div",{className:"glass-card",children:[v.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"800",marginBottom:"1rem",color:"#1e293b"},children:"2. im mnh ni bt ca bn?"}),v.jsx("textarea",{value:n.strength,onChange:T=>s(b=>({...b,strength:T.target.value})),placeholder:"V d: Gii giao tip, c t duy phn tch tt...",rows:3,style:{width:"100%",padding:"0.875rem",border:"2px solid #e2e8f0",borderRadius:"0.875rem",fontSize:"0.9375rem",resize:"none",outline:"none",fontFamily:"Plus Jakarta Sans, sans-serif",color:"#1e293b",background:"#f8fafc"}})]}),v.jsxs("div",{className:"glass-card",children:[v.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"800",marginBottom:"1rem",color:"#1e293b"},children:"3. iu quan trng nht trong cng vic?"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.75rem",width:"100%"},children:[" Thu nhp cao"," Gip ch mi ngi"," Thch thc & hc hi"," Cn bng cuc sng"," Danh ting"," T do sng to"].map(T=>v.jsx("button",{onClick:()=>s(b=>({...b,value:T})),style:{padding:"0.75rem 1rem",borderRadius:"0.875rem",border:n.value===T?"2px solid var(--primary)":"2px solid #e2e8f0",background:n.value===T?"rgba(139, 92, 246, 0.08)":"white",cursor:"pointer",fontWeight:"700",fontSize:"0.8125rem",color:n.value===T?"var(--primary)":"#374151",transition:"all 0.2s",fontFamily:"Plus Jakarta Sans, sans-serif",textAlign:"left"},children:T},T))})]}),v.jsxs("div",{className:"glass-card",children:[v.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"800",marginBottom:"1rem",color:"#1e293b"},children:"4. Phong cch lm vic l tng?"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[" Vn phng n nh"," Linh hot, t xa"," Lm vic nhm"," Tp trung chuyn su"," Di chuyn nhiu"].map(T=>v.jsx("button",{onClick:()=>s(b=>({...b,workStyle:T})),style:{padding:"0.875rem 1.125rem",borderRadius:"0.875rem",border:n.workStyle===T?"2px solid var(--primary)":"2px solid #e2e8f0",background:n.workStyle===T?"rgba(139, 92, 246, 0.08)":"white",cursor:"pointer",fontWeight:"700",fontSize:"0.875rem",color:n.workStyle===T?"var(--primary)":"#374151",textAlign:"left",transition:"all 0.2s",fontFamily:"Plus Jakarta Sans, sans-serif"},children:T},T))})]}),v.jsx("button",{className:"btn btn-primary",onClick:p,disabled:n.categories.length===0||!n.strength||!n.value||!n.workStyle,style:{padding:"1rem",fontSize:"1rem",alignSelf:"center",width:"100%",marginTop:"1rem"},children:" Nhn t vn t AI"})]}),r===2&&v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",padding:"0 1rem"},children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"1.75rem",fontWeight:"800",marginBottom:"0.5rem"},children:"Kt qu t vn"}),v.jsx("p",{style:{color:"var(--text-light)",fontSize:"0.875rem"},children:"c phn tch bi AI HeartSpace"})]}),v.jsx("div",{className:"glass-card",children:h?v.jsxs("div",{style:{textAlign:"center",padding:"3rem"},children:[v.jsx("div",{style:{display:"inline-flex",gap:"8px",marginBottom:"1.5rem"},children:[0,.2,.4].map((T,b)=>v.jsx("div",{style:{width:"12px",height:"12px",background:"var(--primary)",borderRadius:"50%",animation:`typing 1.2s ${T}s infinite ease-in-out`}},b))}),v.jsx("p",{style:{color:"var(--text-light)",fontWeight:"600"},children:"AI ang phn tch h s..."}),v.jsx("style",{children:"@keyframes typing { 0%, 100% { transform: translateY(0); opacity: 0.4; } 50% { transform: translateY(-8px); opacity: 1; } }"})]}):v.jsx("div",{style:{lineHeight:"1.8",fontSize:"0.9375rem",color:"#1e293b",whiteSpace:"pre-wrap"},children:o})}),!h&&v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[v.jsx("button",{onClick:()=>{e(1),u("")},className:"btn",style:{padding:"0.875rem 2rem",background:"white",color:"#64748b",border:"2px solid #e2e8f0",minWidth:"150px"},children:" Lm li"}),v.jsx(We,{to:"/mbti",className:"btn btn-primary",style:{padding:"0.875rem 2rem",textDecoration:"none",border:"none",minWidth:"150px",textAlign:"center"},children:"Trc nghim MBTI "})]})]}),v.jsx("style",{children:`
                @media (max-width: 768px) {
                    .glass-card { padding: 1.25rem !important; }
                }
            `})]})},Y4=["Tt c","Tm l hc","K nng sng","Pht trin bn thn","Sc khe"],N1=[{category:"Tm l hc",title:"Hiu v cc loi cm xc",desc:"Lm th no  nhn din v chp nhn mi cm xc ca bn thn, t vui v n lo u.",color:"#ede9fe",icon:"",readTime:"5 pht"},{category:"K nng sng",title:"Vt qua p lc ng trang la",desc:"B quyt  gi vng bn lnh v khng b nh hng bi k vng qu cao t bn b xung quanh.",color:"#e0e7ff",icon:"",readTime:"7 pht"},{category:"Pht trin bn thn",title:"Sc mnh ca lng bit n",desc:"Ti sao vic thc hnh lng bit n mi ngy c th thay i cch no b bn vn hnh.",color:"#fdf2f8",icon:"",readTime:"6 pht"},{category:"Sc khe",title:"Gic ng v Sc khe tinh thn",desc:"Mi lin h mt thit gia cht lng gic ng v kh nng iu tit cm xc ca bn.",color:"#ecfdf5",icon:"",readTime:"8 pht"},{category:"Tm l hc",title:"T duy pht trin (Growth Mindset)",desc:"Cch thay i gc nhn v nhng tht bi  bin chng thnh c hi hc hi qu gi.",color:"#fff7ed",icon:"",readTime:"5 pht"},{category:"K nng sng",title:"Qun l thi gian hiu qu",desc:"Phng php Pomodoro v ma trn Eisenhower gip bn gim bt cng thng khi hc tp.",color:"#f0f9ff",icon:"",readTime:"4 pht"}],Q4=()=>{const[r,e]=L.useState("Tt c"),n=r==="Tt c"?N1:N1.filter(s=>s.category===r);return v.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"library-container mobile-padding-0",children:[v.jsxs("header",{style:{textAlign:"center",marginBottom:"clamp(2.5rem, 8vw, 4rem)",padding:"0 1rem"},children:[v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(2.25rem, 8vw, 3.5rem)",fontWeight:"800",marginBottom:"1rem",letterSpacing:"-0.02em"},children:"Th Vin Kin Thc"}),v.jsx("p",{style:{fontSize:"clamp(1rem, 4vw, 1.25rem)",color:"var(--text-light)",maxWidth:"800px",margin:"0 auto 2.5rem auto",lineHeight:"1.6"},children:"Tng hp kin thc gip bn hiu r hn v chnh mnh."}),v.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem",flexWrap:"wrap",padding:"0 0.5rem"},children:Y4.map(s=>v.jsx("button",{onClick:()=>e(s),style:{padding:"0.5rem 1.25rem",borderRadius:"999px",border:"none",background:r===s?"var(--primary)":"white",color:r===s?"white":"var(--text-light)",fontWeight:"700",fontSize:"clamp(0.8125rem, 3vw, 0.9375rem)",cursor:"pointer",transition:"all 0.2s",boxShadow:r===s?"0 10px 20px -5px rgba(139, 92, 246, 0.4)":"0 4px 6px -1px rgba(0,0,0,0.05)",fontFamily:"Plus Jakarta Sans, sans-serif"},children:s},s))})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",padding:"0 1rem"},children:n.map((s,o)=>v.jsxs("div",{className:"glass-card overflow-hidden library-article-card",style:{cursor:"pointer",transition:"all 0.3s",display:"flex",flexDirection:"column",padding:0},children:[v.jsx("div",{style:{height:"clamp(180px, 30vw, 220px)",background:s.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"clamp(3rem, 10vw, 5rem)",transition:"transform 0.5s"},children:s.icon}),v.jsxs("div",{style:{padding:"clamp(1.5rem, 5vw, 2.25rem)",flex:1,display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsx("span",{style:{fontSize:"0.7rem",fontWeight:"800",color:"var(--primary)",textTransform:"uppercase",letterSpacing:"0.05em",background:"rgba(139, 92, 246, 0.1)",padding:"0.25rem 0.625rem",borderRadius:"999px"},children:s.category}),v.jsxs("span",{style:{fontSize:"0.75rem",color:"#94a3b8",display:"flex",alignItems:"center",gap:"0.25rem"},children:[" ",s.readTime]})]}),v.jsx("h3",{style:{fontSize:"clamp(1.25rem, 5vw, 1.625rem)",fontWeight:"800",marginBottom:"0.75rem",color:"#1e293b",lineHeight:"1.3"},children:s.title}),v.jsx("p",{style:{color:"var(--text-light)",lineHeight:"1.7",marginBottom:"1.5rem",fontSize:"0.9375rem"},children:s.desc}),v.jsxs("button",{className:"read-more-btn",style:{marginTop:"auto",background:"none",border:"none",color:"var(--primary)",fontWeight:"800",fontSize:"1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",padding:0,width:"fit-content"},children:["c bi vit ",v.jsx("span",{style:{transition:"transform 0.2s"},children:""})]})]})]},o))}),v.jsx("style",{children:`
                .glass-card:hover h3 { color: var(--primary); }
                .glass-card:hover .read-more-btn span { transform: translateX(5px); }
                .glass-card:hover div:first-child { transform: scale(1.05); }

                @media (max-width: 768px) {
                    .library-article-card { border-radius: 1.5rem; }
                    .library-container { padding: 0; }
                }
            `})]})},W4=({postId:r,user:e})=>{const[n,s]=L.useState([]),[o,u]=L.useState(""),[h,m]=L.useState(!1);L.useEffect(()=>{const p=M4(r,T=>{s(T)});return()=>p()},[r]);const g=async p=>{if(p.preventDefault(),!(!o.trim()||!e)){m(!0);try{await k4(r,{text:o.trim(),authorId:e.uid,authorName:"Ngi dng"}),u("")}catch(T){console.error(T)}finally{m(!1)}}};return v.jsxs("div",{style:{marginTop:"1.5rem",background:"#f8fafc",borderRadius:"0.75rem",padding:"1rem"},children:[v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:n.map(p=>v.jsxs("div",{style:{fontSize:"0.875rem",color:"#475569"},children:[v.jsx("span",{style:{fontWeight:"700",color:"#1e293b"},children:"n danh: "}),p.text]},p.id))}),e&&v.jsxs("form",{onSubmit:g,style:{display:"flex",gap:"0.5rem"},children:[v.jsx("input",{type:"text",value:o,onChange:p=>u(p.target.value),placeholder:"Vit bnh lun...",style:{flex:1,padding:"0.5rem 0.75rem",borderRadius:"99px",border:"1px solid #e2e8f0",fontSize:"0.875rem"}}),v.jsx("button",{type:"submit",disabled:h,style:{background:"none",border:"none",color:"var(--primary)",fontWeight:"700",cursor:"pointer"},children:"Gi"})]})]})},X4=()=>{const{user:r,userProfile:e}=Cu(),[n,s]=L.useState([]),[o,u]=L.useState(""),[h,m]=L.useState(!1),[g,p]=L.useState(!1),[T,b]=L.useState(!0),[A,D]=L.useState({}),F=500;L.useEffect(()=>{const re=N4(Ee=>{s(Ee)});return()=>re()},[]);const Y=async re=>{if(re.preventDefault(),!(!o.trim()||!r)){m(!0);try{await D4({text:o.trim(),authorId:r.uid,authorName:T?"Ngi dng n danh":e?.username||"n danh",isAnonymous:T,initial:T?"":e?.username?.[0].toUpperCase()||"B"}),u(""),p(!1)}catch(Ee){console.error(Ee)}finally{m(!1)}}},K=async re=>{if(!r)return alert("Vui lng ng nhp  thch bi vit.");await O4(re,r.uid)},ie=re=>{D(Ee=>({...Ee,[re]:!Ee[re]}))},te=["#8b5cf6","#6366f1","#ec4899","#06b6d4","#10b981","#f59e0b"],ne=re=>te[re.charCodeAt(0)%te.length];return v.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",width:"100%",padding:"1rem 0"},className:"community-container",children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2.5rem",padding:"0 1rem"},children:[v.jsx("h2",{className:"hero-gradient-text",style:{fontSize:"clamp(1.75rem, 6vw, 2.5rem)",fontWeight:"800",marginBottom:"0.75rem"},children:"Cng ng Chia S"}),v.jsx("p",{style:{fontSize:"clamp(0.9375rem, 3.5vw, 1.0625rem)",color:"var(--text-light)",lineHeight:"1.6"},children:"Ni bn c th chia s cm xc v nhn s ng cm t cng ng."})]}),v.jsx("div",{className:"glass-card",style:{marginBottom:"2rem"},children:g?v.jsxs("form",{onSubmit:Y,children:[v.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[v.jsx("div",{style:{width:"2.75rem",height:"2.75rem",background:"var(--primary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"800",fontSize:"1.125rem",flexShrink:0},children:T?"":e?.username?.[0].toUpperCase()||"B"}),v.jsx("textarea",{value:o,onChange:re=>u(re.target.value.slice(0,F)),placeholder:"Chia s cm xc, suy ngh hay cu chuyn ca bn...",autoFocus:!0,rows:4,style:{flex:1,padding:"0.875rem",border:"2px solid #e2e8f0",borderRadius:"1rem",fontSize:"0.9375rem",resize:"none",outline:"none",fontFamily:"Plus Jakarta Sans, sans-serif",color:"#1e293b",lineHeight:"1.6"},onFocus:re=>re.target.style.borderColor="var(--primary)",onBlur:re=>re.target.style.borderColor="#e2e8f0"})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"0.875rem",color:"#64748b"},children:[v.jsx("input",{type:"checkbox",checked:T,onChange:re=>b(re.target.checked)}),"ng bi n danh"]}),v.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[v.jsx("button",{type:"button",onClick:()=>{p(!1),u("")},className:"btn",style:{padding:"0.625rem 1.25rem",background:"#f8fafc",color:"#64748b",border:"1px solid #e2e8f0",fontSize:"0.875rem"},children:"Hy"}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:!o.trim()||h,style:{padding:"0.625rem 1.5rem",fontSize:"0.875rem"},children:h?"ang ng...":" ng bi"})]})]})]}):v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("div",{style:{width:"2.75rem",height:"2.75rem",background:"var(--primary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"800",fontSize:"1.125rem",flexShrink:0},children:r?e?.username?.[0].toUpperCase()||"B":""}),r?v.jsx("button",{onClick:()=>p(!0),style:{flex:1,padding:"0.875rem 1.25rem",background:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"999px",textAlign:"left",color:"#94a3b8",cursor:"pointer",fontSize:"0.9375rem",fontFamily:"Plus Jakarta Sans, sans-serif",transition:"all 0.2s"},onMouseOver:re=>{re.target.style.borderColor="var(--primary)",re.target.style.background="#faf5ff"},onMouseOut:re=>{re.target.style.borderColor="#e2e8f0",re.target.style.background="#f8fafc"},children:"Hm nay bn cm thy th no? Chia s vi cng ng..."}):v.jsx("div",{style:{flex:1},children:v.jsxs("p",{style:{color:"#64748b",fontSize:"0.9375rem"},children:[v.jsx(We,{to:"/login",style:{color:"var(--primary)",fontWeight:"700",textDecoration:"none"},children:"ng nhp"}),"  chia s cu chuyn ca bn vi cng ng."]})})]})}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.length===0&&!h&&v.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Cha c bi ng no. Hy l ngi u tin chia s!"}),n.map(re=>v.jsxs("div",{className:"glass-card",children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.875rem",marginBottom:"1.25rem"},children:[v.jsx("div",{style:{width:"2.75rem",height:"2.75rem",background:ne(re.initial||"A"),color:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"800",fontSize:"1.125rem",flexShrink:0},children:re.initial}),v.jsxs("div",{children:[v.jsx("div",{style:{fontWeight:"800",color:"#1e293b",fontSize:"0.9375rem"},children:re.authorName}),v.jsx("div",{style:{fontSize:"0.8125rem",color:"#94a3b8"},children:re.createdAt?.toDate().toLocaleDateString("vi-VN")})]})]}),v.jsx("p",{style:{fontSize:"1rem",lineHeight:"1.8",color:"#475569",marginBottom:"1.5rem"},children:re.text}),v.jsxs("div",{style:{display:"flex",gap:"1.5rem",borderTop:"1px solid #f1f5f9",paddingTop:"1.25rem"},children:[v.jsxs("button",{onClick:()=>K(re.id),style:{background:"none",border:"none",color:(re.likedBy||[]).includes(r?.uid)?"#ef4444":"#94a3b8",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9375rem",transition:"all 0.2s",fontFamily:"Plus Jakarta Sans, sans-serif"},children:[(re.likedBy||[]).includes(r?.uid)?"":""," ",re.likes||0]}),v.jsxs("button",{onClick:()=>ie(re.id),style:{background:"none",border:"none",color:"#94a3b8",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9375rem",fontFamily:"Plus Jakarta Sans, sans-serif"},children:[" ",re.commentCount||0]})]}),A[re.id]&&v.jsx(W4,{postId:re.id,user:r})]},re.id))]})]})},$4=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),g=Fh(),{user:p}=Cu();if(p)return g("/"),null;const T=async A=>{A.preventDefault();try{u(""),m(!0),await w4(r,n),g("/")}catch(D){D.code==="auth/wrong-password"||D.code==="auth/invalid-credential"?u("Mt khu khng ng. Vui lng th li."):D.message==="ID khng tn ti."?u("ID ngi dng khng tn ti."):u("ng nhp tht bi. Vui lng kim tra li thng tin."),console.error(D)}finally{m(!1)}},b=async()=>{try{u(""),m(!0),await A4(),g("/")}catch(A){u("ng nhp vi Google tht bi. Vui lng th li."),console.error(A)}finally{m(!1)}};return v.jsx("div",{className:"auth-container",children:v.jsxs("div",{className:"auth-card",children:[v.jsxs("div",{className:"auth-header",children:[v.jsx("div",{className:"auth-logo",children:v.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"}})}),v.jsx("h1",{children:"Cho mng tr li"}),v.jsx("p",{children:"ng nhp  tip tc hnh trnh ca bn"})]}),o&&v.jsxs("div",{className:"auth-error",children:[" ",o]}),v.jsxs("form",{onSubmit:T,className:"auth-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"login-id",children:"ID hoc Email"}),v.jsx("input",{type:"text",id:"login-id",value:r,onChange:A=>e(A.target.value),placeholder:"Nhp ID hoc Email ca bn",required:!0,autoComplete:"username"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"login-password",children:"Mt khu"}),v.jsx("input",{type:"password",id:"login-password",value:n,onChange:A=>s(A.target.value),placeholder:"Nhp mt khu",required:!0,autoComplete:"current-password"})]}),v.jsx("button",{type:"submit",className:"auth-button",disabled:h,children:h?v.jsxs("span",{className:"btn-loading",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]}):"ng nhp"})]}),v.jsx("div",{className:"auth-divider",children:v.jsx("span",{children:"hoc"})}),v.jsxs("button",{onClick:b,className:"google-button",disabled:h,children:[v.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 48 48",children:[v.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),v.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),v.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),v.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"})]}),"ng nhp vi Google"]}),v.jsxs("div",{className:"auth-footer",children:["Cha c ti khon? ",v.jsx(We,{to:"/register",children:"ng k ngay"})]})]})})},J4=({value:r,onChange:e,options:n})=>{const[s,o]=L.useState(!1),u=L.useRef(null),h=n.find(m=>m.value===r);return L.useEffect(()=>{const m=g=>{u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),v.jsxs("div",{ref:u,style:{position:"relative"},children:[v.jsxs("button",{type:"button",onClick:()=>o(!s),style:{width:"100%",padding:"0.75rem 1rem",border:`2px solid ${s?"#8b5cf6":"#e2e8f0"}`,borderRadius:"0.875rem",fontSize:"0.9375rem",color:"#1e293b",background:s?"white":"#f8fafc",boxShadow:s?"0 0 0 3px rgba(139, 92, 246, 0.1)":"none",transition:"all 0.2s",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",fontFamily:"Plus Jakarta Sans, sans-serif",fontWeight:"600",textAlign:"left"},children:[v.jsx("span",{children:h?.label}),v.jsx("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",style:{color:"#8b5cf6",transition:"transform 0.2s",transform:s?"rotate(180deg)":"rotate(0deg)",flexShrink:0},children:v.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),s&&v.jsx("div",{style:{position:"absolute",top:"calc(100% + 6px)",left:0,right:0,background:"white",border:"1px solid #e2e8f0",borderRadius:"0.875rem",boxShadow:"0 10px 30px -8px rgba(0,0,0,0.15)",zIndex:50,overflow:"hidden",animation:"dropdownIn 0.12s ease-out"},children:n.map(m=>v.jsxs("button",{type:"button",onClick:()=>{e(m.value),o(!1)},style:{width:"100%",padding:"0.75rem 1rem",background:r===m.value?"rgba(139, 92, 246, 0.08)":"white",border:"none",textAlign:"left",cursor:"pointer",fontSize:"0.9375rem",fontWeight:r===m.value?"700":"500",color:r===m.value?"#7c3aed":"#374151",fontFamily:"Plus Jakarta Sans, sans-serif",display:"flex",alignItems:"center",gap:"0.5rem",transition:"background 0.15s"},onMouseOver:g=>{r!==m.value&&(g.currentTarget.style.background="#f5f3ff")},onMouseOut:g=>{r!==m.value&&(g.currentTarget.style.background="white")},children:[v.jsx("span",{children:m.emoji}),m.label,r===m.value&&v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 20 20",fill:"currentColor",style:{marginLeft:"auto",color:"#7c3aed"},children:v.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},m.value))})]})},Z4=[{value:"male",label:"Nam",emoji:""},{value:"female",label:"N",emoji:""},{value:"other",label:"Khc / Khng mun ni",emoji:""}],eD=()=>{const[r,e]=L.useState({id:"",email:"",password:"",confirmPassword:"",dob:"",gender:"other"}),[n,s]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),g=Fh(),{user:p}=Cu();if(p)return g("/"),null;const T=D=>{e({...r,[D.target.name]:D.target.value})},b=D=>D.length<4?"ID phi c t nht 4 k t.":/^[a-zA-Z0-9_]+$/.test(D)?null:"ID ch c cha ch ci, s v du gch di.",A=async D=>{D.preventDefault();const F=b(r.id);if(F){s(F);return}if(!r.email.includes("@")){s("Vui lng nhp email hp l.");return}if(r.password.length<6){s("Mt khu phi c t nht 6 k t.");return}if(r.password!==r.confirmPassword){s("Mt khu xc nhn khng khp.");return}if(!r.dob){s("Vui lng nhp ngy sinh.");return}try{s(""),m(!0),await S4(r),u("ng k thnh cng! Vui lng kim tra email  xc thc ti khon."),setTimeout(()=>g("/"),3e3)}catch(Y){Y.code==="auth/email-already-in-use"?s("Email ny  c s dng. Vui lng dng email khc."):s(Y.message||"ng k tht bi. Vui lng th li."),console.error(Y)}finally{m(!1)}};return v.jsx("div",{className:"auth-container",children:v.jsxs("div",{className:"auth-card",children:[v.jsxs("div",{className:"auth-header",children:[v.jsx("div",{className:"auth-logo",children:v.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"1rem"}})}),v.jsx("h1",{children:"To ti khon"}),v.jsx("p",{children:"Tham gia cng ng HeartSpace ngay hm nay"})]}),n&&v.jsxs("div",{className:"auth-error",children:[" ",n]}),o&&v.jsxs("div",{className:"auth-success",children:[" ",o]}),v.jsxs("form",{onSubmit:A,className:"auth-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"reg-id",children:["ID Ngi dng ",v.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),v.jsx("input",{type:"text",id:"reg-id",name:"id",value:r.id,onChange:T,placeholder:"V d: nhatdang123 (dng  ng nhp)",required:!0,autoComplete:"username"}),v.jsx("small",{style:{color:"#94a3b8",fontSize:"0.75rem"},children:"Ch cha ch ci, s v du gch di"})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"reg-email",children:["Email ",v.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),v.jsx("input",{type:"email",id:"reg-email",name:"email",value:r.email,onChange:T,placeholder:"example@gmail.com",required:!0,autoComplete:"email"})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"reg-password",children:["Mt khu ",v.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),v.jsx("input",{type:"password",id:"reg-password",name:"password",value:r.password,onChange:T,placeholder:"Ti thiu 6 k t",required:!0,minLength:"6",autoComplete:"new-password"})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"reg-confirm",children:["Xc nhn mt khu ",v.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),v.jsx("input",{type:"password",id:"reg-confirm",name:"confirmPassword",value:r.confirmPassword,onChange:T,placeholder:"Nhp li mt khu",required:!0,autoComplete:"new-password"})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{htmlFor:"reg-dob",children:["Ngy sinh ",v.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),v.jsx("input",{type:"date",id:"reg-dob",name:"dob",value:r.dob,onChange:T,required:!0,max:new Date().toISOString().split("T")[0]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Gii tnh"}),v.jsx(J4,{value:r.gender,onChange:D=>e(F=>({...F,gender:D})),options:Z4})]})]}),v.jsx("div",{style:{marginBottom:"1.5rem"},children:v.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",fontSize:"0.875rem",color:"#64748b"},children:[v.jsx("input",{type:"checkbox",required:!0,style:{marginTop:"0.25rem",cursor:"pointer",width:"1.125rem",height:"1.125rem",accentColor:"var(--primary)"}}),v.jsxs("span",{children:["Ti  c v ng  vi ",v.jsx(We,{to:"/privacy",target:"_blank",style:{color:"var(--primary)",fontWeight:"700",textDecoration:"none"},children:"Chnh sch bo mt"})," ca HeartSpace."]})]})}),v.jsx("button",{type:"submit",className:"auth-button",disabled:h,children:h?v.jsxs("span",{className:"btn-loading",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]}):"To ti khon"})]}),v.jsxs("div",{className:"auth-footer",children:[" c ti khon? ",v.jsx(We,{to:"/login",children:"ng nhp"})]})]})})},tD=()=>v.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"4rem 2rem",color:"#334155",lineHeight:"1.8"},children:[v.jsx("h1",{className:"hero-gradient-text",style:{fontSize:"2.5rem",fontWeight:"800",marginBottom:"2rem"},children:"Chnh sch bo mt HeartSpace"}),v.jsxs("section",{style:{marginBottom:"2.5rem"},children:[v.jsx("h2",{style:{fontSize:"1.5rem",color:"#1e293b",marginBottom:"1rem"},children:"1. Thu thp thng tin"}),v.jsx("p",{children:"HeartSpace thu thp cc thng tin c bn khi bn ng k ti khon, bao gm: ID ngi dng, email, ngy sinh v gii tnh. Chng ti cng lu tr cc bi ng v tng tc ca bn trn nn tng  cung cp tri nghim cng ng tt nht."})]}),v.jsxs("section",{style:{marginBottom:"2.5rem"},children:[v.jsx("h2",{style:{fontSize:"1.5rem",color:"#1e293b",marginBottom:"1rem"},children:"2. S dng thng tin"}),v.jsx("p",{children:"Thng tin ca bn c s dng :"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Xc thc danh tnh v bo mt ti khon."}),v.jsx("li",{children:"Cung cp tnh nng chatbot AI c nhn ha."}),v.jsx("li",{children:"Hin th cc bi ng trong cng ng mt cch an ton (n danh theo la chn ca bn)."}),v.jsx("li",{children:"Gi cc thng bo quan trng v h thng."})]})]}),v.jsxs("section",{style:{marginBottom:"2.5rem"},children:[v.jsx("h2",{style:{fontSize:"1.5rem",color:"#1e293b",marginBottom:"1rem"},children:"3. Bo mt thng tin"}),v.jsx("p",{children:'Chng ti s dng cng ngh Firebase ca Google  lu tr v bo v d liu ca bn. Mi bi ng trong mc Cng ng u mc nh hin th di tn "Ngi dng n danh"  bo v s ring t tuyt i cho cm xc ca bn.'})]}),v.jsxs("section",{style:{marginBottom:"2.5rem"},children:[v.jsx("h2",{style:{fontSize:"1.5rem",color:"#1e293b",marginBottom:"1rem"},children:"4. Quyn ca ngi dng"}),v.jsx("p",{children:"Bn c quyn thay i thng tin c nhn, cp nht mt khu hoc yu cu xa ti khon bt c lc no thng qua trang Ci t ti khon."})]}),v.jsx("div",{style:{marginTop:"4rem",padding:"2rem",background:"#f8fafc",borderRadius:"1rem",textAlign:"center"},children:v.jsxs("p",{style:{fontSize:"0.875rem",color:"#64748b"},children:["Cp nht ln cui: 22 thng 02, 2026. ",v.jsx("br",{}),"Mi thc mc vui lng lin h: support@heartspace.vn"]})})]}),nD=()=>{const{user:r,userProfile:e}=Cu(),[n,s]=L.useState(!1),[o,u]=L.useState(""),[h,m]=L.useState(""),[g,p]=L.useState({username:"",dob:"",gender:"",photoURL:""}),[T,b]=L.useState({newPassword:"",confirmPassword:""}),[A,D]=L.useState("");L.useEffect(()=>{e&&(p({username:e.username||"",dob:e.dob||"",gender:e.gender||"",photoURL:e.photoURL||""}),D(e.email||""))},[e]);const F=async ne=>{ne.preventDefault();try{s(!0),u(""),await x4(r.uid,g),m("Cp nht thng tin thnh cng!")}catch(re){u(re.message)}finally{s(!1)}},Y=async ne=>{if(ne.preventDefault(),T.newPassword!==T.confirmPassword)return u("Mt khu xc nhn khng khp.");try{s(!0),u(""),await I4(T.newPassword),m("i mt khu thnh cng!"),b({newPassword:"",confirmPassword:""})}catch{u("Vui lng ng nhp li  thc hin thay i ny.")}finally{s(!1)}},K=async()=>{try{s(!0),u(""),await R4(),m(" lin kt vi Google!")}catch(ne){u(ne.message)}finally{s(!1)}},ie=async()=>{try{s(!0),u(""),await C4(),m(" hy lin kt Google.")}catch(ne){u(ne.message)}finally{s(!1)}},te=r?.providerData.some(ne=>ne.providerId==="google.com");return v.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"3rem 1.5rem"},children:[v.jsx("h1",{className:"hero-gradient-text",style:{fontSize:"2.5rem",fontWeight:"800",marginBottom:"2rem"},children:"Ci t ti khon"}),o&&v.jsxs("div",{className:"auth-error",style:{marginBottom:"1.5rem"},children:[" ",o]}),h&&v.jsxs("div",{className:"auth-success",style:{marginBottom:"1.5rem"},children:[" ",h]}),v.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[v.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[v.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"1.5rem",color:"#1e293b"},children:" Thng tin c nhn"}),v.jsxs("form",{onSubmit:F,style:{display:"grid",gap:"1.25rem"},children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"ID Ngi dng (Username)"}),v.jsx("input",{type:"text",value:g.username,onChange:ne=>p({...g,username:ne.target.value}),placeholder:"Username"})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Ngy sinh"}),v.jsx("input",{type:"date",value:g.dob,onChange:ne=>p({...g,dob:ne.target.value})})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Gii tnh"}),v.jsxs("select",{value:g.gender,onChange:ne=>p({...g,gender:ne.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"0.875rem",border:"2px solid #e2e8f0",background:"#f8fafc"},children:[v.jsx("option",{value:"male",children:"Nam"}),v.jsx("option",{value:"female",children:"N"}),v.jsx("option",{value:"other",children:"Khc"})]})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Link nh i din (URL)"}),v.jsx("input",{type:"text",value:g.photoURL,onChange:ne=>p({...g,photoURL:ne.target.value}),placeholder:"https://..."})]}),v.jsx("button",{type:"submit",className:"auth-button",disabled:n,style:{width:"fit-content",padding:"0.75rem 2rem"},children:"Lu thng tin"})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[v.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"1.5rem",color:"#1e293b"},children:" Bo mt"}),v.jsx("div",{style:{paddingBottom:"1.5rem",borderBottom:"1px solid #f1f5f9",marginBottom:"1.5rem"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"1rem",marginBottom:"0.25rem"},children:"Ti khon Google"}),v.jsx("p",{style:{fontSize:"0.875rem",color:"#64748b"},children:te?"ang lin kt":"Cha lin kt"})]}),te?v.jsx("button",{onClick:ie,className:"btn",style:{padding:"0.5rem 1rem",border:"1px solid #ef4444",color:"#ef4444"},children:"Hy lin kt"}):v.jsx("button",{onClick:K,className:"btn btn-primary",style:{padding:"0.5rem 1rem"},children:"Lin kt"})]})}),v.jsxs("form",{onSubmit:Y,style:{display:"grid",gap:"1.25rem"},children:[v.jsx("h3",{style:{fontSize:"1rem"},children:"i mt khu"}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[v.jsx("div",{className:"form-group",children:v.jsx("input",{type:"password",placeholder:"Mt khu mi",value:T.newPassword,onChange:ne=>b({...T,newPassword:ne.target.value}),required:!0})}),v.jsx("div",{className:"form-group",children:v.jsx("input",{type:"password",placeholder:"Xc nhn mt khu",value:T.confirmPassword,onChange:ne=>b({...T,confirmPassword:ne.target.value}),required:!0})})]}),v.jsx("button",{type:"submit",className:"auth-button",disabled:n,style:{width:"fit-content",padding:"0.75rem 2rem"},children:"i mt khu"})]})]})]})]})};function iD(){return v.jsx(j4,{children:v.jsx(UA,{children:v.jsx(L4,{children:v.jsxs(gA,{children:[v.jsx(An,{path:"/",element:v.jsx(P4,{})}),v.jsx(An,{path:"/chatbot",element:v.jsx(z4,{})}),v.jsx(An,{path:"/mbti",element:v.jsx(H4,{})}),v.jsx(An,{path:"/test",element:v.jsx(q4,{})}),v.jsx(An,{path:"/emotion",element:v.jsx(G4,{})}),v.jsx(An,{path:"/career",element:v.jsx(K4,{})}),v.jsx(An,{path:"/library",element:v.jsx(Q4,{})}),v.jsx(An,{path:"/community",element:v.jsx(X4,{})}),v.jsx(An,{path:"/login",element:v.jsx($4,{})}),v.jsx(An,{path:"/register",element:v.jsx(eD,{})}),v.jsx(An,{path:"/settings",element:v.jsx(nD,{})}),v.jsx(An,{path:"/privacy",element:v.jsx(tD,{})})]})})})})}vw.createRoot(document.getElementById("root")).render(v.jsx(L.StrictMode,{children:v.jsx(iD,{})}));
